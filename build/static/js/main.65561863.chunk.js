(this.webpackJsonpkgs=this.webpackJsonpkgs||[]).push([[0],{229:function(e,t,i){},473:function(e,t,i){},474:function(e,t,i){"use strict";i.r(t);var n=i(0),l=i(1),a=i.n(l),o=i(33),r=i.n(o),s=i(23),d=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,492)).then((function(t){var i=t.getCLS,n=t.getFID,l=t.getFCP,a=t.getLCP,o=t.getTTFB;i(e),n(e),l(e),a(e),o(e)}))},c=i(38),u=i(3),v=i(15),j=i(16),b=i(40),m=i(18),h=i(17),p=i(10),O={SIGN_IN_REQUEST:"SIGN_IN_REQUEST",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAIL:"SIGN_IN_FAIL",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",LOGOUT_REQUEST:"LOGOUT_REQUEST"},g=i(138),x=(i(228),i(7)),f=i.n(x);g.a.configure();var _={},E=["#a67d01","gold","pink","magenta","orange","#3ac48a","#fdcb7e","#ffa16c","#697789","#9eabb9","#c2ccd7","#329aff","#4ed6e7","#ff6378","#893037","#606371","#E55B5B","#2F5090","#196EEF","#5C33D1","#9B51E0"],N=0;var y,S,C=function(e){if(e=e&&e.trim()){var t=e[0]||"",i=e.indexOf(" ");return i<e.length&&i>1&&(t+=e[i+1]),t.toUpperCase()}},w=function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)},T=function(e){return/^[1-9]{1}[0-9]{9}$/.test(e)},A=function(e){return Number(e)&&e>0},R=function(e){return/[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e)},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length>=4},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=e.toLowerCase().trim()).includes("wow express")?"/images/wow.png":e.includes("delhivery")||e.includes("delhivery air")?"/images/delhivery_air.png":e.includes("delhivery surface")?"/images/delhiverysurface.jpg":e.includes("xpressbees")||e.includes("xpressbees air")||e.includes("xpressbees surface")?"/images/xpressbees_air.jpg":e.includes("spoton")?"/img/spoton.png":e.includes("shadowfax")?"/img/shadow.png":e.includes("dtdc")?"/img/dtdc.png":e.includes("blue dart")?"/img/bluedart.png":"/img/logo.svg"},L=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},l={position:"top-right",autoClose:i,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:n};"default"===(null===e||void 0===e?void 0:e.toLowerCase())?Object(g.a)(t,l):g.a[e](t,l)},U=function(){var e=f()().date(1),t=f()().date(f()().daysInMonth()),i=e.week(),n=t.week();return n<i?e.weeksInYear()-i+1+n:n-i+1},P=i(80),F=function(){var e=localStorage.getItem("jwt");if(e){var t=Object(P.a)(e),i=new Date;if(t.exp>i.getTime()/1e3)return!0}return!1},I=(i(229),function(e){var t=e.style,i=e.containerClassName,l=void 0===i?"form-group":i,a=e.labelClassName,o=e.labelText,r=void 0===o?"":o,s=e.inputClassName,d=void 0===s?"form-control":s,c=e.value,u=void 0===c?"":c,v=e.placeholder,j=void 0===v?"":v,b=e.errorClassName,m=void 0===b?"invalid-feedback":b,h=e.errorText,p=e.onChange,O=void 0===p?function(e){return e}:p,g=e.disabled,x=void 0!==g&&g,f=(e.disabledStyle,e.isPasswordText),_=void 0!==f&&f,E=e.isRequired,N=void 0!==E&&E,y=e.cols,S=void 0===y?"":y,C=e.autoFocus,w=void 0!==C&&C,T=e.onKeyUp,A=_?"password":"text",R=!!h;return!j&&r&&(j="Enter ".concat(r)),Object(n.jsxs)("div",{className:l,"data-title":x&&u?u:void 0,children:[r&&Object(n.jsxs)("label",{className:a,children:[r,N&&!x&&Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),S?Object(n.jsx)("textarea",{className:"".concat(d," ").concat(R&&"is-invalid"),style:t,placeholder:j,value:u,onChange:O,disabled:x,cols:S,autoFocus:w}):Object(n.jsx)("input",{type:A,className:"".concat(d," ").concat(R&&"is-invalid"),style:t,placeholder:j,value:_&&x?"********":u,onChange:O,disabled:x,autoFocus:w,onKeyUp:T}),R&&Object(n.jsx)("div",{className:m,children:h})]})}),M=i(4),H=i(22),B=i(30),G=i(88),Q=function(e){var t=e.show,i=void 0!==t&&t,l=e.handleClose,a=e.title,o=void 0===a?"":a,r=e.footerComponent,s=e.children;return Object(n.jsxs)(G.a,{show:i,onHide:l,backdrop:"static",children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:o})}),Object(n.jsx)(G.a.Body,{children:s}),!!r&&Object(n.jsx)(G.a.Footer,{children:r()})]})},W=i(9),Y=i.n(W);S=window.location.hostname,y="https://www.kcs-electrical.com",console.log("url",S);var q="".concat(y,"/api/v1"),K={SOCKET_URL:y,SIGN_UP_URL:q+"/signup",SIGN_IN_URL:q+"/signin",FORGOT_PASSWORD_URL:q+"/forgot-password",ORDER_URL:q+"/order",ORDERS_URL:q+"/orders",RAISE_WEIGHT_DISPUTE_URL:q+"/orders/weight-dispute-raised",SETTLE_WEIGHT_DISPUTE_URL:q+"/orders/weight-dispute-settled",ORDER_INVOICE_DOWNLOAD:q+"/orders/invoice-download",RTO_ORDER_URL:q+"/orders/rto-order",BULK_URL:q+"/bulk",BULKS_URL:q+"/bulks",REPORTS_URL:q+"/reports",GLOBAL_DASHBOARD_URL:q+"/global/dashboard",DASHBOARD_URL:q+"/reports/fetch/dashboard",DASHBOARD_DOWNLOAD:q+"/reports/fetch/dashboard-download",USERS_URL:q+"/users",USERS_USAGE_URL:q+"/users/usage",USERS_PICKUP_ADDRESS:q+"/users/add_pickup_address",USERS_UPDATE_PICKUP_ADDRESS:q+"/users/update_pickup_address",RESET_PASSWORD_URL:q+"/users/set-forgot-password",BANK_DETAIL_URL:q+"/users/bankdetail",INVITE_USER_URL:q+"/users/invite-user",DEPARTMENT_URL:q+"/department",DEPARTMENTS_URL:q+"/departments",PLAN_URL:q+"/plan",PLANS_URL:q+"/plans",ROLE_URL:q+"/roles",CODES_URL:q+"/codes",PLAN_INFO_URL:q+"/getLogisticsAttachment",LOGISTICS_URL:q+"/logistics",ATTACHMENTS_UPLOAD:q+"/attachments",ATTACHMENTS_DOWNLOAD:q+"/attachments-download",ATTACHMENTS_FILE:q+"/attachments-file",WALLET_URL:q+"/wallets",COMMENTS_URL:q+"/comments",REMITTANCE_URL:q+"/remittance",WEIGHT_DISPUTE_URL:q+"/weightDispute",GET_METRIC_URL:q+"/orders/get_metric",FEEDBACKS_URL:q+"/feedbacks",CAREER_APPLY_NOW_URL:q+"/career/apply-now",TRACK_MY_URL:q+"/track-my-order",RESET_GLOBAL_PASSWORD_URL:q+"/global/reset-password/"},z=function(e){var t=e.show,i=void 0!==t&&t,a=e.title,o=void 0===a?o:a,r=e.handleClose,d=void 0===r?function(){}:r,c=(Object(B.a)(e,["show","title","handleClose"]),Object(l.useState)({isLoading:!1,name:"",number:"",email:"",company_name:"",location:"",isAgree:!1,name_err:"",number_err:"",email_err:"",company_name_err:"",location_err:""})),v=Object(H.a)(c,2),j=v[0],b=v[1],m=j.isLoading,h=j.name,p=j.number,O=j.email,g=j.company_name,x=j.location,f=j.isAgree;Object(l.useEffect)((function(){i||b({isLoading:!1,name:"",number:"",email:"",company_name:"",location:"",isAgree:!1,name_err:"",number_err:"",email_err:"",company_name_err:"",location_err:""})}),[i]);var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n,l=t?i.target.checked:i.target.value;"number"===e&&(l=l.replace(/[^0-9]/g,"")),b(Object(M.a)(Object(M.a)({},j),{},(n={},Object(u.a)(n,e,l),Object(u.a)(n,"name_err",""),Object(u.a)(n,"number_err",""),Object(u.a)(n,"email_err",""),Object(u.a)(n,"company_name_err",""),Object(u.a)(n,"location_err",""),n)))}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Q,{show:i,title:o,handleClose:d,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsxs)("form",{action:"#",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Name",placeholder:"Enter your name",isRequired:!0,value:h,onChange:_("name"),errorText:j.name_err,disabled:m})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Number",placeholder:"Enter your number",isRequired:!0,value:p,onChange:_("number"),errorText:j.number_err,disabled:m})}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Email",placeholder:"Enter your email",isRequired:!0,value:O,onChange:_("email"),errorText:j.email_err,disabled:m})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Company Name",placeholder:"Enter your company name",isRequired:!0,value:g,onChange:_("company_name"),errorText:j.company_name_err,disabled:m})}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Location",placeholder:"Enter your location",isRequired:!0,value:x,onChange:_("location"),errorText:j.location_err,disabled:m})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)("div",{className:"form-check",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",value:"",checked:f,onChange:_("isAgree",!0),disabled:m}),Object(n.jsxs)("span",{children:["I agree to the ",Object(n.jsx)(s.c,{to:"/TermsAndConditions",target:"_blank",children:"Terms and conditions"})," and ",Object(n.jsx)(s.c,{to:"/PrivacyPolicy",target:"_blank",children:"Privacy Policy"})]})]})})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 text-center",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary text-white",onClick:function(){var e={name:h,number:p,email:O,company_name:g,location:x};(function(){var e=!1,t="",i="",n="",l="",a="";return h||(t="Please enter your name",e=!0),p?T(p)||(i="Please enter valid number",e=!0):(i="Please enter your number",e=!0),O?w(O)||(n="Please enter valid email",e=!0):(n="Please enter your email",e=!0),g||(l="Please enter your company name",e=!0),x||(a="Please enter your location",e=!0),b(Object(M.a)(Object(M.a)({},j),{},{name_err:t,number_err:i,email_err:n,company_name_err:l,location_err:a})),e})()||(b(Object(M.a)(Object(M.a)({},j),{},{isLoading:!0})),Y()({url:K.FEEDBACKS_URL,method:"POST",data:e}).then((function(e){var t=e.data,i=null===t||void 0===t?void 0:t.meta;(null===i||void 0===i?void 0:i.success)&&200===(null===i||void 0===i?void 0:i.status)?(L("success","Thanks for reaching out to us. Our executive will get back to you shortly."),d()):(L("error",i.message),b(Object(M.a)(Object(M.a)({},j),{},{isLoading:!1})))})).catch((function(e){L("error","There is some error while sending data!"),console.log("GET IN TOUCH ",e),b(Object(M.a)(Object(M.a)({},j),{},{isLoading:!1}))})))},disabled:m||!f,children:m?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Saving..."})]}):"Submit"})})})]})})})})})},V=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).handelChange=function(e){return function(t){var i;n.state.isLoading||n.setState((i={},Object(u.a)(i,e,t.target.value),Object(u.a)(i,"emailError",""),Object(u.a)(i,"passwordError",""),Object(u.a)(i,"error",{}),i))}},n.onSubmit=function(e){var t=n.state,i=t.email,l=t.password;if(e.preventDefault(),i=i.trim().toLowerCase(),n.setState({isLoading:!0}),w(i)&&k(l))n.props.signInRequest({email:i,password:l});else{var a="",o="";0===i.length?a="Please enter your email":w(i)||(a="Please provide a valid email"),0===l.length?o="Please enter password":k(l)||(o="Password at least 4 characters"),n.setState({emailError:a,passwordError:o,isLoading:!1})}},n.state={email:"",password:"",isLoading:!1,emailError:"",passwordError:"",error:{},showGetinTouchPopup:!1},n.GetinTouch=n.GetinTouch.bind(Object(b.a)(n)),n}return Object(j.a)(i,[{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.isLoading,n=t.err;n&&e.isLoading&&!i&&this.setState({error:n,isLoading:!1})}},{key:"GetinTouch",value:function(){this.setState((function(e){return{showGetinTouchPopup:!e.showGetinTouchPopup}}))}},{key:"render",value:function(){var e,t,i=this.state,l=i.email,a=i.password,o=i.emailError,r=i.passwordError,s=i.isLoading,d=i.error;return F()?Object(n.jsx)(c.a,{to:"/app/dashboard"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{id:"layout-wrapper",children:Object(n.jsx)("div",{className:"pagee main-signin-wrapperr",children:Object(n.jsx)("div",{className:"row signpages text-center",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"row row-sm",children:[Object(n.jsx)("div",{className:"col-lg-6 col-xl-6 d-none d-lg-block text-center  details",children:Object(n.jsxs)("div",{className:"mt-3 p-2",children:[Object(n.jsx)("img",{style:{width:150,height:100},src:"img/logo.jpeg",className:"header-brand-img mb-4",alt:"logo"}),Object(n.jsx)("div",{className:"clearfix"}),Object(n.jsx)("img",{src:"img/engine.png",className:"ht-100 mb-0",alt:"user"})]})}),Object(n.jsx)("div",{className:"col-lg-6 col-xl-6 col-xs-12 col-sm-12 login_form ",children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row row-sm",children:Object(n.jsx)("div",{className:"card-body mt-2 mb-2",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("h5",{className:"text-left mb-2 font-20",children:"Signin to Your Account"}),Object(n.jsx)("p",{className:"mb-4 text-muted tx-13 ml-0 text-left",children:"Signin to create, discover and connect with KCS electrical"}),Object(n.jsx)(I,{containerClassName:"form-group text-left",labelText:"Email",value:l,placeholder:"Enter your email",onChange:this.handelChange("email"),errorText:o}),Object(n.jsx)(I,{containerClassName:"form-group text-left",labelText:"Password",value:a,placeholder:"Enter your password",onChange:this.handelChange("password"),errorText:r,isPasswordText:!0}),Object(n.jsx)("button",{className:"btn btn-primary btn-block isLoading",onClick:this.onSubmit,disabled:s,children:s?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Loading..."})]}):"Sign In"}),!!(null===d||void 0===d||null===(e=d.meta)||void 0===e?void 0:e.message)&&Object(n.jsx)("div",{className:"alert alert-danger",style:{marginTop:10},children:null===d||void 0===d||null===(t=d.meta)||void 0===t?void 0:t.message})]})})})})})]})})})})})}),Object(n.jsx)(z,{show:this.state.showGetinTouchPopup,handleClose:this.GetinTouch,title:"Register with Us"})]})}}]),i}(l.Component),J=Object(p.b)((function(e){var t,i,n;return{isLoading:null===e||void 0===e||null===(t=e.token)||void 0===t?void 0:t.loading,data:null===e||void 0===e||null===(i=e.token)||void 0===i?void 0:i.data,err:null===e||void 0===e||null===(n=e.token)||void 0===n?void 0:n.error}}),(function(e){return{signInRequest:function(t){return e(function(e){return{type:O.SIGN_IN_REQUEST,payload:e}}(t))}}}))(V),X=function(){return Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)(c.b,{exact:!0,path:"/login",component:J})})},$=i(207),Z=function(){Object($.a)(Y.a,{retries:5,retryDelay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return console.log("retry called"),400*e}}),Y.a.interceptors.request.use((function(e){return e.headers.Authorization=e.headers.Authorization||"Bearer ".concat(localStorage.getItem("jwt")),"get"===e.method&&(e.params||(e.params={offset:0}),e.params.limit=e.params.limit||30),e}))},ee=(i(251),i(489)),te=i(24),ie=function(e){var t,i,l,a,o,r,d,c,u,v,j,b=((null===(t=e.loggedInUser)||void 0===t||null===(i=t.role)||void 0===i||null===(l=i._id)||void 0===l?void 0:l.permissions)||{}).global_password,m=void 0===b?{}:b;return Object(n.jsx)("header",{id:"page-topbar",children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"navbar-header",children:[Object(n.jsxs)("div",{className:"d-flex col-lg-3",children:[Object(n.jsx)("div",{className:"navbar-brand-box",children:Object(n.jsxs)(s.b,{to:"/app/dashboard",className:"logo logo-dark d-inline-block",children:[Object(n.jsx)("span",{className:"logo-sm",children:Object(n.jsx)("img",{src:"/img/logo.jpeg",alt:"",height:"52"})}),Object(n.jsx)("span",{className:"logo-lg",children:Object(n.jsx)("img",{src:"/img/logo.jpeg",alt:"",height:"65"})})]})}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm px-3 font-size-16 header-item",id:"vertical-menu-btn",onClick:e.toggleSideBar,children:Object(n.jsx)("span",{children:Object(n.jsx)(te.a,{content:e.showSideBar?"Hide sidebar":"Show sidebar",children:Object(n.jsx)("i",{className:"fa fa-fw fa-bars"})})})})]}),Object(n.jsxs)("div",{className:"d-flex col-lg-4 justify-content-end",children:[Object(n.jsxs)("div",{className:"dropdown d-inline-block d-lg-none ml-2",children:[Object(n.jsx)("button",{type:"button",className:"btn header-item noti-icon",id:"page-header-search-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(n.jsx)("i",{className:"mdi mdi-magnify"})}),Object(n.jsx)("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right p-0","aria-labelledby":"page-header-search-dropdown",children:Object(n.jsx)("form",{className:"p-3",children:Object(n.jsx)("div",{className:"form-group m-0",children:Object(n.jsxs)("div",{className:"input-group",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Search ...","aria-label":"Recipient's username"}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{className:"btn btn-primary",type:"submit",children:Object(n.jsx)("i",{className:"mdi mdi-magnify"})})})]})})})})]}),(null===m||void 0===m?void 0:m.show)&&Object(n.jsx)("div",{className:"dropdown d-none d-lg-inline-block ml-1",children:Object(n.jsx)("button",{type:"button",className:"btn header-item noti-icon",onClick:function(){return e.handleChangePasswordModal(!0)},children:Object(n.jsx)(te.a,{content:"Global Password",children:Object(n.jsx)("i",{className:"fas fa-key"})})})}),Object(n.jsx)("div",{className:"dropdown d-none d-lg-inline-block ml-1",children:Object(n.jsx)("button",{type:"button",className:"btn header-item noti-icon",children:Object(n.jsx)("i",{className:"ti ti-headphone-alt"})})}),Object(n.jsxs)("div",{className:"dropdown d-inline-block",children:[Object(n.jsxs)(ee.a,{children:[Object(n.jsxs)(ee.a.Toggle,{className:"btn header-item d-flex align-items-center",style:{backgroundColor:"#fff",color:"#555b6d"},children:[Object(n.jsx)("span",{style:{background:(v=null===e||void 0===e||null===(a=e.loggedInUser)||void 0===a?void 0:a._id,v?(_.hasOwnProperty(v)||(_[v]=E[N],N+=1,N%=E.length),j?"".concat(_[v]).concat(j):_[v]):E[Math.floor(Math.random()*E.length)]),fontSize:14,display:"inline-block",width:32,height:32,lineHeight:"32px",borderRadius:"50%",color:"white"},className:"mr-2",children:C((null===e||void 0===e||null===(o=e.loggedInUser)||void 0===o?void 0:o.name)||(null===e||void 0===e||null===(r=e.loggedInUser)||void 0===r?void 0:r.email))}),Object(n.jsxs)("div",{className:"text-left",children:[Object(n.jsxs)("p",{className:"mb-0",children:[(null===e||void 0===e||null===(d=e.loggedInUser)||void 0===d?void 0:d.name)?"".concat(null===e||void 0===e||null===(c=e.loggedInUser)||void 0===c?void 0:c.name):null===e||void 0===e||null===(u=e.loggedInUser)||void 0===u?void 0:u.email,Object(n.jsx)("i",{className:"mdi mdi-chevron-down d-xl-inline-block ml-1"})]},"t-henry"),Object(n.jsx)("p",{"data-title":"Role",style:{color:"#2f54eb",background:"#f0f5ff",borderColor:"#adc6ff",borderRadius:"3px",fontSize:"11px",paddingTop:"2px",paddingBottom:"2px"},className:"w-auto pl-2 pr-2 d-inline-block mb-0",children:"Admin"})]})]}),Object(n.jsxs)(ee.a.Menu,{className:"dropdown-menu dropdown-menu-right",children:[Object(n.jsxs)(ee.a.Item,{className:"dropdown-item d-block",onClick:function(){return e.history.push("/app/editProfile")},children:[Object(n.jsx)("i",{className:"fe fe-edit font-size-18 align-middle mr-1"}),Object(n.jsx)("span",{children:"Edit Profile"},"t-settings")]}),Object(n.jsxs)(ee.a.Item,{className:"dropdown-item d-block pointer",onClick:e.logOut,children:[Object(n.jsx)("i",{className:"fe fe-power font-size-18 align-middle mr-1"}),Object(n.jsx)("span",{children:"Log Out"},"t-settings")]})]})]}),Object(n.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[Object(n.jsxs)(s.b,{className:"dropdown-item d-block",to:"/app/editProfile",children:[Object(n.jsx)("i",{className:"fe fe-edit font-size-18 align-middle mr-1"}),Object(n.jsx)("span",{children:"Edit Profile"},"t-settings")]}),Object(n.jsxs)(s.b,{className:"dropdown-item d-block",to:"/app/AccountCreation",children:[Object(n.jsx)("i",{className:"fe fe-settings font-size-18 align-middle mr-1"}),Object(n.jsx)("span",{children:"Account Settings"},"t-settings")]}),Object(n.jsxs)(s.b,{className:"dropdown-item d-block",onClick:e.logOut,children:[Object(n.jsx)("i",{className:"fe fe-power font-size-18 align-middle mr-1"}),Object(n.jsx)("span",{children:"Log Out"},"t-settings")]})]})]})]})]})})})},ne=function(e){var t,i,l=null===(t=window)||void 0===t||null===(i=t.location)||void 0===i?void 0:i.pathname;return Object(n.jsx)("div",{className:e.showSideBar?"vertical-menu side_menu open":"vertical-menu side_menu",children:Object(n.jsx)("div",{"data-simplebar":!0,className:"h-100",children:Object(n.jsx)("div",{id:"sidebar-menu",children:Object(n.jsxs)("ul",{className:"metismenu list-unstyled",id:"side-menu",children:[Object(n.jsx)("li",{className:"/app/dashboard"===l?"mm-active":void 0,onClick:e.closeSideBar,children:Object(n.jsxs)(s.b,{to:"/app/dashboard",className:"waves-effect",children:[Object(n.jsx)("i",{className:"ti ti-home"}),Object(n.jsx)("span",{children:" Dashboard"},"t-dashboards")]})}),Object(n.jsx)("li",{className:"/app/about"===l?"mm-active":void 0,onClick:e.closeSideBar,children:Object(n.jsxs)(s.b,{to:"/app/about",className:"waves-effect",children:[Object(n.jsx)("i",{className:"ti ti-info"}),Object(n.jsx)("span",{children:" About"},"t-about")]})}),Object(n.jsx)("li",{className:"/app/product"===l?"mm-active":void 0,onClick:e.closeSideBar,children:Object(n.jsxs)(s.b,{to:"/app/product",className:"waves-effect",children:[Object(n.jsx)("i",{className:"ti ti-anchor"}),Object(n.jsx)("span",{children:" Product"},"t-product")]})}),Object(n.jsx)("li",{className:"/app/client"===l?"mm-active":void 0,onClick:e.closeSideBar,children:Object(n.jsxs)(s.b,{to:"/app/client",className:"waves-effect",children:[Object(n.jsx)("i",{className:"ti ti-user"}),Object(n.jsx)("span",{children:" Client"},"t-client")]})}),Object(n.jsx)("li",{className:"/app/gallery"===l?"mm-active":void 0,onClick:e.closeSideBar,children:Object(n.jsxs)(s.b,{to:"/app/gallery",className:"waves-effect",children:[Object(n.jsx)("i",{className:"ti ti-gallery"}),Object(n.jsx)("span",{children:" Gallery"},"t-gallery")]})})]})})})})},le=i(47),ae=i(55),oe=function(e){var t=e.heading,i=void 0===t?"Address Details":t,l=e.details,a=e.handelChange,o=e.isAddressSame,r=e.sameAddressHandle,s=e.sameAddressText,d=e.disabled,c=void 0!==d&&d,u=e.readOnly,v=void 0!==u&&u,j=e.isRequired,b=void 0!==j&&j,m=e.isAlreadyCheck,h=e.defaultAddress,p=e.loadingProp,O=e.moreInfo;return a=(c=c||o)?function(e){}:a,Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsxs)("h4",{className:"card-title",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(n.jsx)("label",{children:i}),!0===m&&Object(n.jsx)("span",{className:"pl-2 font-size-13",children:"(Default Address)"}),!1===m&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:h,disabled:p,children:p?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Updating Default Address..."})]}):"Set Default Address"})})]}),!v&&r&&Object(n.jsxs)("div",{className:"d-flex mt-2 form-check",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",required:"",checked:o,onChange:r}),Object(n.jsxs)("label",{className:"order_label font-size-13 mt-1",children:["(",s,")"]})]})]}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Address 1",isRequired:b,placeholder:"Enter address 1",value:null===l||void 0===l?void 0:l.line1,onChange:a("line1"),errorText:null===l||void 0===l?void 0:l.line1Error,disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Address 2",isRequired:b,placeholder:"Enter address 2",value:null===l||void 0===l?void 0:l.line2,onChange:a("line2"),errorText:null===l||void 0===l?void 0:l.line2Error,disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"form-group position-relative",children:[Object(n.jsxs)("label",{className:"order_label",children:["Country ",!c&&b&&Object(n.jsx)("span",{children:"*"})]}),!v&&Object(n.jsxs)("select",{className:"form-control ".concat(!!(null===l||void 0===l?void 0:l.countryError)&&"is-invalid"),value:(null===l||void 0===l?void 0:l.country)||"",onChange:a("country"),disabled:c,children:[Object(n.jsx)("option",{children:"Select"}),Object(n.jsx)("option",{children:"India"})]}),v&&Object(n.jsx)("p",{children:null===l||void 0===l?void 0:l.country}),!!(null===l||void 0===l?void 0:l.countryError)&&Object(n.jsx)("div",{className:"invalid-feedback",children:null===l||void 0===l?void 0:l.countryError})]})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"State",isRequired:b,placeholder:"Enter state",value:null===l||void 0===l?void 0:l.state,onChange:a("state"),errorText:(null===l||void 0===l?void 0:l.stateError)&&"Please enter state",disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"City",isRequired:b,placeholder:"Enter city",value:null===l||void 0===l?void 0:l.city,onChange:a("city"),errorText:(null===l||void 0===l?void 0:l.stateError)&&"Please enter city",disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Postcode",isRequired:b,placeholder:"Enter postcode",value:null===l||void 0===l?void 0:l.postcode,onChange:a("postcode"),errorText:null===l||void 0===l?void 0:l.postcodeError,disabled:c})})]}),O&&Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Email Id",placeholder:"Enter email id",value:null===l||void 0===l?void 0:l.email,onChange:a("email"),errorText:null===l||void 0===l?void 0:l.emailError,disabled:c,isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Mobile Number",isRequired:!0,placeholder:"Enter mobile number",value:null===l||void 0===l?void 0:l.mobile_number,onChange:a("mobile_number"),errorText:null===l||void 0===l?void 0:l.mobileError,disabled:c})})]})]})})]})})},re=function(e){var t,i=e.heading,l=void 0===i?"Order Details":i,a=e.order,o=void 0===a?{}:a,r=e.handelChange,s=void 0===r?function(e){}:r,d=e.eventKey,c=void 0===d?"0":d,u=e.disabled,v=void 0!==u&&u,j=e.readOnly,b=void 0!==j&&j;return s=v?function(e){}:s,o.paymentMethod=null===(t=(null===o||void 0===o?void 0:o.paymentMethod)||"")||void 0===t?void 0:t.toLowerCase(),Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(le.a.Toggle,{as:ae.a.Header,eventKey:c,children:Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:l}),Object(n.jsx)("i",{className:"fa fa-chevron-down"})]})}),Object(n.jsx)(le.a.Collapse,{eventKey:c,children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[(null===o||void 0===o?void 0:o.id)&&Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Order Id",isRequired:!0,value:null===o||void 0===o?void 0:o.id,placeholder:"Enter Order id",onChange:s("id"),disabled:!0})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"form-group position-relative",children:[Object(n.jsx)("label",{className:"order_label",children:"Order Date"}),Object(n.jsx)("input",{type:"text",className:"form-control",value:null===o||void 0===o?void 0:o.date,placeholder:"Enter Order date",required:"",onChange:s("date"),disabled:!0})]})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Channel",isRequired:!0,placeholder:"Enter channel",value:null===o||void 0===o?void 0:o.channel,onChange:s("channel"),disabled:!0})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsxs)("div",{className:"form-group",onChange:s("paymentMethod"),children:[Object(n.jsxs)("label",{className:"d-block mb-3 order_label",children:["Payment Method ",Object(n.jsx)("span",{children:"*"})]}),!b&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"custom-control custom-radio custom-control-inline",children:[Object(n.jsx)("input",{type:"radio",id:"customRadioInline1",name:"outer-group[0][customRadioInline1]",className:"custom-control-input",value:"cod",checked:"cod"===o.paymentMethod,disabled:v}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"customRadioInline1",children:"COD"})]}),Object(n.jsxs)("div",{className:"custom-control custom-radio custom-control-inline",children:[Object(n.jsx)("input",{type:"radio",id:"customRadioInline2",name:"outer-group[0][customRadioInline1]",className:"custom-control-input",value:"prepaid",checked:"prepaid"===o.paymentMethod,disabled:v}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"customRadioInline2",children:"Prepaid"})]})]}),b&&Object(n.jsx)("p",{children:"prepaid"===(null===o||void 0===o?void 0:o.paymentMethod)?"Prepaid":"COD"})]})})})]})})})]})},se=function(e){var t=e.heading,i=void 0===t?"User Details":t,l=e.details,a=e.handelChange,o=void 0===a?function(e){}:a,r=e.eventKey,s=void 0===r?"0":r,d=e.disabled,c=void 0!==d&&d;return o=c?function(e){}:o,Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(le.a.Toggle,{as:ae.a.Header,eventKey:s,children:Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:i}),Object(n.jsx)("i",{className:"fa fa-chevron-down"})]})}),Object(n.jsx)(le.a.Collapse,{eventKey:s,children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"First Name",isRequired:!0,placeholder:"Enter first name",value:null===l||void 0===l?void 0:l.firstName,onChange:o("firstName"),errorText:null===l||void 0===l?void 0:l.firstNameError,disabled:c,autoFocus:!0})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Last Name",isRequired:!0,placeholder:"Enter last name",value:null===l||void 0===l?void 0:l.lastName,onChange:o("lastName"),errorText:null===l||void 0===l?void 0:l.lastNameError,disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Email Id",isRequired:!0,placeholder:"Enter email id",value:null===l||void 0===l?void 0:l.email,onChange:o("email"),errorText:null===l||void 0===l?void 0:l.emailError,disabled:c})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Mobile Number",isRequired:!0,placeholder:"Enter mobile number",value:null===l||void 0===l?void 0:l.mobile,onChange:o("mobile"),errorText:null===l||void 0===l?void 0:l.mobileError,disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Alternate Mobile Number",placeholder:"Enter alternate mobile number",value:null===l||void 0===l?void 0:l.alternateMobile,onChange:o("alternateMobile"),disabled:c})})]})]})})})]})},de=function(e){var t=e.details,i=e.handelChange,l=void 0===i?function(e){}:i,a=e.disabled,o=void 0!==a&&a;return l=o?function(e){}:l,Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Master SKU",isRequired:!0,value:null===t||void 0===t?void 0:t.masterSku,onChange:l("masterSku"),errorText:null===t||void 0===t?void 0:t.masterSkuError,disabled:o})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Product Name",isRequired:!0,value:null===t||void 0===t?void 0:t.name,onChange:l("name"),errorText:null===t||void 0===t?void 0:t.nameError,disabled:o})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Product Price",value:null===t||void 0===t?void 0:t.price,onChange:l("price"),errorText:null===t||void 0===t?void 0:t.priceError,disabled:o})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Product Quantity",isRequired:!0,value:null===t||void 0===t?void 0:t.quantity,onChange:l("quantity"),errorText:null===t||void 0===t?void 0:t.quantityError,disabled:o})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Tax %",value:null===t||void 0===t?void 0:t.tax,onChange:l("tax"),disabled:o})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Selling Price",isRequired:!0,value:null===t||void 0===t?void 0:t.sellingPrice,onChange:l("sellingPrice"),errorText:null===t||void 0===t?void 0:t.sellingPriceError,disabled:o})})]})]})})})},ce=function(e){var t=e.heading,i=void 0===t?"Pricing & Taxation":t,l=e.details,a=void 0===l?{}:l,o=e.handelChange,r=e.eventKey,s=void 0===r?"0":r,d=e.disabled,c=void 0!==d&&d;return o=c?function(e){}:o,Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(le.a.Toggle,{as:ae.a.Header,eventKey:s,children:Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:i}),Object(n.jsx)("i",{className:"fa fa-chevron-down"})]})}),Object(n.jsx)(le.a.Collapse,{eventKey:s,children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Total Discount (Per Order)",value:null===a||void 0===a?void 0:a.totalDiscount,onChange:o("totalDiscount"),errorText:null===a||void 0===a?void 0:a.totalDiscountError,disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Shipping Charges(Per Order)",value:null===a||void 0===a?void 0:a.shippingCharges,onChange:o("shippingCharges"),errorText:null===a||void 0===a?void 0:a.shippingChargesError,disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"COD Charges(Per Order)",value:null===a||void 0===a?void 0:a.codCharges,onChange:o("codCharges"),errorText:null===a||void 0===a?void 0:a.codChargesError,disabled:c})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Gift Wrap Charges(Per Order)",value:null===a||void 0===a?void 0:a.giftWrapCharges,onChange:o("giftWrapCharges"),errorText:null===a||void 0===a?void 0:a.giftWrapChargesError,disabled:c})})})]})})})]})},ue=function(e){var t=e.heading,i=void 0===t?"Measurement":t,l=e.details,a=e.handelChange,o=e.disabled,r=void 0!==o&&o;return a=r?function(e){}:a,Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("h4",{className:"mb-0 card-title",children:i}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Length (cm)",isRequired:!0,placeholder:"Enter Length (cm)",value:null===l||void 0===l?void 0:l.length,onChange:a("length"),errorText:null===l||void 0===l?void 0:l.lengthError,disabled:r})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Breadth (cm)",isRequired:!0,placeholder:"Enter Breadth (cm)",value:null===l||void 0===l?void 0:l.breadth,onChange:a("breadth"),errorText:null===l||void 0===l?void 0:l.breadthError,disabled:r})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Height (cm)",isRequired:!0,placeholder:"Enter Height (cm)",value:null===l||void 0===l?void 0:l.height,onChange:a("height"),errorText:null===l||void 0===l?void 0:l.heightError,disabled:r})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Weight Of Shipment(kg)",isRequired:!0,placeholder:"Enter Weight Of Shipment(kg)",value:null===l||void 0===l?void 0:l.weight,onChange:a("weight"),errorText:null===l||void 0===l?void 0:l.weightError,disabled:r})})]})})})]})},ve=function(e){var t=e.heading,i=void 0===t?"Additional Information":t,a=e.details,o=void 0===a?{}:a,r=e.handelChange,s=e.eventKey,d=void 0===s?"0":s,c=e.disabled,u=void 0!==c&&c,v=e.readOnly,j=void 0!==v&&v,b=Object(l.useState)({isSendNotification:null===o||void 0===o?void 0:o.sendNotification}),m=Object(H.a)(b,2),h=m[0],p=m[1],O=h.isSendNotification;return r=u?function(e){}:r,Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(le.a.Toggle,{as:ae.a.Header,eventKey:d,children:Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:i}),Object(n.jsx)("i",{className:"fa fa-chevron-down"})]})}),Object(n.jsx)(le.a.Collapse,{eventKey:d,children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsxs)("div",{className:"row",children:[!j&&Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"form-check position-relative",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",checked:O,placeholder:"Enter Send Notification",required:"",onClick:function(){return!u&&p({isSendNotification:!O})},onChange:r("sendNotification")}),Object(n.jsx)("label",{className:"order_label",children:"Send Notification"})]})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Comment",value:null===o||void 0===o?void 0:o.comment,onChange:r("comment"),disabled:u,cols:"45"})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"HSN Code",value:null===o||void 0===o?void 0:o.hsnCode,onChange:r("hsnCode"),disabled:u})})]})})})})]})},je=function(e){var t=e.heading,i=void 0===t?"Other Details":t,l=e.details,a=void 0===l?{}:l,o=e.handelChange,r=e.eventKey,s=void 0===r?"0":r,d=e.disabled,c=void 0!==d&&d;return o=c?function(e){}:o,Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(le.a.Toggle,{as:ae.a.Header,eventKey:s,children:Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:i}),Object(n.jsx)("i",{className:"fa fa-chevron-down"})]})}),Object(n.jsx)(le.a.Collapse,{eventKey:s,children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Reseller Name",value:null===a||void 0===a?void 0:a.resellerName,onChange:o("resellerName"),disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Company Name",value:null===a||void 0===a?void 0:a.companyName,onChange:o("companyName"),disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Ewaybill No",value:null===a||void 0===a?void 0:a.eWayBillNo,onChange:o("eWayBillNo"),disabled:c})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Latitude",value:null===a||void 0===a?void 0:a.latitude,onChange:o("latitude"),disabled:c})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Longitude",value:null===a||void 0===a?void 0:a.longitude,onChange:o("longitude"),disabled:c})})]})]})})})]})},be={CREATE_ORDER_REQUEST:"CREATE_ORDER_REQUEST",CREATE_ORDER_SUCCESS:"CREATE_ORDER_SUCCESS",CREATE_ORDER_FAIL:"CREATE_ORDER_FAIL",UPDATE_ORDER_REQUEST:"UPDATE_ORDER_REQUEST",UPDATE_ORDER_SUCCESS:"UPDATE_ORDER_SUCCESS",UPDATE_ORDER_FAIL:"UPDATE_ORDER_FAIL",SELECT_COURIER_PARTNER:"SELECT_COURIER_PARTNER"},me={CREATE_BULK_ORDER_REQUEST:"CREATE_BULK_ORDER_REQUEST",CREATE_BULK_ORDER_SUCCESS:"CREATE_BULK_ORDER_SUCCESS",CREATE_BULK_ORDER_FAIL:"CREATE_BULK_ORDER_FAIL",DOWNLOAD_ALL_INVOICE_ORDERS_REQUEST:"DOWNLOAD_ALL_INVOICE_ORDERS_REQUEST",DOWNLOAD_ALL_INVOICE_ORDERS_SUCCESS:"DOWNLOAD_ALL_INVOICE_ORDERS_SUCCESS",DOWNLOAD_ALL_INVOICE_ORDERS_FAIL:"DOWNLOAD_ALL_INVOICE_ORDERS_FAIL",SEARCH_ALL_ORDERS_REQUEST:"SEARCH_ALL_ORDERS_REQUEST",FETCH_ALL_INVOICE_ORDERS_REQUEST:"FETCH_ALL_INVOICE_ORDERS_REQUEST",FETCH_ALL_ORDERS_REQUEST:"FETCH_ALL_ORDERS_REQUEST",FETCH_ALL_ORDERS_SUCCESS:"FETCH_ALL_ORDERS_SUCCESS",FETCH_ALL_ORDERS_FAIL:"FETCH_ALL_ORDERS_FAIL",FETCH_ORDER_REQUEST:"FETCH_ORDER_REQUEST",FETCH_ORDER_SUCCESS:"FETCH_ORDER_SUCCESS",FETCH_ORDER_FAIL:"FETCH_ORDER_FAIL",FETCH_ALL_BULK_ORDERS_REQUEST:"FETCH_ALL_BULK_ORDERS_REQUEST",FETCH_ALL_BULK_ORDERS_SUCCESS:"FETCH_ALL_BULK_ORDERS_SUCCESS",FETCH_ALL_BULK_ORDERS_FAIL:"FETCH_ALL_BULK_ORDERS_FAIL",FETCH_BULK_ORDER_REQUEST:"FETCH_BULK_ORDER_REQUEST",FETCH_BULK_ORDER_SUCCESS:"FETCH_BULK_ORDER_SUCCESS",FETCH_BULK_ORDER_FAIL:"FETCH_BULK_ORDER_FAIL",TRACK_ORDER_REQUEST:"TRACK_ORDER_REQUEST",TRACK_ORDER_SUCCESS:"TRACK_ORDER_SUCCESS",TRACK_ORDER_FAIL:"TRACK_ORDER_FAIL",CANCEL_ORDER_REQUEST:"CANCEL_ORDER_REQUEST",CANCEL_ORDER_SUCCESS:"CANCEL_ORDER_SUCCESS",CANCEL_ORDER_FAIL:"CANCEL_ORDER_FAIL",CREATE_RTO_ORDER_REQUEST:"CREATE_RTO_ORDER_REQUEST",CREATE_RTO_ORDER_SUCCESS:"CREATE_RTO_ORDER_SUCCESS",CREATE_RTO_ORDER_FAIL:"CREATE_RTO_ORDER_FAIL",ORDER_PAY_REQUEST:"ORDER_PAY_REQUEST",ORDER_PAY_SUCCESS:"ORDER_PAY_SUCCESS",ORDER_PAY_FAIL:"ORDER_PAY_FAIL",SELECT_PARTNER:"SELECT_PARTNER",SELECT_ORDER:"SELECT_ORDER",RAISE_DISPUTE_REQUEST:"RAISE_DISPUTE_REQUEST",RAISE_DISPUTE_SUCCESS:"RAISE_DISPUTE_SUCCESS",RAISE_DISPUTE_FAIL:"RAISE_DISPUTE_FAIL",DISPUTE_SETTLE_REQUEST:"DISPUTE_SETTLE_REQUEST",DISPUTE_SETTLE_SUCCESS:"DISPUTE_SETTLE_SUCCESS",DISPUTE_SETTLE_FAIL:"DISPUTE_SETTLE_FAIL"},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:me.SEARCH_ALL_ORDERS_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||100})}},pe=function(e){return{type:me.FETCH_ORDER_REQUEST,payload:e}},Oe=function(e){return{type:me.FETCH_BULK_ORDER_REQUEST,payload:e}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:me.CANCEL_ORDER_REQUEST,payload:e}},xe=function(e){return{type:me.ORDER_PAY_REQUEST,payload:e}},fe=function(e){return{type:me.SELECT_PARTNER,payload:e}},_e=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:me.SELECT_ORDER,payload:{ids:e,isSelected:t}}},Ee={GET_LOGGEDIN_USER:"GET_LOGGEDIN_USER",GET_LOGGEDIN_USER_SUCCESS:"GET_LOGGEDIN_USER_SUCCESS",GET_LOGGEDIN_USER_FAIL:"GET_LOGGEDIN_USER_FAIL",CHANGE_PASSWORD_REQUEST:"CHANGE_PASSWORD_REQUEST",UPDATE_USER_REQUEST:"UPDATE_LOGGEDIN_USER_REQUEST",UPDATE_USER_SUCCESS:"UPDATE_LOGGEDIN_USER_SUCCESS",UPDATE_USER_FAIL:"UPDATE_LOGGEDIN_USER_FAIL",ADD_ADDRESS_REQUEST:"ADD_ADDRESS_REQUEST",ADD_ADDRESS_SUCCESS:"ADD_ADDRESS_SUCCESS",ADD_ADDRESS_FAIL:"ADD_ADDRESS_FAIL",UPDATE_ADDRESS_REQUEST:"UPDATE_ADDRESS_REQUEST",UPDATE_ADDRESS_SUCCESS:"UPDATE_ADDRESS_SUCCESS",UPDATE_ADDRESS_FAIL:"UPDATE_ADDRESS_FAIL"},Ne=function(e){return{type:Ee.GET_LOGGEDIN_USER,payload:e}},ye=function(e){return{type:Ee.UPDATE_USER_REQUEST,payload:e}},Se=function(e){return{type:Ee.ADD_ADDRESS_REQUEST,payload:e}},Ce=i(491),we=function(e){var t=e.title,i=void 0===t?[]:t;return Object(n.jsx)(Ce.a,{children:i.map((function(e,t){return Object(n.jsx)("li",{className:t===(null===i||void 0===i?void 0:i.length)-1?"breadcrumb-item active":"breadcrumb-item",children:e},t)}))})},Te=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l,a;return Object(v.a)(this,i),(a=t.call(this,e)).handleResetModal=function(){a.setState({showResetModal:!a.state.showResetModal})},a.hasSameAddress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(!e||"object"!==typeof e||!t||"object"!==typeof t)&&(!(!e.line1||e.line1!==t.line1)&&(!(!e.line2||e.line2!==t.line2)&&(!(!e.country||e.country!==t.country)&&(!(!e.state||e.state!==t.state)&&(!(!e.state||e.state!==t.state)&&!(!e.postcode||e.postcode!==t.postcode))))))},a.setDefaultOrder=function(){var e=a.props.individualOrder,t={paymentMethod:"prepaid"},i={},n={},l={},o={},r={},s={},d={},c={},u={},v={},j=!1,b=!1,m=!1;if("object"===typeof e){var h=e.order_id,p=e.created_at,O=e.channel,g=e.payment_method;t={id:h,date:p=f()(p).format("YYYY-MM-DD"),channel:O,paymentMethod:g};var x=e.customer_details||{};i={firstName:x.first_name,lastName:x.last_name,email:x.email,mobile:x.mobile_number,alternateMobile:x.alternate_number},n=x.pickup_address,l=x.shipping_address,o=x.billing_address,r=x.reverse_pickup_address,s=x.rto_address,j=a.hasSameAddress(o,n),m=a.hasSameAddress(r,l),b=a.hasSameAddress(s,n);var _=e.product_details||{},E=_.breadth,N=_.cod_charges,y=_.gift_wrap_charges,S=_.height,C=_.length,w=_.master_sku,T=_.product_name,A=_.product_price,R=_.quantity,k=_.selling_price,D=_.shipping_charges,L=_.tax,U=_.total_discount;d={masterSku:w,name:T,price:A,quantity:R,tax:L,sellingPrice:k,length:C,breadth:E,height:S,weight:_.weight},c={codCharges:N,giftWrapCharges:y,shippingCharges:D,totalDiscount:U},u=null===e||void 0===e?void 0:e.additional_information,v=null===e||void 0===e?void 0:e.other_details}a.setState({order:t,customer:i,pickupAddress:n,shippingAddress:l,billingAddress:o,reversePickupAddress:r,rtoAddress:s,product:d,pricingTaxation:c,additionalInformation:u,otherDetails:v,isBillingAndPickupAddressSame:j,isReverseAddShippingAddressSame:m,isRtoAndPickupAddressSame:b})},a.handelChange=function(e){return function(t){return function(i){var n,l,o,r=null===i||void 0===i||null===(n=i.target)||void 0===n?void 0:n.value;"mobile"===t||"alternateMobile"===t||"postcode"===t||"quantity"===t?r=null===(o=r)||void 0===o?void 0:o.replace(/[^0-9]/g,""):"price"!==t&&"quantity"!==t&&"tax"!==t&&"sellingPrice"!==t&&"length"!==t&&"breadth"!==t&&"height"!==t&&"weight"!==t&&"totalDiscount"!==t&&"shippingCharges"!==t&&"codCharges"!==t&&"giftWrapCharges"!==t||(r=r.replace(/[^0-9.]/g,""));var s=a.state[e];s=Object(M.a)(Object(M.a)({},s||{}),{},Object(u.a)({},t,r)),a.setState((l={},Object(u.a)(l,e,s),Object(u.a)(l,"customerError",{}),Object(u.a)(l,"pickupAddressError",{}),Object(u.a)(l,"shippingAddressError",{}),Object(u.a)(l,"billingAddressError",{}),Object(u.a)(l,"reversePickupAddressError",{}),Object(u.a)(l,"rtoAddressError",{}),Object(u.a)(l,"productError",{}),Object(u.a)(l,"pricingTaxationError",{}),l))}}},a.handleSameAddress=function(e){return function(t){var i;a.setState(Object(u.a)({},e,null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.checked))}},a.hasAddressError=function(e){var t={};return e&&"object"===typeof e?(e.line1||(t.line1Error="Please enter address line 1"),e.line2||(t.line2Error="Please enter address line 2"),e.country||(t.countryError="Please select country"),e.state||(t.stateError="Please select state"),e.city||(t.cityError="Please select city"),e.postcode||(t.postcodeError="Please select postcode")):(t.line1Error="Please enter address line 1",t.line2Error="Please enter address line 2",t.countryError="Please select country",t.stateError="Please select state",t.cityError="Please select city",t.postcodeError="Please select postcode"),t},a.hasError=function(){var e,t=a.state,i=t.customer,n=t.pickupAddress,l=t.shippingAddress,o=t.billingAddress,r=t.reversePickupAddress,s=t.rtoAddress,d=t.product,c=t.pricingTaxation,u=t.isBillingAndPickupAddressSame,v=t.isReverseAddShippingAddressSame,j=t.isRtoAndPickupAddressSame,b=!1,m={},h={},p={},O={},g={},x={},f={};return i?(i.firstName||(m.firstNameError="Please enter first name"),i.lastName||(m.lastNameError="Please enter last name"),i.email?w(i.email)||(m.emailError="Please enter a valid email id"):m.emailError="Please enter email id",i.mobile?T(i.mobile)||(m.mobileError="Please enter valid mobile number"):m.mobileError="Please enter mobile number"):(m.firstNameError="Please enter first name",m.lastNameError="Please enter last name",m.emailError="Please enter email",m.mobileError="Please enter mobile number"),d?(d.masterSku||(x.masterSkuError="Please enter Master SKU"),d.name||(x.nameError="Please enter Product Name"),(null===d||void 0===d?void 0:d.quantity)?A(null===d||void 0===d?void 0:d.quantity)||(x.quantityError="Only numeric values are allowed. Product Quantity should be more than 0."):x.quantityError="Please enter Product Quantity",(null===d||void 0===d?void 0:d.length)?A(null===d||void 0===d?void 0:d.length)||(x.lengthError="Only numeric values are allowed. Length should be more than 0."):x.lengthError="Please enter Length (cm)",(null===d||void 0===d?void 0:d.breadth)?A(null===d||void 0===d?void 0:d.breadth)||(x.breadthError="Only numeric values are allowed. Breadth should be more than 0."):x.breadthError="Please enter Breadth (cm)",(null===d||void 0===d?void 0:d.height)?A(null===d||void 0===d?void 0:d.height)||(x.heightError="Only numeric values are allowed. Height should be more than 0."):x.heightError="Please enter Height (cm)",(null===d||void 0===d?void 0:d.weight)?A(null===d||void 0===d?void 0:d.weight)||(x.weightError="Only numeric values are allowed. Weight should be more than 0."):x.weightError="Please enter Weight (cm)",(null===d||void 0===d?void 0:d.sellingPrice)?A(null===d||void 0===d?void 0:d.sellingPrice)||(x.sellingPriceError="Only numeric values are allowed. Selling Price should be more than 0."):x.sellingPriceError="Please enter Selling Price"):(x.masterSkuError="Please enter Master SKU",x.nameError="Please enter Product Name",x.quantityError="Please enter Product Quantity",x.lengthError="Please enter Length (cm)",x.breadthError="Please enter Breadth (cm)",x.heightError="Please enter Height (cm)",x.weightError="Please enter Weight Of Shipment(kg)",x.sellingPriceError="Please enter Selling Price"),c&&((null===c||void 0===c?void 0:c.totalDiscount)&&!A(null===c||void 0===c?void 0:c.totalDiscount)&&(f.totalDiscountError="Only numeric values are allowed. Total Discount should be more than 0."),(null===c||void 0===c?void 0:c.shippingCharges)&&!A(null===c||void 0===c?void 0:c.shippingCharges)&&(f.shippingChargesError="Only numeric values are allowed. Shipping Charges should be more than 0."),(null===c||void 0===c?void 0:c.codCharges)&&!A(null===c||void 0===c?void 0:c.codCharges)&&(f.codChargesError="Only numeric values are allowed. COD Charges should be more than 0."),(null===c||void 0===c?void 0:c.giftWrapCharges)&&!A(null===c||void 0===c?void 0:c.giftWrapCharges)&&(f.giftWrapChargesError="Only numeric values are allowed. Gift Wrap Charges should be more than 0.")),h=a.hasAddressError(n),n.email?w(n.email)||(h.emailError="Please enter valid email"):h.emailError="Please enter email",n.mobile_number?T(n.mobile_number)||(h.mobileError="Please enter a valid mobile number"):h.mobileError="Please enter mobile number",e=a.hasAddressError(l),u||(p=a.hasAddressError(o)),v||(O=a.hasAddressError(r)),j||(g=a.hasAddressError(s)),b=!!((b=!!((b=!!((b=!!((b=!!((b=!!((b=!!((b=!!(b||Object.keys(m).length>0))||Object.keys(h).length>0))||Object.keys(e).length>0))||Object.keys(p).length>0))||Object.keys(O).length>0))||Object.keys(g).length>0))||Object.keys(x).length>0))||Object.keys(f).length>0),a.setState({customerError:m,pickupAddressError:h,shippingAddressError:e,billingAddressError:p,reversePickupAddressError:O,rtoAddressError:g,productError:x,pricingTaxationError:f}),b},a.onSelectCourierPartner=function(){a.setState({goToSelectCourierPartner:!0})},a.onSaveOrder=function(){var e=a.props,t=e.loggedInUser,i=e.loggedInUserAddress,n=void 0===i?[]:i,l=a.state,o=l.order,r=l.customer,s=l.pickupAddress,d=l.shippingAddress,c=l.billingAddress,u=l.reversePickupAddress,v=l.rtoAddress,j=l.product,b=l.pricingTaxation,m=l.additionalInformation,h=l.otherDetails,p=l.isBillingAndPickupAddressSame,O=l.isRtoAndPickupAddressSame,g=l.isReverseAddShippingAddressSame;l.pickupAddressTrue;if(a.hasError())L("error","Please fill in all the required fields.");else{var x,f,_,E;if(a.setState({isLoading:!0,goToSelectCourierPartner:!0}),p)null===(x=c=Object.assign({},s))||void 0===x||delete x.email,null===(f=c)||void 0===f||delete f.mobile_number;if(O)null===(_=v=Object.assign({},s))||void 0===_||delete _.email,null===(E=v)||void 0===E||delete E.mobile_number;g&&(u=d);var N={payment_method:null===o||void 0===o?void 0:o.paymentMethod,first_name:null===r||void 0===r?void 0:r.firstName,last_name:null===r||void 0===r?void 0:r.lastName,email:null===r||void 0===r?void 0:r.email,mobile_number:null===r||void 0===r?void 0:r.mobile,alternate_number:null===r||void 0===r?void 0:r.alternateMobile,pickup_address:s,shipping_address:d,billing_address:c,reverse_pickup_address:u,rto_address:v,master_sku:null===j||void 0===j?void 0:j.masterSku,product_name:null===j||void 0===j?void 0:j.name,product_price:null===j||void 0===j?void 0:j.price,quantity:null===j||void 0===j?void 0:j.quantity,tax:null===j||void 0===j?void 0:j.tax,selling_price:null===j||void 0===j?void 0:j.sellingPrice,shipping_charges:null===b||void 0===b?void 0:b.shippingCharges,cod_charges:null===b||void 0===b?void 0:b.codCharges,gift_wrap_charges:null===b||void 0===b?void 0:b.giftWrapCharges,total_discount:null===b||void 0===b?void 0:b.totalDiscount,length:null===j||void 0===j?void 0:j.length,breadth:null===j||void 0===j?void 0:j.breadth,height:null===j||void 0===j?void 0:j.height,weight:null===j||void 0===j?void 0:j.weight,additional_information:m,other_details:h,plan:t};a.props.orderId?(N._id=a.props.orderId,a.props.updateOrder(N)):(n&&0!==(null===n||void 0===n?void 0:n.length)||a.props.addAddressProfile([s]),a.props.createOrder(N))}},a.onReset=function(){a.setState({order:{paymentMethod:"prepaid"},customer:{firstName:"",lastName:"",email:"",mobile:"",alternateMobile:""},pickupAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:"",email:"",mobile:""},shippingAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},billingAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},reversePickupAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},rtoAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},product:{masterSku:"",name:"",price:"",quantity:"",tax:"",sellingPrice:"",length:"",breadth:"",height:"",weight:""},pricingTaxation:{totalDiscount:"",shippingCharges:"",codCharges:"",giftWrapCharges:""},additionalInformation:{sendNotification:!1,comment:"",hsnCode:""},otherDetails:{resellerName:"",companyName:"",eWayBillNo:"",latitude:"",longitude:""},customerError:{},pickupAddressError:{},shippingAddressError:{},billingAddressError:{},reversePickupAddressError:{},rtoAddressError:{},productError:{},pricingTaxationError:{},showResetModal:!1,isBillingAndPickupAddressSame:!1,isReverseAddShippingAddressSame:!1,isRtoAndPickupAddressSame:!1})},a.onGoBack=function(){a.props.history.goBack()},a.renderFooter=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return a.handleResetModal()},children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:a.onReset,children:"Yes"})]})},a.state=(l={order:{paymentMethod:"prepaid"},customer:{firstName:"",lastName:"",email:"",mobile:"",alternateMobile:""},pickupAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},shippingAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},billingAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},reversePickupAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},rtoAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},product:{masterSku:"",name:"",price:"",quantity:"",tax:"",sellingPrice:"",length:"",breadth:"",height:"",weight:""},pricingTaxation:{totalDiscount:"",shippingCharges:"",codCharges:"",giftWrapCharges:""},additionalInformation:{sendNotification:!1,hsnCode:""},otherDetails:{resellerName:"",companyName:"",eWayBillNo:"",latitude:"",longitude:""},isLoading:!1,isOrderCreated:!1,goToSelectCourierPartner:!1,isBillingAndPickupAddressSame:!1,isRtoAndPickupAddressSame:!1,isReverseAddShippingAddressSame:!1,customerError:{},pickupAddressError:{},shippingAddressError:{},billingAddressError:{},reversePickupAddressError:{},rtoAddressError:{},productError:{},pricingTaxationError:{},showResetModal:!1,plan:""},Object(u.a)(l,"pickupAddress",{}),Object(u.a)(l,"pickupAddressTrue",null),l),a}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,i=e.individualOrder,n=e.fetchOrder,l=e.loggedInUserAddress,a=void 0===l?[]:l,o=this.state,r=(o.pickupAddressTrue,o.pickupAddress,t.params.orderId);if(r)i?this.setDefaultOrder():n&&n(r);else{var s=a.find((function(e){return null===e||void 0===e?void 0:e.default_address}));this.setState({pickupAddress:s})}}},{key:"componentDidUpdate",value:function(e){var t,i=this.props,n=i.loading,l=i.individualOrder,a=i.error,o=i.history,r=i.orderId;(null===(t=e.individualOrder)||void 0===t?void 0:t.loading)&&!(null===l||void 0===l?void 0:l.loading)&&(l.error?null===o||void 0===o||o.replace("/app/shipmentList"):this.setDefaultOrder()),e.loading&&!n&&(this.setState({isLoading:!1}),a||(r||null===o||void 0===o||o.replace("/app/individualShipment/".concat(null===l||void 0===l?void 0:l._id)),null===o||void 0===o||o.push("/app/courierpartner/".concat(null===l||void 0===l?void 0:l._id))))}},{key:"render",value:function(){var e=this.state,t=e.order,i=e.customer,l=e.pickupAddress,o=e.shippingAddress,r=e.billingAddress,s=e.reversePickupAddress,d=e.rtoAddress,c=e.product,u=e.pricingTaxation,v=e.additionalInformation,j=e.otherDetails,b=(e.isOrderCreated,e.goToSelectCourierPartner,e.isBillingAndPickupAddressSame),m=e.isRtoAndPickupAddressSame,h=e.isReverseAddShippingAddressSame,p=e.customerError,O=e.pickupAddressError,g=e.shippingAddressError,x=e.billingAddressError,f=e.reversePickupAddressError,_=e.rtoAddressError,E=e.productError,N=e.pricingTaxationError,y=e.isLoading,S=(e.pickupAddressTrue,this.props),C=S.individualOrder,w=S.orderId;S.planOrder,S.loggedInUser;b&&(r=l),m&&(d=l),h&&(s=o),i=Object(M.a)(Object(M.a)({},i||{}),p||{}),l=Object(M.a)(Object(M.a)({},l||{}),O||{}),o=Object(M.a)(Object(M.a)({},o||{}),g||{}),b||(r=Object(M.a)(Object(M.a)({},r||{}),x||{})),h||(s=Object(M.a)(Object(M.a)({},s||{}),f||{})),m||(d=Object(M.a)(Object(M.a)({},d||{}),_||{})),c=Object(M.a)(Object(M.a)({},c||{}),E||{}),u=Object(M.a)(Object(M.a)({},u||{}),N||{});var T=y||!!(null===C||void 0===C?void 0:C.transaction_id),A=!!(null===C||void 0===C?void 0:C.transaction_id);return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Individual Shipment"}),Object(n.jsx)(we,{title:["Shipment","Individual Shipment"]})]})}),w&&Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left"})," ","Back"]})})]})})}),(null===C||void 0===C?void 0:C.loading)?Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-center m-5",children:[Object(n.jsx)("samp",{className:"spinner-border mr-2",role:"status"}),Object(n.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}):Object(n.jsxs)("div",{className:T?"row disableAllField":"row",children:[Object(n.jsxs)("div",{className:"col-lg-12",children:[Object(n.jsx)(le.a,{defaultActiveKey:"0",children:Object(n.jsx)(re,{order:t,handelChange:this.handelChange("order"),eventKey:"0",disabled:T,readOnly:A})}),Object(n.jsx)(le.a,{defaultActiveKey:"0",children:Object(n.jsx)(se,{heading:"Customer Details",details:i,handelChange:this.handelChange("customer"),eventKey:"0",disabled:T})}),Object(n.jsx)(le.a,{defaultActiveKey:"0",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(le.a.Toggle,{as:ae.a.Header,eventKey:"0",children:Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:"Address Details"}),Object(n.jsx)("i",{className:"fa fa-chevron-down"})]})}),Object(n.jsx)(le.a.Collapse,{eventKey:"0",children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(oe,{heading:"Pickup Address",details:l,handelChange:this.handelChange("pickupAddress"),disabled:T,readOnly:A,isRequired:!0,moreInfo:!0}),Object(n.jsx)(oe,{heading:"Shipping Address",details:o,handelChange:this.handelChange("shippingAddress"),disabled:T,readOnly:A,isRequired:!0}),Object(n.jsx)(oe,{heading:"Billing Address",details:r,handelChange:this.handelChange("billingAddress"),isAddressSame:b,sameAddressHandle:this.handleSameAddress("isBillingAndPickupAddressSame"),sameAddressText:"Same as Pick Up address",disabled:T,readOnly:A,isRequired:!0}),Object(n.jsx)(oe,{heading:"Reverse Pickup Address",details:s,handelChange:this.handelChange("reversePickupAddress"),isAddressSame:h,sameAddressHandle:this.handleSameAddress("isReverseAddShippingAddressSame"),sameAddressText:"Same as Shipping address",disabled:T,readOnly:A,isRequired:!0}),Object(n.jsx)(oe,{heading:"RTO Address",details:d,handelChange:this.handelChange("rtoAddress"),isAddressSame:m,sameAddressHandle:this.handleSameAddress("isRtoAndPickupAddressSame"),sameAddressText:"Same as Pick Up address",disabled:T,readOnly:A,isRequired:!0})]})})]})}),Object(n.jsx)(le.a,{defaultActiveKey:"0",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(le.a.Toggle,{as:ae.a.Header,eventKey:"0",children:Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:"Product Details"}),Object(n.jsx)("i",{className:"fa fa-chevron-down"})]})}),Object(n.jsx)(le.a.Collapse,{eventKey:"0",children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(de,{details:c,handelChange:this.handelChange("product"),disabled:T}),Object(n.jsx)(ue,{heading:"Measurements",details:c,handelChange:this.handelChange("product"),disabled:T})]})})]})}),Object(n.jsx)(le.a,{defaultActiveKey:"0",children:Object(n.jsx)(ce,{heading:"Pricing & Taxation",details:u,handelChange:this.handelChange("pricingTaxation"),disabled:T})}),Object(n.jsx)(le.a,{defaultActiveKey:"0",children:Object(n.jsx)(ve,{heading:"Additional Information (Optional)",details:v,handelChange:this.handelChange("additionalInformation"),disabled:T,readOnly:A})}),Object(n.jsx)(le.a,{defaultActiveKey:"0",children:Object(n.jsx)(je,{heading:"Other Details (Optional)",details:j,handelChange:this.handelChange("otherDetails"),disabled:T})})]}),Object(n.jsx)(Q,{show:this.state.showResetModal,handleClose:this.handleResetModal,title:"Confirm",footerComponent:this.renderFooter,children:"This will remove all your input data. Are you sure to reset?"}),Object(n.jsx)("div",{className:"col-xl-12 text-right my-55",children:Object(n.jsxs)("div",{className:"button-items",children:[!(null===C||void 0===C?void 0:C.transaction_id)&&Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:this.onSaveOrder,disabled:y,children:y?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Saving order..."})]}):"Save Order"}),!w&&Object(n.jsx)("button",{type:"button",className:"btn btn-white",onClick:this.handleResetModal,children:"Reset"})]})})]})]})}}]),i}(l.Component),Ae=(Object(p.b)((function(e,t){var i,n,l,a,o,r,s,d,c,u=t.match.params.orderId,v=(null===e||void 0===e||null===(i=e.order)||void 0===i?void 0:i.orders)||{},j=u&&v[u];return{orderId:u,orders:v,individualOrder:j=j||(null===e||void 0===e||null===(n=e.individualOrder)||void 0===n?void 0:n.data),loading:null===e||void 0===e||null===(l=e.individualOrder)||void 0===l?void 0:l.loading,error:null===e||void 0===e||null===(a=e.individualOrder)||void 0===a?void 0:a.error,planOrder:null===e||void 0===e||null===(o=e.plan)||void 0===o?void 0:o.planOrder,loggedInUser:null===(r=e.loggedInUser)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.data.plan,loggedInUserAddress:null===(d=e.loggedInUser)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.data.pickup_address}}),(function(e){return{createOrder:function(t){return e(function(e){return{type:be.CREATE_ORDER_REQUEST,payload:e}}(t))},updateOrder:function(t){return e(function(e){return{type:be.UPDATE_ORDER_REQUEST,payload:e}}(t))},fetchOrder:function(t){return e(pe(t))},addAddressProfile:function(t){return e(Se(t))}}}))(Te),i(13)),Re=i(210),ke=i.n(Re),De=function(e){var t=e.id,i=e.className,l=void 0===i?"table table-striped table-bordered dt-responsive nowrap action_icons":i,a=e.headingData,o=void 0===a?["Col 1","Col 2","Col 3","Col 4"]:a,r=e.rowData,s=void 0===r?[]:r,d=e.renderRowItem,c=void 0===d?function(e,t){return Object(n.jsx)("tr",{})}:d,u=e.loading,v=void 0!==u&&u;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"acclist-height-base",style:{overflow:"auto"},children:Object(n.jsxs)("table",{id:t,className:l,style:{marginBottom:0},children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:o.map((function(e,t){return"string"===typeof(null===e||void 0===e?void 0:e.text)?Object(n.jsx)("th",{className:"".concat(null===e||void 0===e?void 0:e.className," ").concat(s.length>2&&"stickyTableHead"),style:(null===e||void 0===e?void 0:e.style)||{textAlign:0===t||t===o.length-1?"center":"left",whiteSpace:"nowrap"},children:null===e||void 0===e?void 0:e.text},t):Object(n.jsx)("th",{className:" ".concat(s.length>1&&"stickyTableHead"),style:{textAlign:0===t||t===o.length-1?"center":"left",whiteSpace:"nowrap"},children:e},t)}))})}),Object(n.jsxs)("tbody",{children:[(null===s||void 0===s?void 0:s.length)>0&&s.map((function(e,t){return c(e,t)})),(!s||0===s.length)&&Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:null===o||void 0===o?void 0:o.length,style:{textAlign:"center"},children:v?Object(n.jsx)("span",{className:"spinner-border m-2"}):"No data found"})})]})]})})})},Le=function(e){var t=e.baseTableClassName,i=(e.title,e.entriesOptions),a=void 0===i?[10,25,50,100]:i,o=e.showSelectAll,r=e.headings,s=void 0===r?["Col 1","Col 2","Col 3"]:r,d=e.rowData,c=void 0===d?[]:d,v=e.renderRow,j=void 0===v?function(e,t){return Object(n.jsx)(n.Fragment,{})}:v,b=e.totalEntries,m=void 0===b?0:b,h=e.onSearch,p=void 0===h?function(e){return e}:h,O=e.showSearch,g=void 0===O||O,x=e.searchPlaceholder,f=void 0===x?"Search ...":x,_=e.loading,E=void 0!==_&&_,N=e.filter,y=void 0===N?{}:N,S=e.loadMore,C=void 0===S?function(){}:S,w=e.actionBtnText,T=void 0===w?"Show Preview":w,A=e.ThermalactionBtnText,R=void 0===A?"Thermal Label Preview":A,k=e.showActionBtn,D=e.onClickAction,L=e.onClickDeselectAction,U=e.selectedList,P=void 0===U?[]:U,F=e.onSelectAll,I=void 0===F?function(){}:F,B=e.defaultSearchText,G=void 0===B?"":B,Q=Object(l.useRef)({}),W=Object(l.useState)({maxRowCount:a[0],activePage:1,searchText:G}),Y=Object(H.a)(W,2),q=Y[0],K=Y[1];Object(l.useEffect)((function(){return function(){var e,t;JSON.stringify(null===(e=Q.current)||void 0===e?void 0:e.filter)===JSON.stringify(y)&&(null===(t=Q.current)||void 0===t?void 0:t.maxRowCount)===q.maxRowCount||K(Object(M.a)(Object(M.a)({},q),{},{activePage:1,searchText:G}))}(),function(){return Q.current={filter:y,maxRowCount:q.maxRowCount}}}),[y,q.maxRowCount]);var z=q.maxRowCount,V=q.activePage,J=q.searchText,X=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n,l=null===i||void 0===i||null===(n=i.target)||void 0===n?void 0:n.value;K(Object(M.a)(Object(M.a)({},q),{},Object(u.a)({},e,t?i:l)))}},$=Math.ceil(m/z),Z=Number.parseInt((V-1)*z),ee=0,te=$>6?6:$,ie=c.slice(Z);ie=ie.filter((function(e,t){return t<z})),c.length>0&&(ee=Z+ie.length,Z+=1),E||0!==ie.length||m===c.length||C(c.length,Number.parseInt((V+5)*z));if(o){var ne=ie.length>0&&ie.every((function(e){return P.includes(e)}));s=[Object(n.jsx)("input",{type:"checkbox",checked:ne,onClick:function(){return I(ie,!ne)},disabled:ie.length<=0})].concat(Object(Ae.a)(s))}return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("div",{className:"stickyHeader",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-4",children:Object(n.jsxs)("div",{className:"d-flex align-items-center pt-3",children:[Object(n.jsx)("p",{className:"mb-0",children:"show"}),Object(n.jsx)("div",{className:"pl-2 pr-2",children:Object(n.jsx)("select",{className:"custom-select",defaultValue:z,onChange:X("maxRowCount"),children:a.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))})}),Object(n.jsx)("p",{className:"mb-0",children:"entries"})]})}),!g&&k&&Object(n.jsxs)("div",{className:"col-xl-8 text-right shipmentlblBtn",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-outline-secondary mt-3 mr-2",onClick:L,children:["Deselect All (",null===P||void 0===P?void 0:P.length,")"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary mt-3 mr-2",onClick:function(){return D("thermarPrint")},children:[Object(n.jsx)("i",{className:"dripicons dripicons-print mr-2"}),R]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary mt-3 mr-2",onClick:function(){return D("regularPrint")},children:[Object(n.jsx)("i",{className:"dripicons dripicons-print mr-2"}),T]})]}),g&&Object(n.jsx)("div",{className:"col-xl-4 offset-md-2",children:Object(n.jsx)("div",{className:"app-search d-lg-block",children:Object(n.jsxs)("div",{className:"position-relative",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:f,value:J,onChange:X("searchText"),onKeyUp:function(e){var t;13!==e.keyCode&&13!==e.which&&""!==(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value.trim())||p(J)}}),Object(n.jsx)("span",{className:"fe fe-search",onClick:function(){return p(J)}})]})})})]})}),Object(n.jsx)(De,{className:t,headingData:s,rowData:ie,renderRowItem:function(e,t){return j(e,Z-1+t)},loading:E}),Object(n.jsxs)("div",{className:"row",style:{marginTop:15},children:[Object(n.jsx)("div",{className:"col-sm-12 col-md-5",children:Object(n.jsx)("div",{className:"dataTables_info",children:"Showing ".concat(Z," to ").concat(ee," of ").concat(m," entries")})}),Object(n.jsx)("div",{className:"col-sm-12 col-md-7",children:Object(n.jsx)(ke.a,{innerClass:"pagination justify-content-end",itemClass:"page-item",linkClass:"page-link",activePage:V,itemsCountPerPage:z,totalItemsCount:m,pageRangeDisplayed:te,onChange:X("activePage",!0),prevPageText:"Previous",nextPageText:"Next",itemClassPrev:"paginate_button page-item previous",itemClassNext:"paginate_button page-item next",hideFirstLastPages:!0})})]})]})})})})},Ue=i(27),Pe=i.n(Ue),Fe=i(209),Ie=function(e){var t=e.show,i=void 0!==t&&t,l=e.handleClose,a=void 0===l?function(){}:l,o=e.error,r=void 0===o?[]:o;return Object(n.jsxs)(G.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",show:i,onHide:a,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{id:"contained-modal-title-vcenter",children:"Bulk Upload Validation Error"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)(De,{className:"table table-striped table-bordered dt-responsive nowrap action_icons",headingData:["Row No.","Source","Destination","Reason"],rowData:r,renderRowItem:function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:null===e||void 0===e?void 0:e.row_number}),Object(n.jsx)("td",{children:(null===e||void 0===e?void 0:e.sourcePin)||"-"}),Object(n.jsx)("td",{children:(null===e||void 0===e?void 0:e.destinationPin)||"-"}),Object(n.jsx)("td",{children:null===e||void 0===e?void 0:e.message})]},t)}})}),Object(n.jsx)(G.a.Footer,{children:Object(n.jsx)(Fe.a,{className:"btn btn-secondary ml-2",onClick:a,children:"Close"})})]})},Me=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).loadMoreOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.props,n=i.bulkOrderList,a=i.bulkOrderMeta,o=i.fetchAllOrders;(0===e||(null===a||void 0===a?void 0:a.totalCount)>(null===n||void 0===n?void 0:n.length))&&o&&o({offset:e,limit:t})},l.onChooseFile=function(e){var t,i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];if(i){var n,a,o,r=null===(n=i.name)||void 0===n||null===(a=n.split("."))||void 0===a?void 0:a[i.name.split(".").length-1];if("xls"===r||"xlsx"===r)l.setState({file:null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.files[0]});else L("error","Upload xls or xlsx format file only!")}},l.uploadFile=function(e){var t=l.props,i=t.history,n=t.PlanId,a=l.state.file;if(a){l.setState({isUploading:!0});var o=new FormData;o.set("model_id",1234567890),o.set("onModel","Order"),o.set("files",a),o.set("plan",n),Y.a.post("".concat(K.ORDERS_URL,"/bulk_upload/logistic"),o).then((function(e){var t,a=null===e||void 0===e?void 0:e.data,o=(null===a||void 0===a?void 0:a.meta)||a;if((null===o||void 0===o?void 0:o.success)&&200===(null===o||void 0===o?void 0:o.status)){var r=null===a||void 0===a?void 0:a.data;t=null===r||void 0===r?void 0:r._id,l.props.fetchBulkOrderSuccess&&l.props.fetchBulkOrderSuccess(a),i.push("/app/bulkShipmentList/".concat(t))}else L("error",null===o||void 0===o?void 0:o.message);l.setState({orderId:t,resMeta:o,isUploading:!1,file:null,isShowErrorModel:!(null===o||void 0===o?void 0:o.success)||200!==(null===o||void 0===o?void 0:o.status),plan:n}),l.loadMoreOrders()})).catch((function(e){l.setState({isUploading:!1}),console.log("upload file ",e)}))}else L("warning","Please choose a file!")},l.handleClose=function(){l.setState({isShowErrorModel:!1,resMeta:null})},l.onShowDetails=function(e){var t=l.props.history,i=null===e||void 0===e?void 0:e._id,n=(null===e||void 0===e?void 0:e.total_payout)?"/app/bulkinvoice/".concat(i):"/app/bulkShipmentList/".concat(i);t.push(n)},l.onDownloadOrder=function(e){var t=null===e||void 0===e?void 0:e.attachments_id,i=null===t||void 0===t?void 0:t._id,n=null===t||void 0===t?void 0:t.filename;Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+i,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,n)})).catch((function(e){console.log("onDownloadOrder ",e)}))},l.renderRow=function(e,t){var i,a,o,r,s,d=l.props,c=d.bulkOrders,u=d.loggedInUser,v=e&&c&&c[e],j=null===v||void 0===v?void 0:v.attachments_id,b=(null===u||void 0===u||null===(i=u.role)||void 0===i||null===(a=i._id)||void 0===a?void 0:a.permissions)||{};return v&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{children:null===j||void 0===j?void 0:j.filename}),Object(n.jsx)("td",{style:{letterSpacing:1},children:(null===v||void 0===v?void 0:v.createdAt)&&f()(null===v||void 0===v?void 0:v.createdAt).format("D MMM YYYY, h:mm:ss a")}),Object(n.jsx)("td",{children:(null===v||void 0===v?void 0:v.total_payout)&&parseFloat(null===v||void 0===v?void 0:v.total_payout).toFixed(2)}),Object(n.jsxs)("td",{style:{textAlign:"center"},children:[(null===v||void 0===v||null===(o=v.orders)||void 0===o?void 0:o.length)>0&&Object(n.jsx)("span",{onClick:function(){return l.onShowDetails(v)},children:(null===v||void 0===v?void 0:v.total_payout)?Object(n.jsx)(te.a,{content:"Invoice",children:Object(n.jsx)("i",{className:"mdi mdi-eye"})}):Object(n.jsx)(te.a,{content:"Make payment",children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}),(null===b||void 0===b||null===(r=b.order)||void 0===r||null===(s=r.bulk_order)||void 0===s?void 0:s.download)&&Object(n.jsx)("span",{onClick:function(){return l.onDownloadOrder(v)},style:{marginLeft:10},children:Object(n.jsx)(te.a,{content:"Download file",children:Object(n.jsx)("i",{className:"bx bxs-download"})})})]})]},"".concat(e,"_").concat(t))},l.onSearch=function(e){l.setState({searchText:e})},l.state={file:null,isUploading:!1,isShowErrorModel:!1,resMeta:null,searchText:"",plan:""},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMoreOrders()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.bulkOrderList;(null===(t=e.bulkOrderList)||void 0===t?void 0:t.length)!==(null===i||void 0===i?void 0:i.length)&&this.loadMoreOrders(null===i||void 0===i?void 0:i.length)}},{key:"render",value:function(){var e,t,i,l=this.state,o=l.file,r=l.resMeta,s=l.isUploading,d=(l.orderId,l.goToBulkOrderList,l.goToBulkOrderInvoice,l.searchText),c=l.isShowErrorModel,u=this.props,v=u.bulkOrders,j=u.bulkOrderList,b=u.bulkOrderMeta,m=u.loading,h=(null===b||void 0===b?void 0:b.totalCount)||0;d&&(h=(null===(i=j=null===(t=j)||void 0===t?void 0:t.filter((function(e){var t,i=e&&v[e],n=null===i||void 0===i?void 0:i.attachments_id,l=null===n||void 0===n||null===(t=n.filename)||void 0===t?void 0:t.toLowerCase();return(null===l||void 0===l?void 0:l.includes(d.toLowerCase()))&&e})))||void 0===i?void 0:i.length)||0);return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Bulk Shipment Upload"}),Object(n.jsx)(we,{title:["Shipment","Bulk Shipment Upload"]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsxs)("h4",{className:"mb-0 card-title",style:{display:"flex",justifyContent:"space-between"},children:["Upload Here",Object(n.jsx)("a",{href:"/BulkFormat.xlsx",children:Object(n.jsxs)("span",{className:"btn-link",style:{fontSize:14},children:["Bulk file format",Object(n.jsx)("i",{className:"fa fa-download ml-2","aria-hidden":"true"})]})})]}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsxs)("div",{className:"upload_img",children:[Object(n.jsx)("div",{className:"file_upload",children:Object(n.jsx)("input",{type:"file",className:"fileupload",name:"fileupload",accept:".xls, .xlsx",onChange:this.onChooseFile})}),Object(n.jsxs)("div",{className:"upload_banner",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{children:"Choose file"})]}),o&&Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-excel",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:o.name})]})})]}),Object(n.jsx)("div",{})]})})})})]})}),Object(n.jsx)("div",{className:"col-xl-12 text-right my-55",children:Object(n.jsx)("div",{className:"button-items",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.uploadFile,disabled:s,children:s?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Uploading..."})]}):"Upload"})})})]}),Object(n.jsx)(Le,{headings:["No.","File Name","Uploaded Date","Total Price(\u20b9)","Action"],filter:{searchText:d},onSearch:this.onSearch,rowData:j,totalEntries:h,renderRow:this.renderRow,loading:m}),Object(n.jsx)(Ie,{show:c&&(null===r||void 0===r||null===(e=r.errors)||void 0===e?void 0:e.length)>0,handleClose:this.handleClose,error:null===r||void 0===r?void 0:r.errors})]})}}]),i}(l.Component),He=(Object(p.b)((function(e){var t,i,n,l,a,o=null===e||void 0===e||null===(t=e.order)||void 0===t?void 0:t.bulk;return{bulkOrders:null===o||void 0===o?void 0:o.orders,bulkOrderList:null===o||void 0===o?void 0:o.list,bulkOrderMeta:null===o||void 0===o?void 0:o.meta,loading:null===o||void 0===o?void 0:o.loading,error:null===o||void 0===o?void 0:o.error,loggedInUser:null===(i=e.loggedInUser)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data,PlanId:null===(l=e.loggedInUser)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data.plan}}),(function(e){return{fetchAllOrders:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:me.FETCH_ALL_BULK_ORDERS_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}}(t))},fetchBulkOrderSuccess:function(t){return e({type:me.FETCH_BULK_ORDER_SUCCESS,payload:t})}}}))(Me),{CREATE_REQUEST:"CREATE_DEPARTMENT_REQUEST",CREATE_SUCCESS:"CREATE_DEPARTMENT_SUCCESS",CREATE_FAIL:"CREATE_DEPARTMENT_FAIL",FETCH_REQUEST:"FETCH_DEPARTMENT_REQUEST",FETCH_SUCCESS:"FETCH_DEPARTMENT_SUCCESS",FETCH_FAIL:"FETCH_DEPARTMENT_FAIL",UPDATE_REQUEST:"UPDATE_DEPARTMENT_REQUEST",UPDATE_SUCCESS:"UPDATE_DEPARTMENT_SUCCESS",UPDATE_FAIL:"UPDATE_DEPARTMENT_FAIL",DELETE_REQUEST:"DELETE_DEPARTMENT_REQUEST",DELETE_SUCCESS:"DELETE_DEPARTMENT_SUCCESS",DELETE_FAIL:"DELETE_DEPARTMENT_FAIL"}),Be=function(e){return{type:He.FETCH_REQUEST,payload:Object(M.a)(Object(M.a)({},e||{}),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}},Ge=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).onClickClose=function(){var e=l.props.handelModal;l.setState({name:"",nameErr:"",active:!1,isLoading:!1}),"function"===typeof e&&e()},l.hasError=function(){var e,t=l.state.name;return(null===t||void 0===t||null===(e=t.trim())||void 0===e?void 0:e.length)<=0&&(l.setState({nameErr:"Please enter department name"}),!0)},l.onClickSave=function(){var e=l.props,t=e.departmentId,i=e.createDepartment,n=e.updateDepartment,a=l.state,o=a.name,r=a.active,s={name:o=o.trim(),active:r=!!r};l.hasError()||(l.setState({isLoading:!0}),t?(s.id=t,"function"===typeof n&&n(s)):"function"===typeof i&&i(s))},l.handelChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n;l.setState((n={},Object(u.a)(n,e,t?i.target.checked:i.target.value),Object(u.a)(n,"nameErr",""),n))}},l.renderFooter=function(){var e=l.props.departmentId,t=l.state.isLoading;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:l.onClickClose,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:l.onClickSave,disabled:t,children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Saving..."})]}):e?"Save changes":"Add Department"})]})},l.state={name:"",active:!1,nameErr:"",isLoading:!1},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props.department;t&&this.setState({name:null===t||void 0===t?void 0:t.name,active:null===t||void 0===t||null===(e=t.attributes)||void 0===e?void 0:e.active})}},{key:"componentDidUpdate",value:function(e){var t,i,n=this.props.department;n&&(null===e||void 0===e||null===(t=e.department)||void 0===t?void 0:t.id)!==(null===n||void 0===n?void 0:n.id)&&this.setState({name:null===n||void 0===n?void 0:n.name,active:null===n||void 0===n||null===(i=n.attributes)||void 0===i?void 0:i.active});!this.props.loading&&e.loading&&this.state.isLoading&&this.onClickClose()}},{key:"render",value:function(){var e=this.props,t=e.show,i=e.departmentId,l=this.state,a=l.name,o=l.active,r=l.nameErr,s=i?"Edit Department":"Add Department";return Object(n.jsx)(Q,{show:t,handleClose:this.onClickClose,title:s,footerComponent:this.renderFooter,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)(I,{containerClassName:"form-group text-left",labelClassName:"text-capitalize",labelText:"Department",placeholder:"Department",value:a,onChange:this.handelChange("name"),errorText:r,isRequired:!0})}),Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)("div",{className:"form-check",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",value:"",checked:o,onChange:this.handelChange("active",!0)}),"Status"]})})})]})})}}]),i}(l.Component),Qe=Object(p.b)((function(e,t){var i,n,l,a=t.departmentId;return{department:a&&(null===e||void 0===e||null===(i=e.department)||void 0===i?void 0:i.departments)&&(null===e||void 0===e||null===(n=e.department)||void 0===n?void 0:n.departments[a]),loading:null===e||void 0===e||null===(l=e.department)||void 0===l?void 0:l.loading}}),(function(e){return{createDepartment:function(t){return e(function(e){return{type:He.CREATE_REQUEST,payload:e}}(t))},updateDepartment:function(t){return e(function(e){return{type:He.UPDATE_REQUEST,payload:e}}(t))}}}))(Ge),We=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).fetchDepartments=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,i=l.props.fetchDepartments;"function"===typeof i&&i({offset:e,limit:t})},l.loadMoreDepartments=function(){var e=l.props,t=e.departmentOrder,i=void 0===t?[]:t,n=e.departmentMeta,a=null===n||void 0===n?void 0:n.totalCount;(null===i||void 0===i?void 0:i.length)<a&&l.fetchDepartments(null===i||void 0===i?void 0:i.length,a)},l.handelDepartmentModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;l.setState({showDepartmentModal:e,departmentId:t})},l.onDeleteDepartment=function(e){var t=l.props,i=t.deleteDepartment;t.departments;"function"===typeof i&&(i(e),l.handleConfirmModal())},l.renderTableRows=function(e,t){var i,a,o=l.props.departments,r=e&&o&&o[e];return r&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center",width:"70px"},children:t+1}),Object(n.jsx)("td",{children:null===r||void 0===r?void 0:r.name}),Object(n.jsx)("td",{className:(null===r||void 0===r||null===(i=r.attributes)||void 0===i?void 0:i.active)?"greenColor":"redColor",children:(null===r||void 0===r||null===(a=r.attributes)||void 0===a?void 0:a.active)?"Active":"Deactive"}),Object(n.jsxs)("td",{style:{textAlign:"center",width:"120px"},children:[Object(n.jsx)("span",{onClick:function(){return l.handelDepartmentModal(!0,(null===r||void 0===r?void 0:r._id)||(null===r||void 0===r?void 0:r.id))},children:Object(n.jsx)(te.a,{content:"Edit",children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}),Object(n.jsx)("span",{className:"ml-2",onClick:function(){return l.setActiveDepId((null===r||void 0===r?void 0:r._id)||(null===r||void 0===r?void 0:r.id))},children:Object(n.jsx)(te.a,{content:"Delete",children:Object(n.jsx)("i",{className:"dripicons dripicons-cross"})})})]})]},"".concat(e,"_").concat(t))},l.onSearch=function(e){l.setState({searchText:e})},l.setActiveDepId=function(e){l.setState({activeDepId:e}),l.handleConfirmModal()},l.handleConfirmModal=function(){var e=!l.state.showConfirmModal;e?l.setState({showConfirmModal:e}):l.setState({showConfirmModal:e,activeDepId:null})},l.renderFooter=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:l.handleConfirmModal,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return l.onDeleteDepartment(l.state.activeDepId)},children:"Yes"})]})},l.state={departmentId:void 0,showDepartmentModal:!1,searchText:"",showConfirmModal:!1,activeDepId:null},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.fetchDepartments()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.departmentOrder;(null===(t=e.departmentOrder)||void 0===t?void 0:t.length)!==(null===i||void 0===i?void 0:i.length)&&this.loadMoreDepartments()}},{key:"render",value:function(){var e,t,i,l=this,o=this.props,r=o.departments,s=o.departmentOrder,d=o.departmentMeta,c=this.state,u=c.showDepartmentModal,v=c.departmentId,j=c.searchText,b=c.activeDepId,m=null===d||void 0===d?void 0:d.totalCount;j&&(m=null===(i=s=null===(t=s)||void 0===t?void 0:t.filter((function(e){var t,i,n=null===(t=r[e])||void 0===t||null===(i=t.name)||void 0===i?void 0:i.toLowerCase();return e&&(null===n||void 0===n?void 0:n.includes(j.toLowerCase()))})))||void 0===i?void 0:i.length);var h=null;return b&&(h=b&&r&&r[b]),Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Manage Department"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Department"}),Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Manage Department"})})]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:function(){return l.handelDepartmentModal(!0)},children:[Object(n.jsx)("i",{className:"fe fe-plus mr-2"})," Add Department"]})})]})})}),Object(n.jsx)(Le,{title:"Manage Department",headings:["No.","Department","Status","Action"],totalEntries:m,rowData:s||[],renderRow:this.renderTableRows,onSearch:this.onSearch,filter:{searchText:j}}),Object(n.jsx)(Qe,{show:u,handelModal:this.handelDepartmentModal,departmentId:v}),Object(n.jsxs)(Q,{show:this.state.showConfirmModal,handleClose:this.handleConfirmModal,title:"Confirm",footerComponent:this.renderFooter,children:["Do you want to delete ",Object(n.jsx)("b",{children:null===(e=h)||void 0===e?void 0:e.name})," department ?"]})]})}}]),i}(l.Component),Ye=(Object(p.b)((function(e){var t,i,n;return{departments:null===e||void 0===e||null===(t=e.department)||void 0===t?void 0:t.departments,departmentOrder:null===e||void 0===e||null===(i=e.department)||void 0===i?void 0:i.departmentOrder,departmentMeta:null===e||void 0===e||null===(n=e.department)||void 0===n?void 0:n.meta}}),(function(e){return{fetchDepartments:function(t){return e(Be(t))},deleteDepartment:function(t){return e(function(e){return{type:He.DELETE_REQUEST,id:e}}(t))}}}))(We),{SEARCH_PARTNER_REQUEST:"SEARCH_PARTNER_REQUEST",SEARCH_PARTNER_SUCCESS:"SEARCH_PARTNER_SUCCESS",SEARCH_PARTNER_FAIL:"SEARCH_PARTNER_FAIL"}),qe=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(v.a)(this,i),(n=t.call(this,e)).handleChange=function(e){return function(t){var i,l,a=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;"paymentMethod"!==e&&("pickupPinCode"===e||"shippingPinCode"===e?a=a.replace(/[^0-9]/g,""):"sellingPrice"!==e&&"length"!==e&&"breadth"!==e&&"height"!==e&&"weight"!==e||(a=a.replace(/[^0-9.]/g,""))),n.setState((l={},Object(u.a)(l,e,a),Object(u.a)(l,"pickupPinCodeErr",""),Object(u.a)(l,"shippingPinCodeErr",""),Object(u.a)(l,"lengthErr",""),Object(u.a)(l,"breadthErr",""),Object(u.a)(l,"heightErr",""),Object(u.a)(l,"weightErr",""),Object(u.a)(l,"sellingPriceErr",""),l))}},n.hasError=function(){var e=n.state,t=e.paymentMethod,i=e.pickupPinCode,l=e.shippingPinCode,a=e.sellingPrice,o=e.length,r=e.breadth,s=e.height,d=e.weight,c=!1,u="",v="",j="",b="",m="",h="",p="";return i||(u="Please enter pickup pin code",c=!0),l||(v="Please enter shipping pin code",c=!0),"cod"===t&&(a?A(a)||(j="Only numeric values are allowed. Selling Price should be more than 0.",c=!0):(j="Please enter Selling Price",c=!0)),o?A(o)||(b="Only numeric values are allowed. Length should be more than 0.",c=!0):(b="Please enter Length (cm)",c=!0),r?A(r)||(m="Only numeric values are allowed. Breadth should be more than 0.",c=!0):(m="Please enter Breadth (cm)",c=!0),s?A(s)||(h="Only numeric values are allowed. Length should be more than 0.",c=!0):(h="Please enter Height (cm)",c=!0),d?A(d)||(p="Only numeric values are allowed. Weight should be more than 0.",c=!0):(p="Please enter Weight Of Shipment(kg)",c=!0),n.setState({pickupPinCodeErr:u,shippingPinCodeErr:v,sellingPriceErr:j,lengthErr:b,breadthErr:m,heightErr:h,weightErr:p}),c},n.onSearch=function(){var e=n.props,t=e.searchPartner,i=e.loggedInUser,l=n.state,a=l.paymentMethod,o=l.pickupPinCode,r=l.shippingPinCode,s=l.sellingPrice,d=l.length,c=l.breadth,u=l.height,v=l.weight;if(!n.hasError()){n.setState({isLoading:!0});var j={payment_method:a,source:Number(o),destination:Number(r),length:Number(d),breadth:Number(c),height:Number(u),weight:Number(v),plan:i};"cod"===a&&(j.selling_price=s||0),t&&t(j)}};var l=null===e||void 0===e?void 0:e.data;return n.state={paymentMethod:(null===l||void 0===l?void 0:l.payment_method)||"prepaid",pickupPinCode:(null===l||void 0===l?void 0:l.source)||"",shippingPinCode:(null===l||void 0===l?void 0:l.destination)||"",sellingPrice:(null===l||void 0===l?void 0:l.selling_price)||"",length:(null===l||void 0===l?void 0:l.length)||"",breadth:(null===l||void 0===l?void 0:l.breadth)||"",height:(null===l||void 0===l?void 0:l.height)||"",weight:(null===l||void 0===l?void 0:l.weight)||"",pickupPinCodeErr:"",shippingPinCodeErr:"",lengthErr:"",breadthErr:"",heightErr:"",weightErr:"",isLoading:!1,plan:""},n}return Object(j.a)(i,[{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.loading,n=t.error;this.state.isLoading&&e.loading&&!i&&(this.setState({isLoading:!1}),!n&&this.props.history.push("/app/searchCourierPartnerList"))}},{key:"render",value:function(){var e=this.state,t=e.paymentMethod,i=e.pickupPinCode,l=e.shippingPinCode,o=e.sellingPrice,r=e.length,s=e.breadth,d=e.height,c=e.weight,u=e.pickupPinCodeErr,v=e.shippingPinCodeErr,j=e.sellingPriceErr,b=e.lengthErr,m=e.breadthErr,h=e.heightErr,p=e.weightErr,O=e.isLoading;this.props.loggedInUser;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Pin Code Search"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Pin Code"}),Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Pin Code Search"})})]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-lg-12",children:[Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"form-group",onChange:this.handleChange("paymentMethod"),children:[Object(n.jsxs)("label",{className:"d-block mb-3 order_label",children:["Payment Method ",Object(n.jsx)("span",{children:"*"})]}),Object(n.jsxs)("div",{className:"custom-control custom-radio custom-control-inline",children:[Object(n.jsx)("input",{type:"radio",id:"customRadioInline1",name:"outer-group[0][customRadioInline1]",className:"custom-control-input",value:"cod",checked:"cod"===t,disabled:O}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"customRadioInline1",children:"COD"})]}),Object(n.jsxs)("div",{className:"custom-control custom-radio custom-control-inline",children:[Object(n.jsx)("input",{type:"radio",id:"customRadioInline2",name:"outer-group[0][customRadioInline1]",className:"custom-control-input",value:"prepaid",checked:"prepaid"===t,disabled:O}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"customRadioInline2",children:"Prepaid"})]})]})})})})})})}),Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Pickup Pin Code",isRequired:!0,value:i,onChange:this.handleChange("pickupPinCode"),errorText:u,disabled:O})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Shipping Pin Code",isRequired:!0,value:l,onChange:this.handleChange("shippingPinCode"),errorText:v,disabled:O})})]})})})})}),Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("h4",{className:"mb-0 card-title",children:"Product Details"}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Length (cm)",isRequired:!0,placeholder:"Enter Length (cm)",value:r,onChange:this.handleChange("length"),errorText:b,disabled:O})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Breadth (cm)",isRequired:!0,placeholder:"Enter Breadth (cm)",value:s,onChange:this.handleChange("breadth"),errorText:m,disabled:O})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Height (cm)",isRequired:!0,placeholder:"Enter Height (cm)",value:d,onChange:this.handleChange("height"),errorText:h,disabled:O})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Weight Of Shipment(kg)",isRequired:!0,placeholder:"Enter Weight Of Shipment(kg)",value:c,onChange:this.handleChange("weight"),errorText:p,disabled:O})}),"cod"===t&&Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(I,{containerClassName:"form-group position-relative",labelClassName:"order_label",labelText:"Selling Price",isRequired:!0,value:o,onChange:this.handleChange("sellingPrice"),errorText:j,disabled:O})})]})})})]})})]}),Object(n.jsx)("div",{className:"col-xl-12 text-right my-55",children:Object(n.jsx)("div",{className:"button-items",children:Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:this.onSearch,disabled:O,children:O?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Searching..."})]}):"Search"})})})]})]})}}]),i}(l.Component),Ke=(Object(p.b)((function(e){var t,i,n=e.search,l=null===n||void 0===n?void 0:n.data,a=null===n||void 0===n?void 0:n.loading,o=null===n||void 0===n?void 0:n.error;return console.log(e),{data:l,loading:a,error:o,loggedInUser:null===(t=e.loggedInUser)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data.plan}}),(function(e){return{searchPartner:function(t){return e(function(e){return{type:Ye.SEARCH_PARTNER_REQUEST,payload:e}}(t))},getLoggedInUser:function(t){return e(Ne(t))}}}))(qe),i(486)),ze=function(e){var t=e.name,i=void 0===t?"":t,l=e.price,a=void 0===l?0:l,o=e.cod_charges,r=void 0===o?0:o,s=e.workingDays,d=void 0===s?2:s,c=e.isSelected,u=void 0!==c&&c,v=e.isRecommendation,j=void 0!==v&&v,b=e.isBestPrice,m=void 0!==b&&b,h=e.isBestTat,p=void 0!==h&&h,O=e.onClick,g=D(i);return Object(n.jsx)("div",{className:"card courier_cardhover ".concat(O&&"pointer"," ").concat(u&&"active"),onClick:O,children:Object(n.jsxs)("div",{className:"row align-items-center pt-2 pb-2",children:[Object(n.jsx)("div",{className:"col-md-7",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("div",{className:"col-md-2",style:{height:40,width:100},children:Object(n.jsx)("img",{src:g,alt:"",style:{height:"100%",width:"100%"}})}),Object(n.jsxs)("div",{className:"col-md-8",children:[Object(n.jsx)("span",{className:"font-weight-bold mb-1 mr-1",children:i}),j&&Object(n.jsx)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:"primary",children:"Recommended"}),m&&Object(n.jsx)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:"info",children:"Best Price"}),p&&Object(n.jsx)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:"warning",children:"Best TAT"})]})]})}),Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsxs)("p",{className:"mb-1 font-weight-bold font-size-17",children:["\u20b9 ",parseFloat(a+r).toFixed(2),"/-"]})}),Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("span",{className:"pr-2 font-size-16 theme_icon_color",children:Object(n.jsx)("i",{className:"bx bx-calendar"})}),Object(n.jsxs)("span",{children:[d," working days"]})]})}),O&&Object(n.jsx)("div",{className:"col-md-1",children:Object(n.jsx)("span",{className:"check_icon ".concat(u&&"active"),children:Object(n.jsx)("i",{className:"fa fa-long-arrow-alt-right","aria-hidden":"true"})})})]})})},Ve=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(v.a)(this,i);for(var n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).onGoBack=function(){e.props.history.goBack()},e}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.availableLogistic,i=e.history;t||i.replace("/app/pincodeSearch")}},{key:"render",value:function(){var e,t,i=this.props.availableLogistic;return i=[].concat(Object(Ae.a)((null===(e=i)||void 0===e?void 0:e.filter((function(e){return e.recommendation})))||[]),Object(Ae.a)((null===(t=i)||void 0===t?void 0:t.filter((function(e){return!e.recommendation})))||[])),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsx)("div",{children:Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Courier Partner"})})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-1"}),"Back"]})})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)("h4",{className:"card-title border-0",children:"Companies"})}),Object(n.jsx)("div",{className:"col-m-3",children:Object(n.jsx)("h4",{className:"card-title border-0",children:"*Price Excluding GST Amount"})}),Object(n.jsx)("div",{className:"col-md-2 ml-1",children:Object(n.jsx)("h4",{className:"card-title border-0",children:"Time "})})]})}),Array.isArray(i)&&i.map((function(e,t){var i,l,a;return Object(n.jsx)(ze,{logo:"/images/wow.png",name:null===e||void 0===e?void 0:e.name,price:null===e||void 0===e||null===(i=e.price)||void 0===i?void 0:i.total_value,cod_charges:null===e||void 0===e||null===(l=e.price)||void 0===l?void 0:l.cod_charges,workingDays:null===e||void 0===e||null===(a=e.price)||void 0===a?void 0:a.day,isRecommendation:null===e||void 0===e?void 0:e.recommendation,isBestPrice:null===e||void 0===e?void 0:e.best_price,isBestTat:null===e||void 0===e?void 0:e.best_tat},t)}))]})})]})}}]),i}(l.Component),Je=(Object(p.b)((function(e){var t,i=null===(t=e.search)||void 0===t?void 0:t.data;return{availableLogistic:null===i||void 0===i?void 0:i.available_logistic}}))(Ve),{CREATE_REQUEST:"CREATE_USER_REQUEST",CREATE_SUCCESS:"CREATE_USER_SUCCESS",CREATE_FAIL:"CREATE_USER_FAIL",FETCH_REQUEST:"FETCH_USER_REQUEST",FETCH_SUCCESS:"FETCH_USER_SUCCESS",FETCH_FAIL:"FETCH_USER_FAIL",FETCH_ALL_REQUEST:"FETCH_ALL_USERS_REQUEST",FETCH_ALL_SUCCESS:"FETCH_ALL_USERS_SUCCESS",FETCH_ALL_FAIL:"FETCH_ALL_USERS_FAIL",UPDATE_REQUEST:"UPDATE_USER_REQUEST",UPDATE_SUCCESS:"UPDATE_USER_SUCCESS",UPDATE_FAIL:"UPDATE_USER_FAIL",DELETE_REQUEST:"DELETE_USER_REQUEST",DELETE_SUCCESS:"DELETE_USER_SUCCESS",DELETE_FAIL:"DELETE_USER_FAIL",FETCH_ALL_USAGE_REQUEST:"FETCH_ALL_USAGE_REQUEST",FETCH_ALL_USAGE_SUCCESS:"FETCH_ALL_USAGE_SUCCESS",FETCH_ALL_USAGE_FAIL:"FETCH_ALL_USAGE_FAIL",FETCH_USER_USAGE_REQUEST:"FETCH_USER_USAGE_REQUEST",FETCH_USER_USAGE_SUCCESS:"FETCH_USER_USAGE_SUCCESS",FETCH_USER_USAGE_FAIL:"FETCH_USER_USAGE_FAIL",FETCH_ALL_CUSTOMER_REQUEST:"FETCH_ALL_USERS_CUSTOMER_REQUEST",FETCH_ALL_CUSTOMER_SUCCESS:"FETCH_ALL_USERS_CUSTOMER_SUCCESS",FETCH_ALL_CUSTOMER_FAIL:"FETCH_ALL_USERS_CUSTOMER_FAIL"}),Xe=function(e){return{type:Je.FETCH_ALL_CUSTOMER_REQUEST,payload:Object(M.a)(Object(M.a)({},e||{}),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}},$e=function(e){return{type:Je.UPDATE_REQUEST,payload:e}},Ze=i(78),et=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).setUserDetails=function(){var e,t,i,n=l.props,a=n.user,o=n.logistics,r=n.planOptions,s=null===a||void 0===a?void 0:a.selected_partners,d=null===a||void 0===a?void 0:a.visible_plans,c=[];s&&(c=(c=null===o||void 0===o?void 0:o.map((function(e){return(null===s||void 0===s?void 0:s.includes(null===e||void 0===e?void 0:e.value))&&e}))).filter((function(e){return e&&e})));var u,v,j,b=[];d&&(b=(null===(v=b=(null===r||void 0===r||null===(u=r.map)||void 0===u?void 0:u.call(r,(function(e){return(null===d||void 0===d?void 0:d.includes(null===e||void 0===e?void 0:e.value))&&e})))||[])||void 0===v||null===(j=v.filter)||void 0===j?void 0:j.call(v,(function(e){return e&&e})))||[]);l.setState({firstName:(null===a||void 0===a?void 0:a.first_name)||"",lastName:(null===a||void 0===a?void 0:a.last_name)||"",email:(null===a||void 0===a?void 0:a.email)||"",mobile:(null===a||void 0===a?void 0:a.mobile_number)||"",password:"",vendor:(null===a||void 0===a||null===(e=a.user_type)||void 0===e?void 0:e._id)||(null===a||void 0===a?void 0:a.user_type)||"",role:(null===a||void 0===a||null===(t=a.role)||void 0===t||null===(i=t._id)||void 0===i?void 0:i._id)||"",department:(null===a||void 0===a?void 0:a.department)||"",plan:(null===a||void 0===a?void 0:a.plan)||"",visible_plans:b,selectedPartners:c,active:!1,amount:""})},l.handelResponseError=function(){var e,t,i,n=l.props.error;409==(null===n||void 0===n||null===(e=n.meta)||void 0===e?void 0:e.status)&&(t=null===n||void 0===n||null===(i=n.meta)||void 0===i?void 0:i.message);l.setState({emailErr:t,isLoading:!1})},l.onClickClose=function(){var e=l.props.handelModal;l.setState({firstName:"",lastName:"",email:"",mobile:"",password:"",vendor:"",role:"",department:"",plan:"",visible_plans:[],selectedPartners:"",amount:"",firstNameErr:"",lastNameErr:"",emailErr:"",mobileErr:"",passwordErr:"",vendorErr:"",roleErr:"",departmentErr:"",planErr:"",active:!1,isLoading:!1,amountErr:""}),"function"===typeof e&&e()},l.hasError=function(){var e,t,i,n=l.props,a=n.userId,o=n.roleObjMap,r=l.state,s=r.firstName,d=r.email,c=r.password,u=r.mobile,v=r.role,j=r.vendor,b=(r.amount,r.plan),m="",h="",p="",O="",g="",x="",f="";(s.length<=0&&(m="Please enter name"),a||(d.length<=0?h="Please enter email id":w(d)||(h="Please enter valid email id"),c.length<=0?p="Please enter password":k(c)||(p="Password at least 4 characters")),u&&(O=10!==u.length&&"Please enter valid mobile number"),v||(g="Please select role"),j||b||(x="Please select plan"),j)||"vendor"===(o&&v&&""!==v&&(null===(e=o[v])||void 0===e||null===(t=e.role_id)||void 0===t||null===(i=t.trim())||void 0===i?void 0:i.toLowerCase()))&&(f="Please select vendor");return l.setState({firstNameErr:m,emailErr:h,passwordErr:p,mobileErr:O,roleErr:g,planErr:x,vendorErr:f}),!!m||!!h||p||O||g||x||f},l.onClickSave=function(){var e=l.props,t=e.userId,i=e.createUser,n=e.updateUser,a=l.state,o=a.firstName,r=a.lastName,s=a.email,d=a.mobile,c=a.password,u=a.vendor,v=a.role,j=a.department,b=a.plan,m=a.visible_plans,h=a.selectedPartners,p=(a.active,a.amount);if(!l.hasError()){var O,g,x,f,_,E,N,y,S,C,w;l.setState({isLoading:!0}),o=null===(O=o)||void 0===O?void 0:O.trim(),r=null===(g=r)||void 0===g?void 0:g.trim(),s=null===(x=s)||void 0===x?void 0:x.trim(),d=null===(f=d)||void 0===f?void 0:f.trim(),c=null===(_=c)||void 0===_?void 0:_.trim(),u=null===(E=u)||void 0===E?void 0:E.trim(),v=null===(N=v)||void 0===N?void 0:N.trim(),j=null===(y=j)||void 0===y?void 0:y.trim(),b=null===(S=b)||void 0===S?void 0:S.trim(),p=null===(C=p)||void 0===C?void 0:C.trim();var T={first_name:o,last_name:r,email:s,mobile_number:d,password:c,user_type:u,role:v,department:j,plan:b,visible_plans:(null===m||void 0===m||null===(w=m.map)||void 0===w?void 0:w.call(m,(function(e){return null===e||void 0===e?void 0:e.value})))||[],selected_partners:null===h||void 0===h?void 0:h.map((function(e){return null===e||void 0===e?void 0:e.value})),amount:p};t?(T._id=t,n(T)):i(T)}},l.renderFooter=function(){var e=l.props.userId,t=l.state.isLoading;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:l.onClickClose,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:l.onClickSave,disabled:t,children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Saving..."})]}):e?"Save changes":"Add User"})]})},l.handelChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n,a,o,r="string"===typeof(null===i||void 0===i||null===(n=i.target)||void 0===n?void 0:n.value)?i.target.value:i,s=null===i||void 0===i||null===(a=i.target)||void 0===a?void 0:a.checked;("mobile"!==e&&"amount"!==e||(r=r.replace(/[^0-9]/g,"")),"role"===e)?l.setState((o={},Object(u.a)(o,e,t?s:r),Object(u.a)(o,"vendor",""),o)):l.setState(Object(u.a)({},e,t?s:r))}},l.state={firstName:"",lastName:"",email:"",mobile:"",password:"",vendor:"",role:"",department:"",plan:"",visible_plans:[],selectedPartners:[],active:!1,amount:"",firstNameErr:"",lastNameErr:"",emailErr:"",mobileErr:"",passwordErr:"",vendorErr:"",roleErr:"",departmentErr:"",planErr:"",isLoading:!1,amountErr:""},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.props.user&&this.setUserDetails()}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.user,n=t.userId;i&&(null===e||void 0===e?void 0:e.userId)!==n&&this.setUserDetails(),!this.props.loading&&e.loading&&this.state.isLoading&&(this.props.error?this.handelResponseError():this.onClickClose())}},{key:"render",value:function(){var e,t=this.props,i=t.show,l=t.userId,a=t.roleObjMap,o=(t.roleOrder,t.departmentObjMap),r=t.departmentOrder,s=t.planObjMap,d=t.planOrder,c=t.planOptions,u=t.logistics,v=this.state,j=v.firstName,b=v.lastName,m=v.email,h=v.mobile,p=v.password,O=v.vendor,g=v.role,x=v.department,f=v.plan,_=v.visible_plans,E=v.selectedPartners,N=v.amount,y=v.firstNameErr,S=v.emailErr,C=v.passwordErr,w=v.mobileErr,T=v.roleErr,A=v.vendorErr,R=v.planErr,k=v.amountErr,D=l?"Edit User":"Add New User",L=null===a||void 0===a?void 0:a[g],U=null===L||void 0===L?void 0:L.role_id;return Object(n.jsx)(Q,{show:i,handleClose:this.onClickClose,title:D,footerComponent:this.renderFooter,children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-6 col-6 col-md-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"first name",value:j,onChange:this.handelChange("firstName"),errorText:y,isRequired:!0})}),Object(n.jsx)("div",{className:"col-xl-6 col-6 col-md-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"last name",value:b,onChange:this.handelChange("lastName")})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-6 col-6 col-md-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"email Id",value:m,onChange:this.handelChange("email"),errorText:S,disabled:l,isRequired:!0})}),Object(n.jsx)("div",{className:"col-xl-6 col-6 col-md-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"phone number",value:h,onChange:this.handelChange("mobile"),errorText:w})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-6 col-6 col-md-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"password",value:p,onChange:this.handelChange("password"),errorText:C,isPasswordText:!0,disabled:l,isRequired:!0})}),Object(n.jsx)("div",{className:"col-xl-6 col-6 col-md-6",children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("label",{className:"text-capitalize",children:["Role ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{className:"form-control ".concat(!!T&&"is-invalid"),value:g,onChange:this.handelChange("role"),children:[Object(n.jsx)("option",{value:"",children:"Select role"}),"object"===typeof a&&Object.keys(a).map((function(e,t){var i=e&&a[e];return i&&(null===i||void 0===i?void 0:i.active)&&Object(n.jsx)("option",{value:e,children:null===i||void 0===i?void 0:i.name},t)}))]})}),!!T&&Object(n.jsx)("div",{className:"invalid-feedback",children:T})]})}),Object(n.jsxs)("div",{className:"col-xl-6 col-6 col-md-6",children:[Object(n.jsx)("label",{className:"text-capitalize",children:"Department"}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{className:"form-control mb-3",value:x,onChange:this.handelChange("department"),children:[Object(n.jsx)("option",{value:"",children:"Select department"}),Array.isArray(r)&&r.map((function(e,t){var i,l=e&&o[e],a=null===l||void 0===l?void 0:l.name;return(null===l||void 0===l||null===(i=l.attributes)||void 0===i?void 0:i.active)&&Object(n.jsx)("option",{value:e,children:a},t)}))]})})]}),L&&"vendor"!==U&&Object(n.jsxs)("div",{className:"col-xl-6 col-6 col-md-6",children:[Object(n.jsxs)("label",{className:"text-capitalize",children:["Plan ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("select",{className:"form-control ".concat(!!R&&"is-invalid"),value:f,onChange:this.handelChange("plan"),children:[Object(n.jsx)("option",{value:"",children:"Select plan"}),Array.isArray(d)&&d.map((function(e,t){var i,l=e&&s[e],a=null===l||void 0===l?void 0:l.planName;return(null===l||void 0===l||null===(i=l.attributes)||void 0===i?void 0:i.active)&&Object(n.jsx)("option",{value:e,children:a},t)}))]}),!!R&&Object(n.jsx)("div",{className:"invalid-feedback",children:R})]})]}),"vendor"===U&&Object(n.jsxs)("div",{className:"col-xl-6 col-6 col-md-6",children:[Object(n.jsxs)("label",{className:"text-capitalize",children:["Vendor ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("select",{className:"form-control ".concat(!!A&&"is-invalid"),value:O,onChange:this.handelChange("vendor"),children:[Object(n.jsx)("option",{value:"",children:"Select vendor"}),u&&u.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.label},t)}))]}),!!A&&Object(n.jsx)("div",{className:"invalid-feedback",children:A})]})]}),Object(n.jsx)("div",{className:"col-xl-6 col-6 col-md-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"Add Amount",value:N,onChange:this.handelChange("amount"),errorText:k})}),"vendor"!==U&&Object(n.jsxs)("div",{className:"col-xl-6 col-6 col-md-6",children:[Object(n.jsx)("label",{className:"text-capitalize",children:"Delivery partners"}),Object(n.jsx)("div",{children:Object(n.jsx)(Ze.a,{options:u,value:E,onChange:this.handelChange("selectedPartners"),isMulti:!0})})]}),(null===L||void 0===L||null===(e=L.permissions)||void 0===e?void 0:e.showAllOrders)&&Object(n.jsxs)("div",{className:"col-xl-6 col-6 col-md-6",children:[Object(n.jsx)("label",{className:"text-capitalize",children:"Visible Plans"}),Object(n.jsx)("div",{children:Object(n.jsx)(Ze.a,{options:c,value:_,placeholder:"All Plans",onChange:this.handelChange("visible_plans"),isMulti:!0})})]})]})]})})}}]),i}(l.Component),tt=Object(p.b)((function(e,t){var i,n,l,a,o,r,s,d,c,u,v,j=t.userId,b=null===e||void 0===e||null===(i=e.users)||void 0===i?void 0:i.users,m=(null===(n=e.logistics)||void 0===n?void 0:n.data)||[];m=m.map((function(e){return{value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.name}}));var h=null===e||void 0===e||null===(l=e.plan)||void 0===l?void 0:l.planOrder,p=null===e||void 0===e||null===(a=e.plan)||void 0===a?void 0:a.plans,O=null===h||void 0===h?void 0:h.map((function(e){var t;return{value:e,label:null===p||void 0===p||null===(t=p[e])||void 0===t?void 0:t.planName}}));return{user:j&&b&&b[j],departmentObjMap:null===e||void 0===e||null===(o=e.department)||void 0===o?void 0:o.departments,departmentOrder:null===e||void 0===e||null===(r=e.department)||void 0===r?void 0:r.departmentOrder,planObjMap:null===e||void 0===e||null===(s=e.plan)||void 0===s?void 0:s.plans,planOrder:null===e||void 0===e||null===(d=e.plan)||void 0===d?void 0:d.planOrder,planOptions:O,roleObjMap:null===e||void 0===e||null===(c=e.role)||void 0===c?void 0:c.roles,loading:null===e||void 0===e||null===(u=e.users)||void 0===u?void 0:u.loading,error:null===e||void 0===e||null===(v=e.users)||void 0===v?void 0:v.error,logistics:m}}),(function(e){return{createUser:function(t){return e(function(e){return{type:Je.CREATE_REQUEST,payload:e}}(t))},updateUser:function(t){return e($e(t))}}}))(et),it={CREATE_REQUEST:"CREATE_ROLE_REQUEST",CREATE_SUCCESS:"CREATE_ROLE_SUCCESS",CREATE_FAIL:"CREATE_ROLE_FAIL",FETCH_All_REQUEST:"FETCH_All_ROLE_REQUEST",FETCH_All_SUCCESS:"FETCH_All_ROLE_SUCCESS",FETCH_All_FAIL:"FETCH_All_ROLE_FAIL",FETCH_REQUEST:"FETCH_ROLE_REQUEST",FETCH_SUCCESS:"FETCH_ROLE_SUCCESS",FETCH_FAIL:"FETCH_ROLE_FAIL",UPDATE_REQUEST:"UPDATE_ROLE_REQUEST",UPDATE_SUCCESS:"UPDATE_ROLE_SUCCESS",UPDATE_FAIL:"UPDATE_ROLE_FAIL",DELETE_REQUEST:"DELETE_ROLE_REQUEST",DELETE_SUCCESS:"DELETE_ROLE_SUCCESS",DELETE_FAIL:"DELETE_ROLE_FAIL"},nt=function(e){return{type:it.FETCH_All_REQUEST,payload:Object(M.a)(Object(M.a)({},e||{}),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}},lt=function(e){return{type:it.UPDATE_REQUEST,payload:e}},at={CREATE_REQUEST:"CREATE_PLAN_REQUEST",CREATE_SUCCESS:"CREATE_PLAN_SUCCESS",CREATE_FAIL:"CREATE_PLAN_FAIL",FETCH_REQUEST:"FETCH_PLAN_REQUEST",FETCH_SUCCESS:"FETCH_PLAN_SUCCESS",FETCH_FAIL:"FETCH_PLAN_FAIL",UPDATE_REQUEST:"UPDATE_PLAN_REQUEST",UPDATE_SUCCESS:"UPDATE_PLAN_SUCCESS",UPDATE_FAIL:"UPDATE_PLAN_FAIL",DELETE_REQUEST:"DELETE_PLAN_REQUEST",DELETE_SUCCESS:"DELETE_PLAN_SUCCESS",DELETE_FAIL:"DELETE_PLAN_FAIL"},ot=function(e){return{type:at.FETCH_REQUEST,payload:Object(M.a)(Object(M.a)({},e||{}),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}},rt=Object(p.b)((function(e,t){var i=t.userId,n=e.users.users;return{user:i&&n&&n[i],loading:e.users.loading,error:e.users.error}}),(function(e){return{updateUser:function(t){return e($e(t))}}}))((function(e){var t=e.userId,i=e.user,a=void 0===i?{}:i,o=e.show,r=void 0!==o&&o,s=e.updateUser,d=e.handleModal,c=void 0===d?function(){}:d,u=e.loading,v=void 0!==u&&u,j=e.error,b=void 0===j?null:j,m=Object(l.useRef)(v),h=Object(l.useState)({isLoading:!1}),p=Object(H.a)(h,2),O=p[0],g=p[1];Object(l.useEffect)((function(){var e;return O.isLoading&&(null===(e=m.current)||void 0===e?void 0:e.loading)&&!v&&(b?L("error",null===b||void 0===b?void 0:b.message):c(),g({isLoading:!1})),function(){return m.current={loading:v}}}),[v]);var x=null===a||void 0===a?void 0:a.active,f="".concat(x?"Deactive":"Active"," User"),_=function(){g({isLoading:!0}),s({_id:t,active:!x})};return Object(n.jsxs)(Q,{show:r,handleClose:c,title:f,footerComponent:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return c()},children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:_,disabled:O.isLoading,children:O.isLoading?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Updating..."})]}):"Yes"})]})},children:["Are you sure to ",x?"deactivate":"activate"," ",Object(n.jsx)("b",{children:(null===a||void 0===a?void 0:a.first_name)||(null===a||void 0===a?void 0:a.email)})," ?"]})})),st=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).loadMoreUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.props,n=i.userOrder,a=i.userMeta,o=i.fetchAllUsers;if(0===e||(null===a||void 0===a?void 0:a.totalCount)>(null===n||void 0===n?void 0:n.length)){var r={offset:e,limit:t};"function"===typeof o&&o(r)}},l.handelUserModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;l.setState({showUserModal:e,userId:t})},l.onDeleteUser=function(e){var t=l.props.deleteUser;"function"===typeof t&&t(e)},l.handleToggleStatusModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;l.setState({showToggleUserStatusModal:e,userId:t})},l.onShowUserWallet=function(e){var t=l.props.history;null===t||void 0===t||t.push("/app/walletdetails/".concat(e))},l.renderTableRow=function(e,t){var i,a,o,r,s,d,c=l.props,u=c.usersObjMap,v=c.roleObjMap,j=c.departments,b=e&&u&&u[e];return b&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsxs)("td",{children:[null===b||void 0===b?void 0:b.first_name," ",null===b||void 0===b?void 0:b.last_name]}),Object(n.jsx)("td",{children:null===b||void 0===b?void 0:b.email}),Object(n.jsx)("td",{children:(null===b||void 0===b||null===(i=b.role)||void 0===i||null===(a=i._id)||void 0===a?void 0:a.name)||v&&(null===(o=v[null===b||void 0===b||null===(r=b.role)||void 0===r?void 0:r._id])||void 0===o?void 0:o.name)}),Object(n.jsx)("td",{children:(null===b||void 0===b||null===(s=b.department)||void 0===s?void 0:s.name)?b.department.name:(null===b||void 0===b?void 0:b.department)&&j[null===b||void 0===b?void 0:b.department]?null===(d=j[null===b||void 0===b?void 0:b.department])||void 0===d?void 0:d.name:""}),Object(n.jsx)("td",{children:null===b||void 0===b?void 0:b.mobile_number}),Object(n.jsx)("td",{children:(null===b||void 0===b?void 0:b.created_at)?f()(b.created_at).format("D MMM YYYY, h:mm a"):"-"}),Object(n.jsx)("td",{className:(null===b||void 0===b?void 0:b.active)?"greenColor":"redColor",children:(null===b||void 0===b?void 0:b.active)?"Active":"Inactive"}),Object(n.jsxs)("td",{style:{textAlign:"center"},children:[Object(n.jsx)("span",{onClick:function(){return l.handelUserModal(!0,(null===b||void 0===b?void 0:b._id)||(null===b||void 0===b?void 0:b.id))},children:Object(n.jsx)(te.a,{content:"Edit",children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}),Object(n.jsx)("span",{className:"ml-2",onClick:function(){return l.handleToggleStatusModal(!0,(null===b||void 0===b?void 0:b._id)||(null===b||void 0===b?void 0:b.id))},children:Object(n.jsx)(te.a,{content:(null===b||void 0===b?void 0:b.active)?"Click to deactivate":"Click to activate",children:(null===b||void 0===b?void 0:b.active)?Object(n.jsx)("i",{className:"fas fa-user greenColor"}):Object(n.jsx)("i",{className:"fas fa-user-slash"})})}),Object(n.jsx)("span",{className:"ml-2",onClick:function(){return l.onShowUserWallet((null===b||void 0===b?void 0:b._id)||(null===b||void 0===b?void 0:b.id))},children:Object(n.jsx)(te.a,{content:"Wallet",children:Object(n.jsx)("i",{className:"fas fa-wallet"})})})]})]},"".concat(e,"_").concat(t))},l.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";l.setState({searchText:e.trim()})},l.getFilterUserOrder=function(){var e,t=l.state.searchText,i=l.props,n=i.userOrder,a=i.usersObjMap,o=i.departments;t&&(n=null===(e=n)||void 0===e?void 0:e.filter((function(e){var i,n,l,r=a[e],s="".concat(null===r||void 0===r?void 0:r.first_name," ").concat((null===r||void 0===r?void 0:r.last_name)||"").toLowerCase(),d=null===r||void 0===r||null===(i=r.email)||void 0===i?void 0:i.toLowerCase(),c=null===r||void 0===r||null===(n=r.mobile_number)||void 0===n?void 0:n.toLowerCase(),u=(null===r||void 0===r?void 0:r.department)&&o&&o[null===r||void 0===r?void 0:r.department],v=null===u||void 0===u||null===(l=u.name)||void 0===l?void 0:l.toLowerCase();return(null===s||void 0===s?void 0:s.includes(t.toLowerCase()))||(null===d||void 0===d?void 0:d.includes(t.toLowerCase()))||(null===c||void 0===c?void 0:c.includes(t.toLowerCase()))||(null===v||void 0===v?void 0:v.includes(t.toLowerCase()))})));return n||[]},l.userModalId="userModalId",l.state={userId:void 0,showUserModal:!1,showToggleUserStatusModal:!1,searchText:""},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchAllRole,i=e.fetchDepartments,n=e.fetchPlans;e.fetchAllUsers;"function"===typeof t&&t(),"function"===typeof i&&i(),"function"===typeof n&&n(),this.loadMoreUser(0)}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.userOrder;(null===(t=e.userOrder)||void 0===t?void 0:t.length)!==(null===i||void 0===i?void 0:i.length)&&this.loadMoreUser(null===i||void 0===i?void 0:i.length)}},{key:"render",value:function(){var e=this,t=this.props.userMeta,i=this.state,l=i.showUserModal,o=i.showToggleUserStatusModal,r=i.userId,s=i.searchText,d=this.getFilterUserOrder(),c=s?null===d||void 0===d?void 0:d.length:null===t||void 0===t?void 0:t.totalCount;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"User Management"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"User Management"}),Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"User Management"})})]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:function(){return e.handelUserModal(!0)},children:[Object(n.jsx)("i",{className:"fe fe-plus mr-2"})," Add User"]})})]})})}),Object(n.jsx)(Le,{title:"User Management",headings:["No.","Name","Email","Role","Department","Phone number","Created at","Status","Action"],rowData:d||[],renderRow:this.renderTableRow,filter:{searchText:s},totalEntries:c,onSearch:this.onSearch,searchPlaceholder:"Search by name or email"}),Object(n.jsx)(tt,{show:l,handelModal:this.handelUserModal,userId:r}),Object(n.jsx)(rt,{show:o,handleModal:this.handleToggleStatusModal,userId:r})]})}}]),i}(l.Component),dt=(Object(p.b)((function(e){var t,i,n,l,a,o;return{usersObjMap:null===e||void 0===e||null===(t=e.users)||void 0===t?void 0:t.users,userOrder:null===e||void 0===e||null===(i=e.users)||void 0===i?void 0:i.userOrder,userMeta:null===e||void 0===e||null===(n=e.users)||void 0===n?void 0:n.meta,roleObjMap:null===e||void 0===e||null===(l=e.role)||void 0===l?void 0:l.roles,departments:null===e||void 0===e||null===(a=e.department)||void 0===a?void 0:a.departments,plans:null===e||void 0===e||null===(o=e.plan)||void 0===o?void 0:o.plans}}),(function(e){return{fetchAllUsers:function(t){return e(function(e){return{type:Je.FETCH_ALL_REQUEST,payload:Object(M.a)(Object(M.a)({},e||{}),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}}(t))},deleteUser:function(t){return e(function(e){return{type:Je.DELETE_REQUEST,id:e}}(t))},fetchDepartments:function(t){return e(Be(t))},fetchPlans:function(t){return e(ot(t))},fetchAllRole:function(t){return e(nt(t))}}}))(st),Object(p.b)((function(e,t){var i=t.id;return{role:i&&e.role.roles[i]}}),(function(e){return{}}))((function(e){var t=e.id,i=void 0===t?"":t,l=e.index,a=void 0===l?0:l,o=e.role,r=Object(B.a)(e,["id","index","role"]);if(!o)return Object(n.jsx)(n.Fragment,{});return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center",width:"70px"},children:a+1}),Object(n.jsx)("td",{children:null===o||void 0===o?void 0:o.name}),Object(n.jsx)("td",{className:(null===o||void 0===o?void 0:o.active)?"greenColor":"redColor",style:{width:"140px"},children:(null===o||void 0===o?void 0:o.active)?"Active":"Deactive"}),Object(n.jsxs)("td",{style:{textAlign:"center",width:"140px"},children:[Object(n.jsx)("span",{onClick:function(e){var t;null===(t=r.history)||void 0===t||t.push("/app/role/".concat(i))},children:Object(n.jsx)(te.a,{content:"Edit",children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}),Object(n.jsx)("span",{className:"ml-2",onClick:function(e){r.toggleRole&&r.toggleRole(!0,i)},children:Object(n.jsx)(te.a,{content:(null===o||void 0===o?void 0:o.active)?"Deactivate":"Activate",children:(null===o||void 0===o?void 0:o.active)?Object(n.jsx)("i",{className:"fas fa-user greenColor"}):Object(n.jsx)("i",{className:"fas fa-user-slash"})})})]})]},a)}))),ct=Object(p.b)((function(e,t){var i=t.id,n=i&&e.role.roles[i];return{role:n,loading:null===n||void 0===n?void 0:n.updating,error:null===n||void 0===n?void 0:n.error}}),(function(e){return{updateRole:function(t){return e(lt(t))}}}))((function(e){var t=e.id,i=e.role,a=void 0===i?{}:i,o=e.show,r=void 0!==o&&o,s=e.updateRole,d=e.handleModal,c=void 0===d?function(){}:d,u=e.loading,v=void 0!==u&&u,j=e.error,b=void 0===j?null:j,m=Object(l.useRef)(v),h=Object(l.useState)({isLoading:!1}),p=Object(H.a)(h,2),O=p[0],g=p[1];Object(l.useEffect)((function(){var e;return O.isLoading&&(null===(e=m.current)||void 0===e?void 0:e.loading)&&!v&&(b||c(),g({isLoading:!1})),function(){return m.current={loading:v}}}),[v]);var x=null===a||void 0===a?void 0:a.active,f="".concat(x?"Deactive":"Active"," Role");return Object(n.jsxs)(G.a,{show:r,onHide:c,backdrop:"static",children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:f})}),Object(n.jsxs)(G.a.Body,{children:["Are you sure to ",x?"deactivate":"activate"," ",Object(n.jsx)("b",{children:null===a||void 0===a?void 0:a.name})," ?"]}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:c,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){g({isLoading:!0}),s({_id:t,active:!x})},disabled:O.isLoading,children:O.isLoading?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Updating..."})]}):"Yes"})]})]})})),ut=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).loadMore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=n.state.searchText,l=n.props,a=l.fetchAllRole,o=l.list,r=l.meta,s=l.location;if(i=i.trim(),0===e||(null===r||void 0===r?void 0:r.total_count)>(null===o||void 0===o?void 0:o.length)){var d={pathname:null===s||void 0===s?void 0:s.pathname,offset:e,limit:t};i&&(d.text=i),a&&a(d)}},n.onAddRole=function(){n.props.history.push("/app/create-role/")},n.handleToggleRoleModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&t&&e,n.setState({showRoleToggleModal:e,roleId:t})},n.state={searchText:"",showRoleToggleModal:!1,roleId:null},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMore()}},{key:"render",value:function(){var e=this,t=this.props,i=t.list,l=t.meta,o=t.loading,r=this.state,s=r.showRoleToggleModal,d=r.roleId;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Role Management"}),Object(n.jsx)(we,{title:["Role","Role Management"]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text","data-toggle":"modal","data-target":"#addUserModal",onClick:this.onAddRole,children:[Object(n.jsx)("i",{className:"fe fe-plus mr-2"})," Add Role"]})})]})})}),Object(n.jsx)(Le,{headings:["No.",{text:"Name",style:{}},"State","Action"],showSearch:!1,rowData:i,totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),renderRow:function(t,i){return Object(n.jsx)(dt,{id:t,index:i,history:e.props.history,toggleRole:e.handleToggleRoleModal})},loadMore:this.loadMore,loading:o}),Object(n.jsx)(ct,{show:s,handleModal:this.handleToggleRoleModal,id:d})]})}}]),i}(l.Component),vt=(Object(p.b)((function(e,t){var i,n,l=t.location,a=null===l||void 0===l?void 0:l.pathname,o=null===(i=e.users)||void 0===i?void 0:i.filters[a],r=(null===(n=e.role)||void 0===n?void 0:n.boards)[JSON.stringify(o||{})];return{filter:o,list:null===r||void 0===r?void 0:r.list,meta:null===r||void 0===r?void 0:r.meta,loading:null===r||void 0===r?void 0:r.loading}}),(function(e){return{fetchAllRole:function(t){return e(nt(t))}}}))(ut),l.Component,function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).onGoBack=function(){n.props.history.goBack()},n.handleChange=function(e){return function(t){var i,l=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;n.setState(Object(u.a)({},e,l))}},n.onSelectCourierPartner=function(e){var t=n.props,i=t.order,l=t.orderId,a=t.selectCourierPartner,o=t.history;a&&a({orderId:l,partner:e,choosePartner:e});var r=null===i||void 0===i?void 0:i.bulk_id,s=r&&!(null===i||void 0===i?void 0:i.transaction_id)?"/app/bulkShipmentList/".concat(r):"/app/individualinvoice/".concat(l);o.push(s)},n.state={searchText:"",isSelected:!1},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props,i=t.match,n=t.getOrder,l=t.order,a=null===i||void 0===i||null===(e=i.params)||void 0===e?void 0:e.id;a&&!l&&n&&n(a)}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.order,n=t.history;(null===i||void 0===i?void 0:i._id)&&(null===i||void 0===i?void 0:i.transaction_id)&&n.replace("/app/individualinvoice/".concat(i._id))}},{key:"render",value:function(){var e,t,i=this,l=this.state,a=(l.searchText,l.isSelected,this.props),o=(a.orderId,a.order),r=(a.history,null===o||void 0===o?void 0:o.loading),s=null===o||void 0===o?void 0:o.available_logistic;return s=[].concat(Object(Ae.a)((null===(e=s)||void 0===e?void 0:e.filter((function(e){return e.recommendation})))||[]),Object(Ae.a)((null===(t=s)||void 0===t?void 0:t.filter((function(e){return!e.recommendation})))||[])),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Select Courier Partner"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Shipment"})}),Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Courier Partner"})]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left"})," ","Back"]})})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)("h4",{className:"card-title border-0",children:"Companies"})}),Object(n.jsx)("div",{className:"col-m-3",children:Object(n.jsx)("h4",{className:"card-title border-0",children:"*Price Excluding GST Amount"})}),Object(n.jsx)("div",{className:"col-md-2 ml-1",children:Object(n.jsx)("h4",{className:"card-title border-0",children:"Time "})})]})}),r&&Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-center m-5",children:[Object(n.jsx)("samp",{className:"spinner-border mr-2",role:"status"}),Object(n.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}),Array.isArray(s)&&s.map((function(e,t){var l,a,o;return Object(n.jsx)(ze,{logo:"/images/wow.png",name:null===e||void 0===e?void 0:e.name,price:null===e||void 0===e||null===(l=e.price)||void 0===l?void 0:l.total_value,cod_charges:null===e||void 0===e||null===(a=e.price)||void 0===a?void 0:a.cod_charges,workingDays:null===e||void 0===e||null===(o=e.price)||void 0===o?void 0:o.day,isSelected:!1,isRecommendation:null===e||void 0===e?void 0:e.recommendation,isBestPrice:null===e||void 0===e?void 0:e.best_price,isBestTat:null===e||void 0===e?void 0:e.best_tat,onClick:function(){return i.onSelectCourierPartner(e)}},t)}))]})})]})}}]),i}(l.Component)),jt=(Object(p.b)((function(e,t){var i,n,l=t.match,a=null===l||void 0===l||null===(i=l.params)||void 0===i?void 0:i.id,o=null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.orders;return{orderId:a,orders:o,order:o&&a&&o[a]}}),(function(e){return{getOrder:function(t){return e(pe(t))},selectCourierPartner:function(t){return e(fe(t))}}}))(vt),function(e){var t,i,a,o,r=e.showHeader,s=void 0!==r&&r,d=e.details,c=void 0===d?{}:d,u=Object(l.useState)({headingData:["No","Qty","Shipment Name","Description","Price","GST at 18%","Total"]}),v=Object(H.a)(u,2),j=v[0],b=v[1],m=null===c||void 0===c?void 0:c.orders;Object(l.useEffect)((function(){"cod"===(null===c||void 0===c?void 0:c.paymentMethod)&&(h=["No","Qty","Shipment Name","Description","Price","COD Charges","GST at 18%","Total"],b(Object(M.a)(Object(M.a)({},j),{},{headingData:h})))}),[null===c||void 0===c?void 0:c.paymentMethod]);var h=j.headingData;return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"card indivisual_invoice",children:[s&&Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-between align-items-center invoice_logo_wrapper pt-2 pb-2",children:[Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsx)("img",{src:"/images/logo.svg",alt:""})}),Object(n.jsx)("div",{children:Object(n.jsxs)("span",{className:"theme_icon_color font-size-18 font-weight-bold",children:["Shipment #",null===c||void 0===c?void 0:c.orderId]})})]}),Object(n.jsx)("div",{className:"total_amt pt-3 pb-3 d-flex justify-content-end",children:Object(n.jsxs)("h5",{className:"",children:[Object(n.jsx)("span",{children:"Total Amount"})," :"," ","\u20b9 ".concat(parseFloat((null===c||void 0===c?void 0:c.totalAmount)||0).toFixed(2))]})})]}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsxs)("div",{className:"row mt-3",children:[Object(n.jsxs)("div",{className:"col-md-6 invoice_logo_wrapper",children:[Object(n.jsx)("h5",{children:"Billed To:"}),Object(n.jsx)("p",{className:"mb-1",children:null===c||void 0===c||null===(t=c.billedTo)||void 0===t?void 0:t.name}),Object(n.jsx)("p",{className:"mb-1",children:null===c||void 0===c||null===(i=c.billedTo)||void 0===i?void 0:i.address})]}),Object(n.jsxs)("div",{className:"col-md-6 invoice_logo_wrapper text-right",children:[Object(n.jsx)("h5",{children:"Shipped To:"}),Object(n.jsx)("p",{className:"mb-1",children:null===c||void 0===c||null===(a=c.shippedTo)||void 0===a?void 0:a.name}),Object(n.jsx)("p",{className:"mb-1",children:null===c||void 0===c||null===(o=c.shippedTo)||void 0===o?void 0:o.address})]})]}),Object(n.jsxs)("div",{className:"row mt-3",children:[Object(n.jsxs)("div",{className:"col-md-6 invoice_logo_wrapper",children:[Object(n.jsx)("h5",{children:"Payment Method:"}),Object(n.jsx)("p",{className:"mb-1",style:{textTransform:"capitalize"},children:null===c||void 0===c?void 0:c.paymentMethod}),Object(n.jsx)("p",{className:"mb-1",children:null===c||void 0===c?void 0:c.email})]}),(null===c||void 0===c?void 0:c.order_date)&&Object(n.jsxs)("div",{className:"col-md-6 invoice_logo_wrapper text-right",children:[Object(n.jsx)("h5",{children:"Shipment Date:"}),Object(n.jsx)("p",{className:"mb-1",style:{letterSpacing:1},children:f()(null===c||void 0===c?void 0:c.order_date).format("D MMM YYYY, h:mm:ss a")})]})]})]}),Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)(De,{headingData:h,rowData:m,renderRowItem:function(e,t){var i=null===c||void 0===c?void 0:c.paymentMethod;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(n.jsx)("td",{children:null===e||void 0===e?void 0:e.name}),Object(n.jsx)("td",{children:null===e||void 0===e?void 0:e.description}),Object(n.jsxs)("td",{style:{width:"10%"},children:["\u20b9 ",parseFloat((null===e||void 0===e?void 0:e.price)||0).toFixed(2)]}),"cod"===i&&Object(n.jsxs)("td",{style:{width:"10%"},children:["\u20b9 ",parseFloat((null===e||void 0===e?void 0:e.codCharges)||0).toFixed(2)]}),Object(n.jsx)("td",{style:{width:"10%"},children:parseFloat((null===e||void 0===e?void 0:e.vat)||0).toFixed(2)}),Object(n.jsxs)("td",{style:{textAlign:"center",width:"10%"},children:["\u20b9 ",parseFloat((null===e||void 0===e?void 0:e.total)||0).toFixed(2)]})]},t)}})})})]})})})}),bt=i(5),mt=i.n(bt),ht=i(75),pt={FETCH_WALLET_REQUEST:"FETCH_WALLET_REQUEST",FETCH_WALLET_SUCCESS:"FETCH_WALLET_SUCCESS",FETCH_WALLET_FAIL:"FETCH_WALLET_FAIL",FETCH_USER_WALLET_REQUEST:"FETCH_USER_WALLET_REQUEST",FETCH_USER_WALLET_SUCCESS:"FETCH_USER_WALLET_SUCCESS",FETCH_USER_WALLET_FAIL:"FETCH_USER_WALLET_FAIL",FETCH_ALL_USERS_BANK_DETAIL_REQUEST:"FETCH_ALL_USERS_BANK_DETAIL_REQUEST",FETCH_ALL_USERS_BANK_DETAIL_SUCCESS:"FETCH_ALL_USERS_BANK_DETAIL_SUCCESS",FETCH_ALL_USERS_BANK_DETAIL_FAIL:"FETCH_ALL_USERS_BANK_DETAIL_FAIL",VERIFY_BANK_DETAIL_REQUEST:"VERIFY_BANK_DETAIL_REQUEST",VERIFY_BANK_DETAIL_SUCCESS:"VERIFY_BANK_DETAIL_SUCCESS",VERIFY_BANK_DETAIL_FAIL:"VERIFY_BANK_DETAIL_FAIL"},Ot=function(e){return{type:pt.FETCH_WALLET_REQUEST,payload:e}},gt=Object(p.b)((function(e){var t,i;return{loggedInUser:null===e||void 0===e||null===(t=e.loggedInUser)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data}}),(function(e){return{fetchWallet:function(t){return e(Ot(t))}}}))((function(e){var t=e.show,i=void 0!==t&&t,a=e.handleClose,o=void 0===a?function(){}:a,r=e.loggedInUser,s=e.fetchWallet,d=e.addAmounts,c=void 0===d?[200,500,1e3,2e3]:d,u=e.showAddAmountBtn,v=void 0===u||u,j=e.preFillAmount,b=void 0===j?"":j,m=e.minAmount,h=void 0===m?1:m,p=e.maxAmount,O=void 0===p?5e5:p,g=e.userId,x=Object(l.useRef)(),f=Object(l.useState)({amount:b,error:"",isLoading:!1}),_=Object(H.a)(f,2),E=_[0],N=_[1];Object(l.useEffect)((function(){!function(){var e;null===x||void 0===x||null===(e=x.current)||void 0===e||e.focus(),i&&N({amount:b||"",error:"",isLoading:!1})}()}),[i]);var y=function(e){return new Promise((function(t){var i=document.createElement("script");i.src=e,i.onload=function(){t(!0)},i.onerror=function(){t(!1)},document.body.appendChild(i)}))},S=function(e){},C=function(){var e,t=E.amount;return b||t&&!(t&&parseInt(t)<h)?t&&parseInt(t)>O&&(e="Maximum amount is \u20b9 ".concat(O,".")):e="Minimum amount is \u20b9 ".concat(h,"."),!!e&&(N(Object(M.a)(Object(M.a)({},E),{},{error:e})),!0)},w=function(){var e=Object(ht.a)(mt.a.mark((function e(){var t,i,n,l,a,d,c,u,v,j;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.amount.toString(),!C()){e.next=3;break}return e.abrupt("return");case 3:if(""===(null===t||void 0===t?void 0:t.trim())||isNaN(t)){e.next=7;break}o(),e.next=8;break;case 7:return e.abrupt("return",!1);case 8:return e.next=10,y("https://checkout.razorpay.com/v1/checkout.js");case 10:if(e.sent){e.next=14;break}return L("error","Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 14:return e.next=16,Y()({method:"post",url:"".concat(K.WALLET_URL,"/add-money"),mode:"cors",data:{amount:E.amount}});case 16:if(i=e.sent){e.next=22;break}return L("error","Server error. Are you online?"),e.abrupt("return");case 22:N({amount:""});case 23:n=i.data,l=n.amount,a=n.id,d=n.currency,c=n.created_at,u=n.receipt,v={key:"rzp_live_NWsAltrWTgsGbG",amount:l.toString(),currency:d,name:"Yolojet Service",description:"Add money to wallet",image:"https://i.ibb.co/16FHpMr/logo-1.png",order_id:a,handler:function(){var e=Object(ht.a)(mt.a.mark((function e(t){var i,n,o,r,d,v,j;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={orderCreationId:a,razorpayPaymentId:t.razorpay_payment_id,razorpayOrderId:t.razorpay_order_id,razorpaySignature:t.razorpay_signature,amount:l,created_at:c,receipt:u},e.next=3,Y.a.post("".concat(K.WALLET_URL,"/verify-payment"),r);case 3:d=e.sent,200!==(null===(v=d.data)||void 0===v||null===(i=v.meta)||void 0===i?void 0:i.status)||!0!==(null===v||void 0===v||null===(n=v.meta)||void 0===n?void 0:n.success)?j="error":(j="success",s&&s()),L(j,(null===v||void 0===v||null===(o=v.meta)||void 0===o?void 0:o.message)||(null===v||void 0===v?void 0:v.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:(null===r||void 0===r?void 0:r.first_name)||"",email:null===r||void 0===r?void 0:r.email,contact:(null===r||void 0===r?void 0:r.mobile_number)||""},theme:{color:"#a67d01"}},(j=new window.Razorpay(v)).on("payment.failed",S),j.open();case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(Q,{show:i,title:g&&(null===r||void 0===r?void 0:r._id)!==g?"Send money from your wallet":"Add money to your wallet",handleClose:!E.isLoading&&o,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 m-auto text-center",children:[Object(n.jsx)("div",{className:"text-center mt-4 mb-4",children:Object(n.jsx)("img",{src:"/images/ca.png",alt:""})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center wallet_amt",children:[Object(n.jsx)("i",{className:"bx bx-rupee"}),"\xa0",Object(n.jsx)("input",{ref:x,type:"text",className:"form-control font-size-20 text-center ".concat(E.error&&"is-invalid"),autoFocus:!0,placeholder:"Amount",value:E.amount,onChange:function(e){var t;if(!E.isLoading){var i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;i=i.replace(/[^0-9]/g,""),N(Object(M.a)(Object(M.a)({},E),{},{amount:i,error:""}))}},disabled:E.isLoading})]}),(null===E||void 0===E?void 0:E.error)&&Object(n.jsx)("div",{className:"mt-1 ml-4",children:Object(n.jsx)("span",{className:"redColor",children:null===E||void 0===E?void 0:E.error})})]})]})}),v&&Array.isArray(c)&&c.length>0&&Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-md-12 d-flex justify-content-between text-center mt-1",children:c.map((function(e,t){return Object(n.jsxs)("button",{className:"btn btn-outline-primary ".concat(c.length===t?void 0:"mr-1"," flex-fill"),onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number(E.amount)+e;N(Object(M.a)(Object(M.a)({},E),{},{amount:t,error:""}))}(e)},disabled:E.isLoading,children:["+ \u20b9 ",e]})}))})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12 text-center mt-5",children:Object(n.jsx)("button",{className:"btn btn-primary btn-lg font-size-18 pl-4 pr-4",variant:"secondary",onClick:function(){E.amount.toString();C()||(N(Object(M.a)(Object(M.a)({},E),{},{isLoading:!0})),g&&(null===r||void 0===r?void 0:r._id)!==g?Y()({method:"POST",url:"".concat(K.WALLET_URL,"/transfer-money"),data:{amount:E.amount,receiver_id:g}}).then((function(e){var t=e.data,i=(null===t||void 0===t?void 0:t.meta)||t;!0!==(null===i||void 0===i?void 0:i.success)&&200!==(null===i||void 0===i?void 0:i.status)?L("error",null===i||void 0===i?void 0:i.message):L("success",null===i||void 0===i?void 0:i.message),s&&s(g),o()})).catch((function(e){L("error","Error in sending money to user"),console.log("sendMoney ",e)})):w())},disabled:E.isLoading,children:E.isLoading?Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),Object(n.jsx)("span",{className:"visually-hidden",children:"Processing..."})]}):"Proceed"})})})]})})})}));function xt(e){return Object(n.jsxs)(G.a,Object(M.a)(Object(M.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{id:"contained-modal-title-vcenter",children:"Order successfully"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)("p",{children:"Order has been successfully placed"})}),Object(n.jsx)(G.a.Footer,{children:Object(n.jsx)(Fe.a,{onClick:e.onHide,children:"Ok"})})]}))}var ft=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).onPayNow=function(){var e,t,i=n.props,l=i.match,a=i.selectedPartner,o=i.wallet,r=null===l||void 0===l||null===(e=l.params)||void 0===e?void 0:e.id,s=null===o||void 0===o?void 0:o.amount,d=null===a||void 0===a||null===(t=a.price)||void 0===t?void 0:t.final_pay;if(s>=d){n.setState({isLoading:!0});var c={order_id:r,logistic_id:null===a||void 0===a?void 0:a._id};Y.a.post(K.ORDERS_URL+"/pay/",c,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){var t=e.data,i=(null===t||void 0===t?void 0:t.meta)||t;200===(null===i||void 0===i?void 0:i.status)?n.setModalShow(!0):(L("error",null===i||void 0===i?void 0:i.message),n.setState({isLoading:!1}))}))}else{var u=d-s;u=Math.ceil(u),console.log("totalAmount - walletAmount",d,s),L("error","Unable to pay for your order due to insufficient balance. Please add money to you wallet."),setTimeout((function(){n.handleAmountModal(!0,u)}),1e3)}},n.onGoBack=function(){n.props.history.goBack()},n.setModalShow=function(e){n.setState({modalShow:e})},n.handleAmountModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&e,n.setState({showAmountModal:e,rechargeAmount:t})},n.onDownloadInvoice=function(e){var t,i=n.state.downloading,l=n.props,a=l.order,o=l.orderId,r={user_id:null===a||void 0===a||null===(t=a.created_by)||void 0===t?void 0:t._id,order_id:o};i||(n.setState({downloading:!0}),Y()({method:"GET",url:K.ORDER_INVOICE_DOWNLOAD,params:r,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){var t;console.log("res.data",e),Pe()(e.data,"invoice-".concat(null===a||void 0===a||null===(t=a.invoice)||void 0===t?void 0:t.invoice_number,".pdf")),n.setState({downloading:!1})})).catch((function(e){L("error","Error in Download file"),console.log("onDownloadOrder ",e),n.setState({downloading:!1})})))},n.state={isGoBack:!1,isLoading:!1,modalShow:void 0,showAmountModal:!1,rechargeAmount:null,downloading:!1},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props,i=t.orderId,n=t.order,l=t.getOrder,a=t.fetchWallet,o=t.location;a&&a(),i&&!n&&l&&l(i),"ticket"===(null===o||void 0===o||null===(e=o.state)||void 0===e?void 0:e.from)&&this.setState({goToTicket:!0})}},{key:"componentDidUpdate",value:function(e){var t,i=this.props,n=i.order,l=i.selectedPartner;if((null===(t=e.order)||void 0===t?void 0:t.loading)&&!(null===n||void 0===n?void 0:n.loading)&&!(null===n||void 0===n?void 0:n.transaction_id)){var a,o=null===n||void 0===n||null===(a=n.available_logistic)||void 0===a?void 0:a.find((function(e){return(null===e||void 0===e?void 0:e._id)===(null===l||void 0===l?void 0:l._id)}));l&&o||this.setState({isGoBack:!0})}}},{key:"render",value:function(){var e,t,i,l,a,o,r,s,d,u,v,j,b,m,h,p,O=this,g=this.state,x=g.isGoBack,f=g.isLoading,_=g.showAmountModal,E=g.rechargeAmount,N=g.goToTicket,y=g.downloading,S=this.props,C=S.order,w=void 0===C?{}:C,T=S.orderId,A=S.selectedPartner,R=w.rto_init,k=w.available_logistic;(console.log("order",w),null===w||void 0===w?void 0:w.transaction_id)?h=null===w||void 0===w?void 0:w.available_logistic[0]:h=null===w||void 0===w||null===(p=w.available_logistic)||void 0===p?void 0:p.find((function(e){return(null===e||void 0===e?void 0:e._id)===(null===A||void 0===A?void 0:A._id)}));if(x)return N?Object(n.jsx)(c.a,{to:"/app/ticketDashboard"}):(null===w||void 0===w?void 0:w.transaction_id)||(null===w||void 0===w?void 0:w.error)?Object(n.jsx)(c.a,{to:"/app/shipmentList"}):Object(n.jsx)(c.a,{to:"/app/courierpartner/".concat(T)});if(!1===this.state.modalShow)return Object(n.jsx)(c.a,{to:"/app/shipmentList"});var D=(null===w||void 0===w?void 0:w.orderStatus)&&(null===(e=w.orderStatus[0])||void 0===e?void 0:e.scan_detail.find((function(e){var t=e.status.toLowerCase();return(null===t||void 0===t?void 0:t.match(new RegExp("^delivered","i")))||(null===t||void 0===t?void 0:t.match(new RegExp("^rto delivered","i")))}))),L=null===w||void 0===w?void 0:w.transaction_id,U=null===w||void 0===w?void 0:w.created_by,P=null===w||void 0===w?void 0:w.customer_details,F=null===P||void 0===P?void 0:P.billing_address,I=null===P||void 0===P?void 0:P.shipping_address,M=null===(t=h)||void 0===t||null===(i=t.price)||void 0===i?void 0:i.final_pay,H="number"===typeof(null===(l=h)||void 0===l||null===(a=l.price)||void 0===a?void 0:a.total_value)?null===(o=h)||void 0===o||null===(r=o.price)||void 0===r?void 0:r.total_value:null===L||void 0===L?void 0:L.amount,B=null===(s=h)||void 0===s||null===(d=s.price)||void 0===d?void 0:d.cod_charges,G=null===(u=h)||void 0===u||null===(v=u.price)||void 0===v?void 0:v.tax;if(L&&R){var Q=k[0].price;B=0,M=(H=2*((null===Q||void 0===Q?void 0:Q.total_value)||0))+(G=.18*H)}var W={name:(null===w||void 0===w?void 0:w.order_id)+"-"+(null===w||void 0===w||null===(j=w.product_details)||void 0===j?void 0:j.product_name),quantity:null===w||void 0===w||null===(b=w.product_details)||void 0===b?void 0:b.quantity,description:null===w||void 0===w||null===(m=w.product_details)||void 0===m?void 0:m.product_name,vat:G,price:H,codCharges:B,total:M},Y={orderId:null===w||void 0===w?void 0:w.order_id,order_date:null===w||void 0===w?void 0:w.order_date,billedTo:{name:(null===U||void 0===U?void 0:U.first_name)?"".concat(null===U||void 0===U?void 0:U.first_name," ").concat((null===U||void 0===U?void 0:U.last_name)||""):(null===U||void 0===U?void 0:U.email)||"-",address:"".concat(null===F||void 0===F?void 0:F.line1," ").concat(null===F||void 0===F?void 0:F.line2," ").concat(null===F||void 0===F?void 0:F.city," ").concat(null===F||void 0===F?void 0:F.state," ").concat(null===F||void 0===F?void 0:F.postcode)},shippedTo:{name:"".concat(null===P||void 0===P?void 0:P.first_name," ").concat((null===P||void 0===P?void 0:P.last_name)||""),address:"".concat(null===I||void 0===I?void 0:I.line1," ").concat(null===I||void 0===I?void 0:I.line2," ").concat(null===I||void 0===I?void 0:I.city," ").concat(null===I||void 0===I?void 0:I.state," ").concat(null===I||void 0===I?void 0:I.postcode)},orders:[W],totalAmount:M,paymentMethod:(null===w||void 0===w?void 0:w.payment_method)||"prepaid",email:null===P||void 0===P?void 0:P.email};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Individual Invoice"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Shipment"})}),Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Individual Invoice"})]})]})}),!(null===w||void 0===w?void 0:w.loading)&&Object(n.jsxs)("div",{className:"page-title-right",children:[D&&Object(n.jsx)("button",{type:"button",className:"btn btn-link mr-2 btn-icon-text",onClick:this.onDownloadInvoice,disabled:y,children:y?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"}),"Downloading"]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"fa fa-download mr-2","aria-hidden":"true"}),"Download Invoice"]})}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left"})," ","Back"]})]})]})})}),(null===w||void 0===w?void 0:w.loading)?Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-center m-5",children:[Object(n.jsx)("samp",{className:"spinner-border mr-2",role:"status"}),Object(n.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}):Object(n.jsx)(jt,{showHeader:!0,details:Y}),!(null===w||void 0===w?void 0:w.transaction_id)&&h&&Object(n.jsx)("div",{className:"page-title-right",style:{textAlign:"right",position:"sticky",bottom:0,background:"#F8F8FB"},children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onPayNow,disabled:f,style:{width:120},children:f?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Paying..."})]}):"Pay"})}),Object(n.jsx)(xt,{show:this.state.modalShow,onHide:function(){return O.setModalShow(!1)}}),Object(n.jsx)(gt,{show:_,handleClose:this.handleAmountModal,preFillAmount:E})]})}}]),i}(l.Component),_t=(Object(p.b)((function(e,t){var i,n,l,a,o,r=t.match,s=null===r||void 0===r||null===(i=r.params)||void 0===i?void 0:i.id,d=s&&(null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.orders[s]),c=(null===e||void 0===e||null===(l=e.order)||void 0===l?void 0:l.selectedPartners[s])||{};return{orderId:s,order:d,selectedPartner:c=null===(a=c)||void 0===a?void 0:a.partner,wallet:null===(o=e.wallet)||void 0===o?void 0:o.data}}),(function(e){return{getOrder:function(t){return e(pe(t))},orderPay:function(t){return e(xe(t))},fetchWallet:function(){return e(Ot())}}}))(ft),function(e){var t=e.show,i=void 0!==t&&t,l=e.handleClose,a=void 0===l?function(){}:l,o=e.error,r=void 0===o?[]:o;return Object(n.jsxs)(G.a,{"aria-labelledby":"contained-modal-title-vcenter",show:i,onHide:a,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{id:"contained-modal-title-vcenter",children:"Order Payment Error"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)(De,{className:"table table-striped table-bordered dt-responsive nowrap action_icons",headingData:["Order No.","Reason"],rowData:r,renderRowItem:function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:null===e||void 0===e?void 0:e.order_count}),Object(n.jsx)("td",{children:null===e||void 0===e?void 0:e.message})]},t)}})}),Object(n.jsx)(G.a.Footer,{children:Object(n.jsx)(Fe.a,{className:"btn btn-secondary ml-2",onClick:a,children:"Close"})})]})});function Et(e){return Object(n.jsxs)(G.a,Object(M.a)(Object(M.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{id:"contained-modal-title-vcenter",children:"Order successfully"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)("p",{children:"Order has been successfully placed"})}),Object(n.jsx)(G.a.Footer,{children:Object(n.jsx)(Fe.a,{onClick:e.onHide,children:"Ok"})})]}))}var Nt=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).onGoBack=function(){n.props.history.goBack()},n.onPayNow=function(){var e,t=n.props,i=t.bulkOrder,l=t.selectedPartners,a=t.wallet,o=(null===i||void 0===i?void 0:i.orders)||[],r=null===a||void 0===a?void 0:a.amount,s=null===o||void 0===o?void 0:o.map((function(e){var t;return null===e||void 0===e||null===(t=e.available_logistic)||void 0===t?void 0:t.find((function(t){var i,n;return l&&(null===t||void 0===t?void 0:t._id)===(null===(i=l[null===e||void 0===e?void 0:e._id])||void 0===i||null===(n=i.partner)||void 0===n?void 0:n._id)}))}));s=null===(e=s)||void 0===e?void 0:e.filter((function(e){return void 0!==e}));var d,c,u=(null===i||void 0===i?void 0:i.total_payout)||0;Array.isArray(s)&&s.length>0&&(u=1===s.length?null===(d=s[0].price)||void 0===d?void 0:d.final_pay:null===(c=s)||void 0===c?void 0:c.reduce((function(e,t){var i,n;return((null===e||void 0===e||null===(i=e.price)||void 0===i?void 0:i.final_pay)||e||0)+((null===t||void 0===t||null===(n=t.price)||void 0===n?void 0:n.final_pay)||0)})));if(r>=u){var v,j;j=null===o||void 0===o?void 0:o.map((function(e,t){var i,n,a=null===e||void 0===e?void 0:e._id;return{order_id:a,logistic_id:l&&(null===(i=l[a])||void 0===i||null===(n=i.partner)||void 0===n?void 0:n._id)}})),(null===o||void 0===o?void 0:o.length)>0&&(null===o||void 0===o?void 0:o.length)===(null===(v=j)||void 0===v?void 0:v.length)?(n.setState({isLoading:!0}),Y()({method:"POST",url:"".concat(K.ORDERS_URL,"/pay/"),data:j}).then((function(e){var t=null===e||void 0===e?void 0:e.data,i=(null===t||void 0===t?void 0:t.meta)||t;console.log("resMeta",i),i.success&&200===i.status?Array.isArray(i.failed_transaction)&&i.failed_transaction.length>0?n.handleErrorModal(!0):n.setModalShow(!0):(L("error",null===i||void 0===i?void 0:i.message),Array.isArray(i.failed_transaction)&&i.failed_transaction.length>0&&n.handleErrorModal(!0)),n.setState({isLoading:!1,failed_transaction:i.failed_transaction})}))):console.log("place order data",j)}else{var b=u-r;b=Math.ceil(b),L("error","Unable to pay for your order due to insufficient balance. Please add money to you wallet.",4e3),setTimeout((function(){n.handleAmountModal(!0,b)}),1e3)}},n.setModalShow=function(e){n.setState({modalShow:e})},n.handleErrorModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e="boolean"===typeof e&&e,n.setState({isShowErrorModal:e})},n.handleAmountModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&e,n.setState({showAmountModal:e,rechargeAmount:t})},n.state={isGoBack:!1,modalShow:null,isLoading:!1,showAmountModal:!1,rechargeAmount:void 0,isShowErrorModal:!1},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props,i=t.match,n=t.bulkOrder,l=t.fetchOrder,a=t.fetchWallet,o=null===i||void 0===i||null===(e=i.params)||void 0===e?void 0:e.orderId;a&&a(),o&&!n&&l&&l(o)}},{key:"render",value:function(){var e,t,i=this,l=this.state,a=l.modalShow,o=l.isLoading,r=l.isGoBack,s=(l.goToWalletPage,l.showAmountModal),d=l.rechargeAmount,u=l.isShowErrorModal,v=l.failed_transaction,j=this.props,b=j.bulkOrder,m=void 0===b?{}:b,h=j.orderId,p=j.selectedPartners,O=m.orders,g=(m.createdAt,m.error),x=null===O||void 0===O?void 0:O.map((function(e){var t;return null===e||void 0===e||null===(t=e.available_logistic)||void 0===t?void 0:t.find((function(t){var i,n;return p&&(null===t||void 0===t?void 0:t._id)===(null===(i=p[null===e||void 0===e?void 0:e._id])||void 0===i||null===(n=i.partner)||void 0===n?void 0:n._id)}))}));if(x=null===(e=x)||void 0===e?void 0:e.filter((function(e){return void 0!==e})),!1===a||g)return Object(n.jsx)(c.a,{to:"/app/shipmentList"});if(r||!(null===m||void 0===m?void 0:m.total_payout)&&O&&x&&(null===(t=x)||void 0===t?void 0:t.length)!==(null===O||void 0===O?void 0:O.length)){var f=(null===m||void 0===m?void 0:m.total_payout)?"/app/bulkShipmentUpload":"/app/bulkShipmentList/".concat(h);return Object(n.jsx)(c.a,{to:f})}var _,E,N=(null===m||void 0===m?void 0:m.total_payout)||0;!(null===m||void 0===m?void 0:m.total_payout)&&Array.isArray(x)&&x.length>0&&(N=1===x.length?null===(_=x[0].price)||void 0===_?void 0:_.final_pay:null===(E=x)||void 0===E?void 0:E.reduce((function(e,t){var i,n;return((null===e||void 0===e||null===(i=e.price)||void 0===i?void 0:i.final_pay)||e||0)+((null===t||void 0===t||null===(n=t.price)||void 0===n?void 0:n.final_pay)||t||0)})));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Bulk Invoice"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Shipment"})}),Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Bulk Invoice"})]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left"})," ","Back"]})})]})})}),Array.isArray(O)&&O.map((function(e,t){var i,l,a,o,r,s,d,c,u,v,j,b,h,O,g,x,f=null===(i=p[null===e||void 0===e?void 0:e._id])||void 0===i?void 0:i.partner;(null===e||void 0===e?void 0:e.transaction_id)?g=null===e||void 0===e?void 0:e.available_logistic[0]:g=null===e||void 0===e||null===(x=e.available_logistic)||void 0===x?void 0:x.find((function(e){return(null===e||void 0===e?void 0:e._id)===(null===f||void 0===f?void 0:f._id)}));var _=null===e||void 0===e?void 0:e.transaction_id,E=null===e||void 0===e?void 0:e.created_by,y=null===e||void 0===e?void 0:e.customer_details,S=null===y||void 0===y?void 0:y.billing_address,C=null===y||void 0===y?void 0:y.shipping_address,w=null===(l=g)||void 0===l||null===(a=l.price)||void 0===a?void 0:a.final_pay,T="number"===typeof(null===(o=g)||void 0===o||null===(r=o.price)||void 0===r?void 0:r.total_value)?null===(s=g)||void 0===s||null===(d=s.price)||void 0===d?void 0:d.total_value:null===_||void 0===_?void 0:_.amount,A=null===(c=g)||void 0===c||null===(u=c.price)||void 0===u?void 0:u.cod_charges,R=null===(v=g)||void 0===v||null===(j=v.price)||void 0===j?void 0:j.tax,k={name:(null===e||void 0===e?void 0:e.order_id)+"-"+(null===e||void 0===e||null===(b=e.product_details)||void 0===b?void 0:b.product_name),quantity:null===e||void 0===e||null===(h=e.product_details)||void 0===h?void 0:h.quantity,description:null===e||void 0===e||null===(O=e.product_details)||void 0===O?void 0:O.product_name,vat:R,price:T,codCharges:A,total:w},D={orderId:(null===m||void 0===m?void 0:m.order_id)||(null===m||void 0===m?void 0:m._id),billedTo:{name:(null===E||void 0===E?void 0:E.first_name)?"".concat(null===E||void 0===E?void 0:E.first_name," ").concat((null===E||void 0===E?void 0:E.last_name)||""):(null===E||void 0===E?void 0:E.email)||"-",address:"".concat(null===S||void 0===S?void 0:S.line1," ").concat(null===S||void 0===S?void 0:S.line2," ").concat(null===S||void 0===S?void 0:S.city," ").concat(null===S||void 0===S?void 0:S.state," ").concat(null===S||void 0===S?void 0:S.postcode)},shippedTo:{name:"".concat(null===y||void 0===y?void 0:y.first_name," ").concat((null===y||void 0===y?void 0:y.last_name)||""),address:"".concat(null===C||void 0===C?void 0:C.line1," ").concat(null===C||void 0===C?void 0:C.line2," ").concat(null===C||void 0===C?void 0:C.city," ").concat(null===C||void 0===C?void 0:C.state," ").concat(null===C||void 0===C?void 0:C.postcode)},orders:[k],totalAmount:parseFloat(N).toFixed(2),paymentMethod:(null===e||void 0===e?void 0:e.payment_method)||"prepaid",email:null===y||void 0===y?void 0:y.email,order_date:null===e||void 0===e?void 0:e.order_date};return Object(n.jsx)(jt,{showHeader:0===t,details:D},t)})),!(null===m||void 0===m?void 0:m.total_payout)&&Object(n.jsx)("div",{className:"page-title-right",style:{textAlign:"right",position:"sticky",bottom:0,background:"#F8F8FB"},children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onPayNow,disabled:o,style:{width:120},children:o?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Paying..."})]}):"Pay"})}),Object(n.jsx)(Et,{show:this.state.modalShow,onHide:function(){return i.setModalShow(!1)}}),Object(n.jsx)(gt,{show:s,handleClose:this.handleAmountModal,preFillAmount:d}),Object(n.jsx)(_t,{show:u&&(null===v||void 0===v?void 0:v.length)>0,handleClose:this.handleErrorModal,error:v})]})}}]),i}(l.Component),yt=(Object(p.b)((function(e,t){var i,n,l,a,o,r=t.match,s=null===r||void 0===r||null===(i=r.params)||void 0===i?void 0:i.orderId,d=null===e||void 0===e||null===(n=e.order)||void 0===n||null===(l=n.bulk)||void 0===l?void 0:l.orders;return{orderId:s,bulkOrder:s&&d&&d[s],selectedPartners:null===e||void 0===e||null===(a=e.order)||void 0===a?void 0:a.selectedPartners,wallet:null===(o=e.wallet)||void 0===o?void 0:o.data}}),(function(e){return{fetchOrder:function(t){return e(Oe(t))},orderPay:function(t){return e(xe(t))},fetchWallet:function(){return e(Ot())}}}))(Nt),i(34)),St=i.n(yt),Ct=(i(61),i(211)),wt=Object(p.b)((function(e,t){var i,n,l,a,o=t.id,r=null===e||void 0===e||null===(i=e.loggedInUser)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data,s=null===(l=e.order)||void 0===l?void 0:l.printSelection,d=null===(a=e.order)||void 0===a?void 0:a.orders;return{orderId:o,order:o&&d&&d[o],printSelection:s,loggedInUser:r}}),(function(e){return{trackOrder:function(t){return e({type:me.TRACK_ORDER_REQUEST,payload:t})},cancelOrder:function(t){return e(ge(t))},selectOrders:function(t,i){return e(_e(t,i))}}}))((function(){var e,t,i,a,o,r,s,d,c,u,v,j,b,m,h,p,O,g,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=Object(l.useState)({downloading:!1}),E=Object(H.a)(_,2),N=E[0],y=E[1],S=N.downloading,C=x.index,w=void 0===C?0:C,T=x.orderId,A=x.order,R=x.history,k=x.printSelection,D=void 0===k?[]:k,U=x.loggedInUser,P=x.showTicketStatus,F=null===D||void 0===D?void 0:D.includes(T);if(!A)return Object(n.jsx)(n.Fragment,{});var I,M,B=function(){var e,t=(null===A||void 0===A?void 0:A.bulk_id)&&!X?"/app/bulkShipmentList/".concat(null===A||void 0===A||null===(e=A.bulk_id)||void 0===e?void 0:e._id):"/app/individualShipment/".concat(T);null===R||void 0===R||R.push(t)},G=function(e){e.stopPropagation();var t=A._id,i=A.ewaybill_number;if(t&&i){var n={order_id:t,airwaybilno:i};x.trackOrder&&x.trackOrder(n)}},Q=function(e){var t;S||(y({downloading:!0}),Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/bulk-download/pending"),params:{bulk_id:null===A||void 0===A||null===(t=A.bulk_id)||void 0===t?void 0:t._id},contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){var t="Bulk-Pending-".concat(f()().format("DD-MM-YYYY"),".xlsx");Pe()(e.data,t,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),y({isLoading:!1})})).catch((function(e){var t,i=String.fromCharCode.apply(null,new Uint8Array(e.response.data));L("error",(null===i||void 0===i||null===(t=i.meta)||void 0===t?void 0:t.message)||(null===i||void 0===i?void 0:i.message)||"Error in Download file"),console.log("onDownloadOrder ",i),y({isLoading:!1})})))},W=function(e){e.stopPropagation();var t=A._id,i=A.ewaybill_number;if(t&&i){var n={order_id:t,airwaybilno:i};x.handleCancelOrderModal&&x.handleCancelOrderModal(!0,n)}},q=function(e){e.stopPropagation();var t=A._id,i=A.ewaybill_number;if(t&&i){var n={order_id:t};x.handleCreateRtoOrderModal&&x.handleCreateRtoOrderModal(!0,n)}},z=function(e){e.stopPropagation(),null===R||void 0===R||R.push("/app/individualinvoice/".concat(T))},V=function(e){e.stopPropagation(),null===R||void 0===R||R.push("/app/orderActivity/".concat(T))},J=function(e){e.stopPropagation(),x.selectOrders&&x.selectOrders([T],!F)},X=null===A||void 0===A?void 0:A.transaction_id,$=Array.isArray(null===A||void 0===A?void 0:A.orderStatus)&&A.orderStatus.length>0&&A.orderStatus[0],Z=Array.isArray(null===$||void 0===$?void 0:$.scan_detail)&&(null===(e=$.scan_detail)||void 0===e?void 0:e.length)>0&&$.scan_detail[$.scan_detail.length-1],ee=(Array.isArray(null===$||void 0===$?void 0:$.scan_detail)&&(null===(t=$.scan_detail)||void 0===t?void 0:t.length)>0&&(null===$||void 0===$||$.scan_detail.find((function(e){var t,i;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toLowerCase().includes("delivered"))&&!(null===e||void 0===e||null===(i=e.status)||void 0===i?void 0:i.toLowerCase().includes("undelivered"))}))),(null===A||void 0===A?void 0:A.comments)||[]),ie=(null===A||void 0===A||null===(i=A.available_logistic)||void 0===i?void 0:i.length)>0&&(null===(a=A.available_logistic[0])||void 0===a?void 0:a.tat_score),ne=(null===A||void 0===A?void 0:A.delivery_date)?null===A||void 0===A?void 0:A.delivery_date:f()(),le=(null===X||void 0===X?void 0:X.created_at)&&f()(f.a.utc(null===X||void 0===X?void 0:X.created_at).format("DD-MM-YYYY"),"DD-MM-YYYY"),ae=f()(f.a.utc(ne).format("DD-MM-YYYY"),"DD-MM-YYYY"),oe=(le&&f()(le).add(Number(ie),"days"),f.a.duration(ae.diff(le)).asDays());return"UNDELIVERED"===String(null===Z||void 0===Z?void 0:Z.status).trim().toUpperCase()||"UNDELIVERED"===String(null===Z||void 0===Z?void 0:Z.status_description).trim().toUpperCase()||"UNDELIVERED"===String(null===A||void 0===A?void 0:A.latest_order_status).trim().toUpperCase()||X&&Number(oe)>Number(ie)?M="#f8d7da":(null===ee||void 0===ee?void 0:ee.length)>0&&(M="#fff3cd"),(X||(null===A||void 0===A?void 0:A.ewaybill_number))&&Array.isArray(null===A||void 0===A?void 0:A.available_logistic)&&(null===A||void 0===A||null===(o=A.available_logistic)||void 0===o?void 0:o.length)>0&&(I=null===A||void 0===A?void 0:A.available_logistic[0]),Object(n.jsxs)("tr",{className:!(null===A||void 0===A?void 0:A.bulk_id)||(null===A||void 0===A?void 0:A.bulk_id)&&X?"pointer":"",style:{background:M},onClick:!(null===A||void 0===A?void 0:A.bulk_id)||(null===A||void 0===A?void 0:A.bulk_id)&&X?B:void 0,children:[x.showSelect&&Object(n.jsx)("td",{className:"text-center",children:X?Object(n.jsx)("input",{id:T,type:"checkbox",checked:F,onClick:J,disabled:!X}):Object(n.jsx)(te.a,{content:"Unable to select as payment is pending",children:Object(n.jsx)("input",{id:T,type:"checkbox",checked:F,onClick:J,disabled:!X})})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:w+1}),Object(n.jsx)("td",{onClick:function(e){return e.stopPropagation()},children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyItems:"start",justifyContent:"space-between"},children:[Object(n.jsxs)("div",{children:[null===A||void 0===A?void 0:A.ewaybill_number,Object(n.jsx)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:(null===A||void 0===A?void 0:A.bulk_id)?"warning":"primary",children:(null===A||void 0===A?void 0:A.bulk_id)?"Bulk":"Individual"}),(null===A||void 0===A?void 0:A.rto_init)&&Object(n.jsx)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:"info",children:"RTO"})]}),Object(n.jsx)("div",{className:"ml-2",children:(null===A||void 0===A?void 0:A.ewaybill_number)&&Object(n.jsx)(Ct.CopyToClipboard,{text:null===A||void 0===A?void 0:A.ewaybill_number,onCopy:function(){return L("info","Successfully Copy AWB ".concat(null===A||void 0===A?void 0:A.ewaybill_number))},children:Object(n.jsx)("span",{className:"mr-2",children:Object(n.jsx)(te.a,{content:"Copy AWB",children:Object(n.jsx)("i",{className:"far fa-copy",style:{color:"#495057"}})})})})})]})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===A||void 0===A||null===(r=A.created_by)||void 0===r?void 0:r.first_name}),Object(n.jsx)("td",{style:{letterSpacing:1},children:(null===A||void 0===A?void 0:A.order_date)&&f()(A.order_date).format("D MMM YYYY, h:mm:ss a")}),Object(n.jsxs)("td",{style:{textTransform:"cod"===(null===A||void 0===A?void 0:A.payment_method)?"uppercase":"capitalize"},children:[null===A||void 0===A?void 0:A.payment_method,Object(n.jsx)("span",{className:"ml-1",children:(null===A||void 0===A?void 0:A.action_done)?Object(n.jsx)(te.a,{content:"Remitted",children:Object(n.jsx)("i",{className:"fas fa-check-double"})}):(null===A||void 0===A?void 0:A.sent_to_am)&&Object(n.jsx)(te.a,{content:"Ready to remit",children:Object(n.jsx)("i",{className:"fas fa-check"})})})]}),Object(n.jsx)("td",{style:{textTransform:"lowercase"},children:(null===(s=I)||void 0===s?void 0:s.name)||"-"}),Object(n.jsx)("td",{children:(null===(d=I)||void 0===d||null===(c=d.price)||void 0===c?void 0:c.day)?"".concat(null===(u=I)||void 0===u||null===(v=u.price)||void 0===v?void 0:v.day," days"):"-"}),P&&Object(n.jsx)("td",{style:{textTransform:"uppercase"},children:(null===ee||void 0===ee?void 0:ee.length)>0?null===(j=ee[(null===ee||void 0===ee?void 0:ee.length)-1])||void 0===j?void 0:j.remark:"-"}),Object(n.jsx)("td",{className:(null===A||void 0===A?void 0:A.ewaybill_number)||(null===A||void 0===A?void 0:A.isLoading)?"greenColor":"redColor",style:{textTransform:"lowercase"},children:(null===A||void 0===A?void 0:A.isLoading)?(null===A||void 0===A?void 0:A.isCreateRto)?"rto initialing...":"Checking...":(null===A||void 0===A?void 0:A.ewaybill_number)?(null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status):"payment pending"}),Object(n.jsxs)("td",{style:{textAlign:"center"},onClick:function(e){return e.stopPropagation()},children:[!(null===A||void 0===A?void 0:A.bulk_id)&&!X&&Object(n.jsx)("span",{className:"mr-2",children:Object(n.jsx)(te.a,{content:"Make payment",children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}),(null===A||void 0===A?void 0:A.bulk_id)&&!X&&("number"!==typeof(null===A||void 0===A||null===(b=A.bulk_id)||void 0===b?void 0:b.total_payout)?Object(n.jsx)("span",{onClick:B,className:"mr-2",children:Object(n.jsx)(te.a,{content:"Make payment",children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}):S?Object(n.jsx)("span",{className:"mr-2",children:Object(n.jsx)("i",{className:"bx bx-loader bx-spin"})}):Object(n.jsx)("span",{onClick:Q,className:"mr-2",children:Object(n.jsx)(te.a,{content:"Download Pending Order",children:Object(n.jsx)("i",{className:"fa fa-download ml-2","aria-hidden":"true"})})})),X&&Object(n.jsx)(n.Fragment,{children:(null===A||void 0===A?void 0:A.isLoading)?Object(n.jsx)("span",{className:"mr-2",style:{position:"relative",top:2},children:Object(n.jsx)(te.a,{content:"Refresh status",children:Object(n.jsx)("i",{className:"bx bx-loader bx-spin"})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{onClick:G,className:"mr-2",children:Object(n.jsx)(te.a,{content:"Refresh status",children:Object(n.jsx)("i",{className:"dripicons dripicons-clockwise"})})})})}),X&&Object(n.jsx)("span",{onClick:z,className:"mr-2",children:Object(n.jsx)(te.a,{content:"Invoice",children:Object(n.jsx)("i",{className:"mdi mdi-eye"})})}),X&&Object(n.jsx)(n.Fragment,{children:!(null===A||void 0===A?void 0:A.isLoading)&&x.showCancelOrder&&U&&!(null===A||void 0===A?void 0:A.is_cancelled)&&(String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase().includes("pending")||"out for pickup"===String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase()||"pending pickup"===String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase()||"pending for pickup"===String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase())&&((null===U||void 0===U?void 0:U._id)===((null===A||void 0===A||null===(m=A.created_by)||void 0===m?void 0:m._id)||(null===A||void 0===A?void 0:A.created_by))||(null===U||void 0===U||null===(h=U.role)||void 0===h||null===(p=h._id)||void 0===p||null===(O=p.permissions)||void 0===O?void 0:O.showAllOrders))&&Object(n.jsx)("span",{onClick:W,className:"mr-2",style:{position:"relative",top:2},children:Object(n.jsx)(te.a,{content:"Cancel Order",children:Object(n.jsx)("i",{className:"dripicons dripicons-cross"})})})}),X&&Object(n.jsx)(n.Fragment,{children:!(null===A||void 0===A?void 0:A.isLoading)&&x.handleCreateRtoOrderModal&&U&&!(null===A||void 0===A?void 0:A.rto_init)&&!("pending pickup"===String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase()||"pending for pickup"===String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase()||String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase().match(new RegExp("^delivered","i"))||String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase().match(new RegExp("^rto delivered","i"))||String((null===A||void 0===A?void 0:A.latest_order_status)||(null===Z||void 0===Z?void 0:Z.status)).trim().toLowerCase().match(new RegExp("cancel","i")))&&(null===U||void 0===U?void 0:U._id)===((null===A||void 0===A||null===(g=A.created_by)||void 0===g?void 0:g._id)||(null===A||void 0===A?void 0:A.created_by))&&Object(n.jsx)("span",{onClick:q,className:"mr-2",style:{position:"relative",top:2},children:Object(n.jsx)(te.a,{content:"Create RTO Order",children:Object(n.jsx)("i",{className:"fas fa-retweet"})})})}),X&&Object(n.jsx)("span",{className:"mr-2",onClick:V,children:Object(n.jsx)(te.a,{content:"Shipment Activity",children:Object(n.jsx)("i",{className:"far fa-comment-dots"})})})]})]},w)})),Tt=Object(p.b)((function(e){return{}}),(function(e){return{cancelOrder:function(t){return e(ge(t))}}}))((function(e){var t=e.show,i=void 0!==t&&t,l=e.onHide,a=void 0===l?function(){}:l,o=e.order,r=void 0===o?{}:o,s=Object(B.a)(e,["show","onHide","order"]);return Object(n.jsxs)(G.a,{show:i,onHide:a,backdrop:"static",children:[Object(n.jsx)(G.a.Header,{children:Object(n.jsx)(G.a.Title,{children:"Cancel order"})}),Object(n.jsxs)(G.a.Body,{children:["Are you sure to cancel AWB Number ",Object(n.jsx)("strong",{children:null===r||void 0===r?void 0:r.airwaybilno})," order"]}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)(Fe.a,{variant:"secondary",onClick:a,children:"Close"}),Object(n.jsx)(Fe.a,{variant:"primary",onClick:function(){var e={order_id:r.order_id,airwaybilno:r.airwaybilno};s.cancelOrder&&s.cancelOrder(e),a()},children:"Yes"})]})]})})),At=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n,l;Object(v.a)(this,i),(l=t.call(this,e)).loadMoreOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.state,n=i.fromDate,a=i.toDate,o=i.orderType,r=i.payment_method,s=i.logistic_id,d=i.awbNumber,c=l.props,u=c.fetchAllOrders,v=c.orderList,j=c.orderMeta,b=c.location;if(0===e||(null===j||void 0===j?void 0:j.total_count)>(null===v||void 0===v?void 0:v.length)){var m={pathname:null===b||void 0===b?void 0:b.pathname,offset:e,limit:t,payment_status:"complete",ticket:"raised"};n&&(m.created_from=f()(n).startOf("day").utc().format()),a&&(m.created_to=f()(a).endOf("day").utc().format()),o&&(m.order_type=o),r&&"all"!==r&&(m.payment_method=r),s&&"all"!==s&&(m.logistic_id=s),d&&(m.awb=d.trim()),u&&u(m)}},l.selectDateFrom=function(e){if(null!==l.state.toDate&&f()(e).isAfter(f()(l.state.toDate)))return l.setState({error:"From date should not be greater than to date"}),!1;l.setState({fromDate:e,error:null})},l.selectDateTo=function(e){if(null!==l.state.fromDate&&f()(e).isBefore(f()(l.state.fromDate)))return l.setState({error:"To date should not be less than from date"}),!1;l.setState({toDate:e,error:null})},l.handleAWB=function(e){var t;l.setState({awbNumber:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},l.handleOrderType=function(e){var t;l.setState({orderType:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},l.onFilterOrder=function(){l.setState({error:null}),l.loadMoreOrders()},l.handleChange=function(e){return function(t){var i,n=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;l.setState(Object(u.a)({},e,n))}},l.reset=function(){l.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",logistic_id:"",awbNumber:"",error:null},(function(){l.onFilterOrder()}))},l.onShowPrintPreview=function(){l.props.history.push("/app/ShipmentPrintModal/")},l.onDeselectAll=function(){var e=l.props,t=e.printSelection,i=e.selectOrders;i&&i(t,!1)},l.handleCancelOrderModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&e,l.setState({showCancelOrderModal:e,order:t})},l.onDownload=function(){var e=l.state,t=e.fromDate,i=e.toDate,n=e.orderType,a=e.payment_method,o=e.logistic_id,r=e.awbNumber,s={payment_status:"complete",ticket:"raised"};t&&(s.created_from=f()(t).startOf("day").utc().format()),i&&(s.created_to=f()(i).endOf("day").utc().format()),n&&(s.order_type=n),a&&"all"!==a&&(s.payment_method=a),o&&"all"!==o&&(s.logistic_id=o),r&&(s.awb=r.trim()),l.setState({downloading:!0}),Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/download"),params:s,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){console.log("res.data",e,typeof e.data),Pe()(e.data,"Ticket-List-".concat(f()().format("DD-MM-YYYY"),".xlsx")),l.setState({downloading:!1})})).catch((function(e){var t,i=String.fromCharCode.apply(null,new Uint8Array(e.response.data));L("error",(null===i||void 0===i||null===(t=i.meta)||void 0===t?void 0:t.message)||(null===i||void 0===i?void 0:i.message)||"Error in Download file"),console.log("onDownloadOrder ",i),l.setState({downloading:!1})}))};var a=null===e||void 0===e?void 0:e.filter;return l.state={fromDate:(null===a||void 0===a?void 0:a.created_from)&&f()(null===a||void 0===a?void 0:a.created_from).toDate()||null,toDate:(null===a||void 0===a?void 0:a.created_to)&&f()(null===a||void 0===a?void 0:a.created_to).toDate()||null,payment_method:(null===a||void 0===a?void 0:a.payment_method)||"",logistic_id:(null===a||void 0===a?void 0:a.logistic_id)||"",goToIndividualOrder:!1,goToBulkOrderList:!1,goToIndividualOrderInvoice:!1,orderId:null,error:null,showPreviewOfFileId:null,allAttachments:[],filter:JSON.stringify({pathname:null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.pathname}),showCancelOrderModal:!1,order:null},l.selectDateFrom=l.selectDateFrom.bind(Object(b.a)(l)),l.selectDateTo=l.selectDateTo.bind(Object(b.a)(l)),l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.printSelection,i=e.selectOrders;this.loadMoreOrders(),i&&i(t,!1)}},{key:"render",value:function(){var e=this,t=this.props,i=t.orderList,l=t.orderMeta,o=t.loading,r=t.logistics,s=t.filter,d=t.printSelection,c=t.selectOrders,u=this.state.downloading,v=(null===l||void 0===l||l.total_pending_count,(null===l||void 0===l?void 0:l.total_amount)||0),j=(null===l||void 0===l?void 0:l.total_individual_count)||0,b=(null===l||void 0===l?void 0:l.total_bulk_upload_count)||0,m=(null===l||void 0===l?void 0:l.total_bulk_order_count)||0,h=(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count)||0;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Ticket List"}),Object(n.jsx)(we,{title:["Shipment","Ticket List"]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card ttl_amt",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/rupee.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:parseFloat(v).toFixed(2)}),Object(n.jsx)("p",{className:"mb-0",children:"Total Amount"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card indivisual_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/indivisual.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:j}),Object(n.jsx)("p",{className:"mb-0",children:"Individual Shipments"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card bulk_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/bulk.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{className:"mb-0",children:[b,"(",m,")"]}),Object(n.jsx)("p",{className:"mb-0",children:"Bulk Upload"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card pending_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/bulk.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:h||0}),Object(n.jsx)("p",{className:"mb-0",children:"Ticket Raised"})]})]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Filter"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:"row order_filter",children:[Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.fromDate,onChange:this.selectDateFrom,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"From",maxDate:new Date,isClearable:!0}),!this.state.fromDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.toDate,onChange:this.selectDateTo,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"To",maxDate:new Date,isClearable:!0}),!this.state.toDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",placeholder:"Order Type",value:this.state.orderType,onChange:this.handleOrderType,children:[Object(n.jsx)("option",{value:"all",children:"All Shipments"}),Object(n.jsx)("option",{value:"individual",children:"Individual"}),Object(n.jsx)("option",{value:"bulk",children:"Bulk"})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.payment_method,onChange:this.handleChange("payment_method"),children:[Object(n.jsx)("option",{value:"all",children:"All Payment Modes"}),Object(n.jsx)("option",{value:"cod",children:"COD"}),Object(n.jsx)("option",{value:"prepaid",children:"Prepaid"})]})}),(null===r||void 0===r?void 0:r.length)&&Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.logistic_id,onChange:this.handleChange("logistic_id"),children:[Object(n.jsx)("option",{value:"all",children:"All Partners"}),r&&r.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},t)}))]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-5",children:Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter AWB number",onChange:this.handleAWB,value:this.state.awbNumber,autoComplete:"on"})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-4",children:Object(n.jsxs)("div",{className:"filter_btns d-flex align-items-start",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",onClick:this.onFilterOrder,style:{width:80},children:"Search"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-icon-text",onClick:this.reset,style:{width:80},children:"Reset"})]})}),((null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count))>=1&&Object(n.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(n.jsx)("div",{className:"filter_btns d-flex align-items-start justify-content-end",children:Object(n.jsx)("button",{className:"btn btn-link ml-2 btn-icon-text",onClick:this.onDownload,disabled:u,children:u?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"bx bx-loader bx-spin"}),Object(n.jsx)("span",{children:"Downloading"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"fa fa-download mr-2","aria-hidden":"true"}),Object(n.jsx)("span",{children:"Download"})]})})})})]})}),this.state.error&&Object(n.jsx)("div",{className:"mt-1",style:{color:"red"},children:this.state.error})]})]})})}),Object(n.jsx)(Le,{headings:["No.","AWB Number","Created by","Shipment Date","Payment Mode","Delivery partner","Estimated TAT","Ticket Status","Status","Action"],showSelectAll:!0,totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),rowData:i,renderRow:function(t,i){return Object(n.jsx)(wt,Object(M.a)({id:t,index:i,showSelect:!0,showCancelOrder:!0,showTicketStatus:!0,handleCancelOrderModal:e.handleCancelOrderModal},e.props))},showSearch:!1,loading:o,filter:s,selectedList:d,onSelectAll:c,actionBtnText:"Label Preview",showActionBtn:(null===d||void 0===d?void 0:d.length)>0,onClickAction:this.onShowPrintPreview,onClickDeselectAction:this.onDeselectAll,loadMore:this.loadMoreOrders}),Object(n.jsx)(Tt,{show:this.state.showCancelOrderModal,onHide:this.handleCancelOrderModal,order:this.state.order})]})}}]),i}(l.Component),Rt=(Object(p.b)((function(e,t){var i,n,l,a,o=t.location,r=null===o||void 0===o?void 0:o.pathname,s=null===(i=e.logistics)||void 0===i?void 0:i.data,d=(e.order,null===(n=e.order)||void 0===n?void 0:n.filters[r]),c=(null===(l=e.order)||void 0===l?void 0:l.boards)[JSON.stringify(d||{})];return{filter:d,orderList:null===c||void 0===c?void 0:c.list,orderMeta:null===c||void 0===c?void 0:c.meta,loading:null===c||void 0===c?void 0:c.loading,error:null===c||void 0===c?void 0:c.error,logistics:s,printSelection:null===(a=e.order)||void 0===a?void 0:a.printSelection}}),(function(e){return{fetchAllOrders:function(t){return e(he(t))},selectOrders:function(t,i){return e(_e(t,i))}}}))(At),function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).el=document.createElement("div"),n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.filePreview=document.getElementById("filePreview"),this.filePreview.appendChild(this.el),document.onkeydown=function(t){27===(t=t||window.event).keyCode&&e.props.toggleModal(null)}}},{key:"componentWillUnmount",value:function(){this.filePreview.removeChild(this.el)}},{key:"render",value:function(){return r.a.createPortal(this.props.children,this.el)}}]),i}(l.Component)),kt=Rt,Dt=function(e){var t=e.togglePreview,i=e.downloadFile,l=e.contentToDisplay,a=l.id,o=l.filename;return Object(n.jsxs)("div",{className:"flex-center",style:{padding:10,fontSize:20},children:[Object(n.jsx)("i",{className:"fa mr-5 pointer fa-download",title:"Download",onClick:function(){return i(a,o)},"aria-hidden":"true"}),Object(n.jsx)("i",{className:"fa mr-5 pointer fa-print",title:"Print",onClick:function(){var e=document.getElementById("contentPreview"),t=window.open("","","left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0");t.document.write(e.innerHTML),t.document.close(),t.focus(),t.print(),t.close()},"aria-hidden":"true"}),Object(n.jsx)("i",{className:"fa mr-5 pointer fa-times",title:"Close",onClick:function(){return t(null,[])},"aria-hidden":"true"})]})},Lt=function(e){return Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{style:{height:"50px",whiteSpace:"pre",color:"#fff"},children:[Object(n.jsx)("th",{style:{padding:10,fontWeight:"normal",fontSize:"15px"},children:Object(n.jsx)("span",{children:e.filename})}),Object(n.jsx)("th",{style:{width:"80%"}}),Object(n.jsx)("th",{children:e.contentToDisplay&&Object(n.jsx)(Dt,{togglePreview:e.togglePreview,contentToDisplay:e.contentToDisplay,downloadFile:e.downloadFile})})]})})},Ut=function(e){return Object(n.jsx)("td",{style:{width:"90%"},children:Object(n.jsx)("div",{className:"flex-center",id:"contentPreview",style:{height:"100%",width:"100%"},children:e.contentToDisplay})})},Pt={table:{tableLayout:"fixed",position:"fixed",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",maxHeight:"100%",minHeight:"100%",border:"none",margin:0,padding:0,overflow:"hidden",zIndex:"999999",background:"rgba(16, 16, 16, 0.75)",backgroundImage:"linear-gradient(180deg, #000000e0, transparent)"}},Ft=Object(n.jsx)("div",{style:{fontSize:"20px"},children:"Loading...."}),It=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).leftRightKeysPressed=function(e){39===e.keyCode&&n.toggle(null,"next"),37===e.keyCode&&n.toggle(null,"prev")},n.toggle=function(e,t){var i=Object(Ae.a)(n.props.content),l=!1,a=i.findIndex((function(e){return e.active})),o=null;if(a>-1){var r=i[a];if(e&&"next"===e.target.getAttribute("data-id")||"next"===t){var s=i[a+1];s&&(s.active=!0,l=!0,r.active=!1,o=s)}else{var d=i[a-1];d&&(d.active=!0,l=!0,r.active=!1,o=d)}l&&n.props.checkIfBlobURLExists(o.id,i)}},n.leftRightKeysPressed=n.leftRightKeysPressed.bind(Object(b.a)(n)),n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.leftRightKeysPressed)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.leftRightKeysPressed)}},{key:"downloadFile",value:function(e,t){L("success","Your download has started"),Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+e,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){console.log("response",e,t),Pe()(e.data,t)}))}},{key:"render",value:function(){var e=this,t=this.props,i=t.togglePreview,l=null,a=t.content.find((function(e){return e.active})),o=a?a.filename:"";return a&&(l=a.loading?Ft:a.element),Object(n.jsxs)("table",{style:Pt.table,children:[Object(n.jsx)(Lt,{contentToDisplay:a,togglePreview:i,filename:o,downloadFile:this.downloadFile}),Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{style:{fontSize:30,color:"#fff"},children:[Object(n.jsx)("td",{style:{width:"5%"},children:a&&!a.isThisFirstItem&&Object(n.jsx)("div",{className:"pointer","data-id":"previous",onClick:function(t){return e.toggle(t,"previous")},children:Object(n.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true",title:"Previous",style:{padding:10}})})}),Object(n.jsx)(Ut,{contentToDisplay:l,toggle:this.toggle}),Object(n.jsx)("td",{style:{width:"5%"},children:a&&!a.isThisLastItem&&Object(n.jsx)("div",{className:"pointer","data-id":"next",onClick:function(t){return e.toggle(t,"next")},children:Object(n.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",title:"Next",style:{float:"right",padding:10}})})})]})})]})}}]),i}(l.Component),Mt=It,Ht=new Set(["jpg","jpeg","png","gif"]),Bt=new Set(["doc","docx","xls","xlsx","ppt","pptx","csv"]),Gt=new Set(["txt"]),Qt=new Set(["pdf"]),Wt=new Set(["zip","rar"]),Yt=new Set(["aac","mp3","m4a","ogg","wav","wma"]),qt=new Set(["webm","flv","avi","mov","mp4","m4v","mpg","mpeg"]),Kt=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).checkIfBlobURLExists=function(e,t){var i=Object(Ae.a)(t),n=i.find((function(t){return t.id===e}));n.blobURL?(n.active=!0,l.setState({blobContent:i})):(n.loading=!0,l.setState({blobContent:i}),l.downloadFile(e,i,n.extension).then((function(e){l.setState({blobContent:e})})))},l.downloadFile=function(e,t,i){var n=K.ATTACHMENTS_DOWNLOAD;Bt.has(i)&&(n=K.ATTACHMENTS_DOWNLOAD);var a=t.length;return new Promise((function(i,o){Y()({method:"GET",url:"".concat(n,"/").concat(e),responseType:"blob"}).then((function(n){t.forEach((function(t,i){if(t.id===e){var o=l.getElement(n.data,t),r=o.element,s=o.blobURL;t.isThisFirstItem=0===i,t.isThisLastItem=i===a-1,t.element=r,t.blobURL=s,t.loading=!1}})),i(t)}))}))},l.changeFileData=function(e){var t=l.state.blobContent.map((function(t){return e.id===t.id&&(t.element=e.element,t.blobURL=e.blobURL,t.error=e.error),t}));l.setState({blobContent:t})},l.getElement=function(e,t){var i,a,o=t.extension.toLowerCase(),r=window.URL||window.webkitURL;switch(!0){case Ht.has(o):a=r.createObjectURL(new Blob([e])),i=Object(n.jsx)("img",{src:a,style:{maxHeight:"calc(100vh - 50px)"},alt:"Preview"});break;case Gt.has(o):var s=new Blob([e],{type:"text/plain"}),d=new FileReader;d.addEventListener("loadend",(function(e){a=r.createObjectURL(s);var i=Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)("pre",{children:e.target.result})})});t.element=i,t.blobURL=a,l.changeFileData(t)})),d.readAsBinaryString(s);break;case Qt.has(o):a=r.createObjectURL(new Blob([e],{type:"application/pdf"})),i=Object(n.jsx)("iframe",{title:"Preview",src:a+"#toolbar=0&navpanes=0&scrollbar=0",frameBorder:"0",style:{width:"inherit",height:"inherit"},scrolling:"no"});break;case Wt.has(o):a=r.createObjectURL(new Blob([e],{type:"application/zip"}));break;case Yt.has(o):a=r.createObjectURL(new Blob([e],{type:"audio/".concat(o)})),i=Object(n.jsxs)("audio",{controls:!0,autoplay:!0,controlsList:"nodownload",children:[Object(n.jsx)("source",{src:a,type:"audio/".concat(o)}),"Your browser doesn't support HTML5 video in WebM with VP8/VP9 or MP4 with H.264."]});break;case qt.has(o):a=r.createObjectURL(new Blob([e],{type:"video/".concat(o)})),i=Object(n.jsxs)("video",{controls:!0,autoplay:!0,autobuffer:"true",children:[Object(n.jsx)("source",{src:a,type:"video/mp4"}),"Your browser doesn't support HTML5 video in WebM with VP8/VP9 or MP4 with H.264."]});break;default:i=Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:"No preview available"})})}return{element:i,blobURL:a}},l.state={blobContent:[]},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this,i=this.props.data,n=this.props.data.map((function(n,l){return e=(e=n.filename.split("."))[e.length-1],{id:n._id,filename:n.filename,extension:e,isThisFirstItem:0===l,isThisLastItem:l===i-1,active:t.props.showPreviewOfFileId===n._id,blobURL:null,element:null,loading:!0}}));this.setState({blobContent:n}),this.checkIfBlobURLExists(this.props.showPreviewOfFileId,n)}},{key:"render",value:function(){var e=this.props.togglePreview,t=this.state.blobContent;return Object(n.jsx)(Mt,{checkIfBlobURLExists:this.checkIfBlobURLExists,content:t,togglePreview:e})}}]),i}(l.Component),zt=Kt,Vt=Object(p.b)((function(e,t){var i,n,l=t.order,a=null===(i=l)||void 0===i?void 0:i.order_id,o=null===(n=e.order)||void 0===n?void 0:n.orders;return{orderId:a,order:l=a&&o&&o[a]}}),(function(e){return{createRtoOrder:function(t){return e(function(){return{type:me.CREATE_RTO_ORDER_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))((function(e){var t=e.show,i=void 0!==t&&t,l=e.onHide,a=void 0===l?function(){}:l,o=e.order,r=void 0===o?{}:o,s=Object(B.a)(e,["show","onHide","order"]);return Object(n.jsxs)(G.a,{show:i,onHide:a,backdrop:"static",children:[Object(n.jsx)(G.a.Header,{children:Object(n.jsx)(G.a.Title,{children:"Create RTO order"})}),Object(n.jsxs)(G.a.Body,{children:["Are you sure to create RTO request AWB Number ",Object(n.jsx)("strong",{children:null===r||void 0===r?void 0:r.ewaybill_number})," order"]}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)(Fe.a,{variant:"secondary",onClick:a,children:"Close"}),Object(n.jsx)(Fe.a,{variant:"primary",onClick:function(){var e={order_id:null===r||void 0===r?void 0:r._id};s.createRtoOrder&&s.createRtoOrder(e),a()},children:"Yes"})]})]})})),Jt=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n,l;Object(v.a)(this,i),(l=t.call(this,e)).togglePreview=function(e,t){l.setState({showPreviewOfFileId:e,allAttachments:t})},l.loadMoreOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.state,n=i.fromDate,a=i.toDate,o=i.orderType,r=i.payment_method,s=i.payment_status,d=i.logistic_id,c=i.plan,u=i.created_by,v=i.awbNumber,j=l.props,b=j.fetchAllOrders,m=j.orderList,h=j.orderMeta,p=j.location;if(0===e||(null===h||void 0===h?void 0:h.total_count)>(null===m||void 0===m?void 0:m.length)){var O={pathname:null===p||void 0===p?void 0:p.pathname,offset:e,limit:t};n&&(O.created_from=f()(n).startOf("day").utc().format()),a&&(O.created_to=f()(a).endOf("day").utc().format()),o&&"all"!==o&&(O.order_type=o),r&&"all"!==r&&(O.payment_method=r),O.payment_status=s,d&&"all"!==d&&(O.logistic_id=d),c&&(O.plan=c),u&&"all"!==u&&(O.created_by=u),v&&(O.awb=v.trim()),b&&b(O)}},l.selectDateFrom=function(e){if(null!==l.state.toDate&&f()(e).isAfter(f()(l.state.toDate)))return l.setState({error:"From date should not be greater than to date"}),!1;l.setState({fromDate:e,error:null})},l.selectDateTo=function(e){if(null!==l.state.fromDate&&f()(e).isBefore(f()(l.state.fromDate)))return l.setState({error:"To date should not be less than from date"}),!1;l.setState({toDate:e,error:null})},l.handleAWB=function(e){var t;l.setState({awbNumber:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},l.handleOrderType=function(e){var t;l.setState({orderType:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},l.onFilterOrder=function(){l.setState({error:null}),l.loadMoreOrders()},l.handleChange=function(e){return function(t){var i,n=(null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value)||(null===t||void 0===t?void 0:t.value);l.setState(Object(u.a)({},e,n))}},l.reset=function(){l.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",payment_status:"complete",logistic_id:"",plan:"",created_by:"",awbNumber:"",error:null},(function(){l.onFilterOrder()}))},l.onShowPrintPreview=function(e){l.props.history.push({pathname:"/app/ShipmentPrintModal/",state:{clickCheckProp:e}})},l.onDeselectAll=function(){var e=l.props,t=e.printSelection,i=e.selectOrders;i&&i(t,!1)},l.handleCancelOrderModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&e,l.setState({showCancelOrderModal:e,order:t})},l.handleCreateRtoOrderModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&e,l.setState({showCreateRtoOrderModal:e,order:t})};var a=null===e||void 0===e?void 0:e.filter;return l.state={fromDate:(null===a||void 0===a?void 0:a.created_from)&&f()(null===a||void 0===a?void 0:a.created_from).toDate()||null,toDate:(null===a||void 0===a?void 0:a.created_to)&&f()(null===a||void 0===a?void 0:a.created_to).toDate()||null,orderType:(null===a||void 0===a?void 0:a.order_type)||"all",awbNumber:(null===a||void 0===a?void 0:a.awb)||"",payment_method:(null===a||void 0===a?void 0:a.payment_method)||"",payment_status:(null===a||void 0===a?void 0:a.payment_status)||"complete",logistic_id:(null===a||void 0===a?void 0:a.logistic_id)||"",plan:(null===a||void 0===a?void 0:a.plan)||"",created_by:(null===a||void 0===a?void 0:a.created_by)||"",orderId:null,error:null,showPreviewOfFileId:null,allAttachments:[],filter:JSON.stringify({pathname:null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.pathname}),showCancelOrderModal:!1,showCreateRtoOrderModal:!1,order:null},l.selectDateFrom=l.selectDateFrom.bind(Object(b.a)(l)),l.selectDateTo=l.selectDateTo.bind(Object(b.a)(l)),l.handleClose=l.handleClose.bind(Object(b.a)(l)),l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.printSelection,i=e.selectOrders,n=e.fetchAllCustomers,l=e.role,a=e.permissions;this.loadMoreOrders(),i&&i(t,!1),((null===a||void 0===a?void 0:a.showAllOrders)||"vendor"===(null===l||void 0===l?void 0:l.role_id))&&n&&n()}},{key:"handleClose",value:function(){this.setState({showDispatch:!1})}},{key:"render",value:function(){var e=this,t=this.props,i=t.orderList,l=t.orderMeta,o=t.loading,r=t.logistics,s=t.plans,d=t.planOrder,c=t.filter,u=t.printSelection,v=t.selectOrders,j=t.customers,b=t.permissions,m=(null===l||void 0===l?void 0:l.total_pending_count)||0,h=(null===l||void 0===l?void 0:l.total_amount)||0,p=(null===l||void 0===l?void 0:l.total_individual_count)||0,O=(null===l||void 0===l?void 0:l.total_bulk_upload_count)||0,g=(null===l||void 0===l?void 0:l.total_bulk_order_count)||0;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Shipment List"}),Object(n.jsx)(we,{title:["Shipment","Shipment List"]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card ttl_amt",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/rupee.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:parseFloat(h).toFixed(2)}),Object(n.jsx)("p",{className:"mb-0",children:"Total Amount"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card indivisual_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/indivisual.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:p}),Object(n.jsx)("p",{className:"mb-0",children:"Individual Shipments"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card bulk_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/bulk.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{className:"mb-0",children:[O,"(",g,")"]}),Object(n.jsx)("p",{className:"mb-0",children:"Bulk Upload"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card pending_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/pending.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:m}),Object(n.jsx)("p",{className:"mb-0",children:"Pending Shipments"})]})]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Filter"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:"row order_filter",children:[Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.fromDate,onChange:this.selectDateFrom,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"From",maxDate:new Date,isClearable:!0}),!this.state.fromDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.toDate,onChange:this.selectDateTo,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"To",maxDate:new Date,isClearable:!0}),!this.state.toDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",placeholder:"Order Type",value:this.state.orderType,onChange:this.handleOrderType,children:[Object(n.jsx)("option",{value:"all",children:"All Shipments"}),Object(n.jsx)("option",{value:"individual",children:"Individual"}),Object(n.jsx)("option",{value:"bulk",children:"Bulk"})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.payment_method,onChange:this.handleChange("payment_method"),children:[Object(n.jsx)("option",{value:"all",children:"All Payment Modes"}),Object(n.jsx)("option",{value:"cod",children:"COD"}),Object(n.jsx)("option",{value:"prepaid",children:"Prepaid"})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.payment_status,onChange:this.handleChange("payment_status"),children:[Object(n.jsx)("option",{value:"all",children:"All Payment Status"}),Object(n.jsx)("option",{value:"complete",children:"Payment Done"}),Object(n.jsx)("option",{value:"pending",children:"Payment Pending"})]})}),(null===r||void 0===r?void 0:r.length)>0&&Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.logistic_id,onChange:this.handleChange("logistic_id"),children:[Object(n.jsx)("option",{value:"all",children:"All Partners"}),r&&r.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},t)}))]})}),(null===b||void 0===b?void 0:b.showAllOrders)&&Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.plan,onChange:this.handleChange("plan"),children:[Object(n.jsx)("option",{value:"",children:"All Plan"}),Array.isArray(d)&&d.map((function(e,t){var i=e&&s[e],l=null===i||void 0===i?void 0:i.planName;return Object(n.jsx)("option",{value:e,children:l},t)}))]})}),Array.isArray(j)&&j.length>0&&Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsx)(Ze.a,{placeholder:"All Users",defaultValue:this.state.created_by&&j.find((function(t){return t.value===e.state.created_by})),value:this.state.created_by&&j.find((function(t){return t.value===e.state.created_by})),options:j,isClearable:!0,onChange:this.handleChange("created_by")})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-5",children:Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter AWB number",onChange:this.handleAWB,value:this.state.awbNumber,autoComplete:"on"})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-4",children:Object(n.jsxs)("div",{className:"filter_btns d-flex align-items-start",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",onClick:this.onFilterOrder,style:{width:80},children:"Search"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-icon-text",onClick:this.reset,style:{width:80},children:"Reset"})]})})]})}),this.state.error&&Object(n.jsx)("div",{className:"mt-1",style:{color:"red"},children:this.state.error})]})]})})}),this.state.showPreviewOfFileId&&Object(n.jsx)(kt,{toggleModal:this.togglePreview,children:Object(n.jsx)(zt,{data:this.state.allAttachments,showPreviewOfFileId:this.state.showPreviewOfFileId,togglePreview:this.togglePreview})}),Object(n.jsx)(Le,{headings:[{text:"No.",style:{textAlign:"center"}},"AWB Number","Created by","Shipment Date","Payment Mode","Delivery partner","Estimated TAT","Status","Action"],showSelectAll:!0,totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),rowData:i,renderRow:function(t,i){return Object(n.jsx)(wt,Object(M.a)({id:t,index:i,showSelect:!0,showCancelOrder:!0,handleCancelOrderModal:e.handleCancelOrderModal,handleCreateRtoOrderModal:e.handleCreateRtoOrderModal},e.props))},showSearch:!1,loading:o,filter:c,loadMore:this.loadMoreOrders,actionBtnText:"Label Preview",ThermalactionBtnText:"Thermal Label Preview",showActionBtn:(null===u||void 0===u?void 0:u.length)>0,onClickAction:this.onShowPrintPreview,onClickDeselectAction:this.onDeselectAll,onSelectAll:v,selectedList:u}),Object(n.jsx)(Tt,{show:this.state.showCancelOrderModal,onHide:this.handleCancelOrderModal,order:this.state.order}),Object(n.jsx)(Vt,{show:this.state.showCreateRtoOrderModal,onHide:this.handleCreateRtoOrderModal,order:this.state.order}),Object(n.jsxs)(G.a,{show:this.state.showDispatch,onHide:this.handleClose,backdrop:"static",keyboard:!0,animation:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Dispatch Label Preview"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12 text-center",children:Object(n.jsx)("img",{src:"/images/dispatch-lable.jpg"})})})}),Object(n.jsx)(G.a.Footer,{children:Object(n.jsx)("button",{variant:"secondary",className:"btn btn-secondary",onClick:this.handleClose,children:"Close"})})]})]})}}]),i}(l.Component),Xt=(Object(p.b)((function(e,t){var i,n,l,a,o,r,s,d,c,u,v,j,b,m=t.location,h=null===m||void 0===m?void 0:m.pathname,p=null===(i=e.users)||void 0===i?void 0:i.users,O=null===(n=e.users)||void 0===n||null===(l=n.customerList)||void 0===l?void 0:l.map((function(e){var t;return{value:e,label:null===(t=p[e])||void 0===t?void 0:t.email}})),g=null===(a=e.logistics)||void 0===a?void 0:a.data,x=null===(o=e.order)||void 0===o?void 0:o.filters[h],f=(null===(r=e.order)||void 0===r?void 0:r.boards)[JSON.stringify(x||{})],_=null===f||void 0===f?void 0:f.list,E=null===f||void 0===f?void 0:f.meta,N=null===f||void 0===f?void 0:f.loading,y=null===f||void 0===f?void 0:f.error,S=null===(s=e.order)||void 0===s?void 0:s.printSelection,C=null===e||void 0===e||null===(d=e.loggedInUser)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.data,w=(null===C||void 0===C?void 0:C.visible_plans)||[],T=null===C||void 0===C||null===(u=C.role)||void 0===u?void 0:u._id,A=(null===T||void 0===T?void 0:T.active)&&(null===T||void 0===T?void 0:T.permissions)||{},R=(null===C||void 0===C?void 0:C.selected_partners)||[];!(null===A||void 0===A?void 0:A.showAllOrders)&&(null===R||void 0===R?void 0:R.length)>0&&(g=null===(b=g)||void 0===b?void 0:b.filter((function(e){return R.includes(null===e||void 0===e?void 0:e._id)})));var k=null===e||void 0===e||null===(v=e.plan)||void 0===v?void 0:v.planOrder;return Array.isArray(k)&&(null===w||void 0===w?void 0:w.length)>0&&(k=w),{filter:x,orderList:_,orderMeta:E,loading:N,error:y,logistics:g,customers:O,printSelection:S,role:T,permissions:A,plans:null===e||void 0===e||null===(j=e.plan)||void 0===j?void 0:j.plans,planOrder:k}}),(function(e){return{fetchAllOrders:function(t){return e(he(t))},fetchAllCustomers:function(t){return e(Xe(t))},selectOrders:function(t,i){return e(_e(t,i))}}}))(Jt),Object(p.b)((function(e){var t;return{selectedPartners:null===e||void 0===e||null===(t=e.order)||void 0===t?void 0:t.selectedPartners}}),(function(e){return{selectCourierPartner:function(t){return e(fe(t))}}}))((function(e){var t,i,a,o,r,s,d,c,v,j=e.order,b=e.selectedPartners,m=void 0===b?{}:b,h=e.selectCourierPartner,p=e.goToSelectCourierPartner,O=Object(l.useState)({recommendation:null,best_price:null,best_tat:null}),g=Object(H.a)(O,2),x=g[0],f=g[1],_=(x.recommendation,x.best_price),E=x.best_tat,N=j._id,y=j.customer_details,S=j.available_logistic,C=m[N]||{},w=(C.partner,C.choosePartner),T=void 0===w?{}:w,A=C.isBestPrice,R=void 0!==A&&A,k=C.isBestTat,L=void 0!==k&&k,U=!R&&!L,P=null===y||void 0===y?void 0:y.pickup_address,F=null===y||void 0===y?void 0:y.shipping_address;Object(l.useEffect)((function(){!function(){var e,t,i,n,l,a;Array.isArray(S)&&S.length>0&&(e=S.find((function(e){return null===e||void 0===e?void 0:e.recommendation}))||{},t=S.find((function(e){return null===e||void 0===e?void 0:e.best_price}))||{},i=S.find((function(e){return null===e||void 0===e?void 0:e.best_tat}))||{},e.logo=D(null===(n=e)||void 0===n?void 0:n.name),t.logo=D(null===(l=t)||void 0===l?void 0:l.name),i.logo=D(null===(a=i)||void 0===a?void 0:a.name)),f({recommendation:e,best_price:t,best_tat:i}),N&&!m[N]&&h({orderId:N,partner:e,choosePartner:e})}()}),[]);var I=function(e){return function(t){var i;if("isChoosePartner"===e)i=T;else{var n,l=null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.value;i=null===S||void 0===S?void 0:S.find((function(e){return(null===e||void 0===e?void 0:e._id)===l}))}h(Object(u.a)({orderId:N,partner:i},e,!0))}};return T.logo=D(T.name),j&&Object(n.jsx)("div",{className:"row mb-3",children:Object(n.jsx)("div",{className:"col-md-12 pt-3 pb-3 bg-white rounded-lg",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-1 text-center",children:[Object(n.jsx)("h6",{children:null===P||void 0===P?void 0:P.postcode}),Object(n.jsx)("p",{className:"mb-0",children:"Postcode"})]}),Object(n.jsxs)("div",{className:"col-md-1 text-center",children:[Object(n.jsx)("h6",{children:null===F||void 0===F?void 0:F.postcode}),Object(n.jsx)("p",{className:"mb-0",children:"Postcode"})]}),Object(n.jsx)("div",{className:"col-md-3 text-center",children:T&&Object(n.jsxs)("div",{className:"d-flex",style:{justifyContent:"center"},children:[Object(n.jsx)("div",{className:"form-check",children:Object(n.jsx)("input",{type:"radio",className:"form-check-input",value:null===T||void 0===T?void 0:T._id,checked:U,onChange:I("isChoosePartner")})}),Object(n.jsx)("div",{className:"pr-2",children:Object(n.jsx)("img",{src:null===T||void 0===T?void 0:T.logo,alt:"",style:{width:100,height:38}})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"mb-0",children:[null===T||void 0===T||null===(t=T.price)||void 0===t?void 0:t.day," Days"]}),Object(n.jsxs)("h5",{children:["INR ",parseFloat(((null===T||void 0===T||null===(i=T.price)||void 0===i?void 0:i.total_value)||0)+((null===T||void 0===T||null===(a=T.price)||void 0===a?void 0:a.cod_charges)||0)).toFixed(2),"/-"]})]})]})}),Object(n.jsx)("div",{className:"col-md-3 text-center",children:Object(n.jsxs)("div",{className:"d-flex",style:{justifyContent:"center"},children:[Object(n.jsx)("div",{className:"form-check",children:Object(n.jsx)("input",{type:"radio",className:"form-check-input",value:null===_||void 0===_?void 0:_._id,checked:R,onChange:I("isBestPrice")})}),Object(n.jsx)("div",{className:"pr-2",children:Object(n.jsx)("img",{src:null===_||void 0===_?void 0:_.logo,alt:"",style:{width:100,height:38}})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"mb-0",children:[null===_||void 0===_||null===(o=_.price)||void 0===o?void 0:o.day," Days"]}),Object(n.jsxs)("h5",{children:["INR ",parseFloat(((null===_||void 0===_||null===(r=_.price)||void 0===r?void 0:r.total_value)||0)+((null===_||void 0===_||null===(s=_.price)||void 0===s?void 0:s.cod_charges)||0)).toFixed(2),"/-"]})]})]})}),Object(n.jsx)("div",{className:"col-md-4 text-center",children:Object(n.jsxs)("div",{className:"d-flex ",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-center flex-grow-1",children:[Object(n.jsx)("div",{className:"form-check",children:Object(n.jsx)("input",{type:"radio",className:"form-check-input",checked:L,value:null===E||void 0===E?void 0:E._id,onChange:I("isBestTat")})}),Object(n.jsx)("div",{className:"pr-2",children:Object(n.jsx)("img",{src:null===E||void 0===E?void 0:E.logo,alt:"",style:{width:100,height:38}})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{className:"mb-0",children:[null===E||void 0===E||null===(d=E.price)||void 0===d?void 0:d.day," Days"]}),Object(n.jsxs)("p",{children:["INR ",parseFloat(((null===E||void 0===E||null===(c=E.price)||void 0===c?void 0:c.total_value)||0)+((null===E||void 0===E||null===(v=E.price)||void 0===v?void 0:v.cod_charges)||0)).toFixed(2),"/-"]})]})]}),Object(n.jsx)("div",{"data-title":"View courier partner",className:"d-flex align-items-center bulk_dots pointer",onClick:function(){return p(N)},children:Object(n.jsx)("span",{children:"..."})})]})})]})})})}))),$t=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).onGoBack=function(){n.props.history.goBack()},n.onPlaceOrder=function(){var e=n.props,t=e.history,i=e.bulkOrderId;t.push("/app/bulkinvoice/".concat(i))},n.goToSelectCourierPartner=function(e){n.props.history.push("/app/courierpartner/".concat(e))},n.handelSelectAll=function(e){return function(t){var i,l=n.props,a=l.bulkOrder,o=l.bulkOrderId,r=l.selectedPartners,s=l.selectCourierPartner,d=null===a||void 0===a?void 0:a.orders,c=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.checked;null===d||void 0===d||d.forEach((function(t){var i=t._id,n=t.available_logistic;if(c){var l,a=null===n||void 0===n?void 0:n.find((function(t){return"isBestTat"===e?null===t||void 0===t?void 0:t.best_tat:null===t||void 0===t?void 0:t.best_price}));s((l={orderId:i,partner:a},Object(u.a)(l,e,!0),Object(u.a)(l,"bulkId",o),Object(u.a)(l,"selectAll",Object(u.a)({},e,!0)),l))}else{var d;s({orderId:i,partner:null===(d=r[i])||void 0===d?void 0:d.choosePartner,bulkId:o})}}))}},n.state={searchText:"",goToBulkInvoice:!1},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props,i=t.match,n=t.bulkOrder,l=t.fetchOrder,a=null===i||void 0===i||null===(e=i.params)||void 0===e?void 0:e.orderId;a&&!n&&l&&l(a)}},{key:"render",value:function(){var e=this,t=this.state,i=(t.searchText,t.goToBulkInvoice,t.goToSelectCourierPartner,t.orderId,this.props),l=i.bulkOrder,o=(i.bulkOrderId,i.selectAll),r=null===l||void 0===l?void 0:l.orders,s=o.isBestPrice,d=void 0!==s&&s,c=o.isBestTat,u=void 0!==c&&c;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Bulk Shipment Listing"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Shipment"})}),Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Bulk Shipment Listing"})]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-1"}),"Back"]})})]})})}),Object(n.jsxs)("div",{style:{position:"sticky",top:"70px",zIndex:1},children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12 col-md-12 bulk_listbg pt-3 pb-2",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-1 text-center",children:Object(n.jsx)("h6",{children:"Source"})}),Object(n.jsx)("div",{className:"col-md-1 text-center",children:Object(n.jsx)("h6",{children:"Destination"})}),Object(n.jsx)("div",{className:"col-md-3 text-center",children:Object(n.jsx)("h6",{children:"Recommended/Choosen Partner"})}),Object(n.jsx)("div",{className:"col-md-3 text-center",children:Object(n.jsx)("h6",{children:"Best Price"})}),Object(n.jsx)("div",{className:"col-md-4 text-center",children:Object(n.jsx)("h6",{children:"Shortest Delivery Time"})})]})})}),!(null===l||void 0===l?void 0:l.loading)&&Object(n.jsxs)("div",{className:"row pt-3 pb-3",style:{background:"#F5F5F9"},children:[Object(n.jsx)("div",{className:"col-md-5",children:"*Price Excluding GST Amount"}),Object(n.jsx)("div",{className:"col-md-3 text-center",children:Object(n.jsxs)("div",{className:"form-check",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input mt-1",checked:d,onClick:this.handelSelectAll("isBestPrice")}),Object(n.jsx)("label",{className:"form-check-label",children:"Select All"})]})}),Object(n.jsx)("div",{className:"col-md-4 text-center",children:Object(n.jsxs)("div",{className:"form-check",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input mt-1",checked:u,onClick:this.handelSelectAll("isBestTat")}),Object(n.jsx)("label",{className:"form-check-label",children:"Select All"})]})})]})]}),(null===l||void 0===l?void 0:l.loading)?Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-center m-5",children:[Object(n.jsx)("samp",{className:"spinner-border mr-2",role:"status"}),Object(n.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}):Object(n.jsxs)(n.Fragment,{children:[Array.isArray(r)&&r.map((function(t,i){return t&&Object(n.jsx)(Xt,{order:t,goToSelectCourierPartner:e.goToSelectCourierPartner},i)})),Object(n.jsx)("div",{className:"row",style:{textAlign:"right",position:"sticky",bottom:0,background:"#F8F8FB",flexDirection:"row-reverse"},children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onPlaceOrder,children:"Place Order"})})]})]})}}]),i}(l.Component),Zt=(Object(p.b)((function(e,t){var i,n,l,a,o,r=t.match,s=null===r||void 0===r||null===(i=r.params)||void 0===i?void 0:i.orderId,d=null===e||void 0===e||null===(n=e.order)||void 0===n||null===(l=n.bulk)||void 0===l?void 0:l.orders;return{bulkOrderId:s,bulkOrder:s&&d&&d[s],selectedPartners:null===e||void 0===e||null===(a=e.order)||void 0===a?void 0:a.selectedPartners,selectAll:(null===e||void 0===e||null===(o=e.order)||void 0===o?void 0:o.selectAll[s])||{}}}),(function(e){return{fetchOrder:function(t){return e(Oe(t))},selectCourierPartner:function(t){return e(fe(t))}}}))($t),i(129)),ei=Object(p.b)((function(e,t){var i,n,l,a=t.userId,o=null===(i=e.loggedInUser)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data;if(a&&(null===o||void 0===o?void 0:o._id)!==a){var r,s=null===(r=e.wallet)||void 0===r?void 0:r.wallets[a];l=null===s||void 0===s?void 0:s.chart}else{var d;l=null===(d=e.wallet)||void 0===d?void 0:d.chart}return{chartData:l}}))((function(e){var t=e.chartData,i=Object(l.useState)({labels:Object(Ae.a)(new Array(12)).map((function(e,t){return f.a.months()[t].substring(0,3)})),datasets:[]}),a=Object(H.a)(i,2),o=a[0],r=a[1];Object(l.useEffect)((function(){!function(){var e=[],i=[];Object(Ae.a)(new Array(12)).forEach((function(n,l){var a,o;e=[].concat(Object(Ae.a)(e),[parseFloat(null===t||void 0===t||null===(a=t.credit[l])||void 0===a?void 0:a.total_amount).toFixed(2)||0]),i=[].concat(Object(Ae.a)(i),[parseFloat(null===t||void 0===t||null===(o=t.debit[l])||void 0===o?void 0:o.total_amount).toFixed(2)||0])}));var n=[{label:"Credit",backgroundColor:"#2b3eb1",data:e},{label:"Debit",backgroundColor:"#fc7100",data:i}];r(Object(M.a)(Object(M.a)({},o),{},{datasets:n}))}()}),[t]);var s=o.labels,d=o.datasets;return Object(n.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(n.jsx)(Zt.Bar,{data:{labels:s,datasets:d},options:{maintainAspectRatio:!1,legend:{display:!0,position:"top",align:"end",labels:{usePointStyle:!0}},scales:{xAxes:[{gridLines:{color:"#0000"}}],yAxes:[{ticks:{callback:function(e,t,i){return e>=1e3?"\u20b9 ".concat(e/1e3,"k"):"\u20b9 ".concat(e)},min:0}}]}}})})})),ti=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).handleAmountModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e="boolean"===typeof e&&e,l.setState({showAmountModal:e})},l.handleAmount=function(e){var t,i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;l.setState({amount:i})},l.renderRow=function(e,t){var i=l.props.transactions,a=e&&i&&i[e],o=a.created_by;return a?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{children:(null===o||void 0===o?void 0:o.first_name)||(null===o||void 0===o?void 0:o.email)}),Object(n.jsx)("td",{style:{letterSpacing:1},children:f()(null===a||void 0===a?void 0:a.created_at).format("DD MMM YYYY, h:mm:ss a")}),Object(n.jsxs)("td",{className:"credit"===(null===a||void 0===a?void 0:a.type)&&(null===a||void 0===a?void 0:a.payment_status)?"greenColor":"redColor",style:{textAlign:"center"},children:["credit"===(null===a||void 0===a?void 0:a.type)?"+":"-","\xa0\u20b9 ",parseFloat((null===a||void 0===a?void 0:a.total)||0).toFixed(2)]}),Object(n.jsx)("td",{style:{textAlign:"center"},children:(null===a||void 0===a?void 0:a.payment_status)?Object(n.jsx)("span",{className:"common_status paid",children:null===a||void 0===a?void 0:a.payment_status}):Object(n.jsx)("span",{className:"common_status changeback",children:"Failed"})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("button",{className:"btn btn-primary view_btn",onClick:function(){return l.handleShow(a)},children:"View Details"})})]},t):Object(n.jsx)(n.Fragment,{})},l.onGoBack=function(){l.props.history.replace("/app/users")},l.state={showModal:!1,showAmountModal:!1,amount:"",transaction:null},l.handleShow=l.handleShow.bind(Object(b.a)(l)),l.handleClose=l.handleClose.bind(Object(b.a)(l)),l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loggedInUser,i=e.userId,n=e.fetchWallet;i&&(null===t||void 0===t?void 0:t._id)!==i?n(i):n()}},{key:"handleShow",value:function(e){this.setState({showModal:!0,transaction:e})}},{key:"handleClose",value:function(){this.setState({showModal:!1,transaction:void 0})}},{key:"render",value:function(){var e,t,i,l,o,r,s,d,c,u,v,j,b=this,m=this.state,h=m.showAmountModal,p=m.transaction,O=this.props,g=O.wallet,x=O.transactionList,_=void 0===x?[]:x,E=O.userId,N=O.loggedInUser;_=Object(Ae.a)(_||[]).reverse();var y=null===g||void 0===g?void 0:g.user_id,S=(null===g||void 0===g?void 0:g.amount)||0;S=parseFloat(S).toFixed(2);var C=(null===g||void 0===g?void 0:g.debit)||0;C=parseFloat(C).toFixed(2);var w=(null===g||void 0===g?void 0:g.credit)||0;return w=parseFloat(w).toFixed(2),Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Wallet Details"}),Object(n.jsx)(we,{title:["Billing & Wallet","Wallet Details"]})]})}),E&&Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-2"}),"Back"]})})]})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsxs)("div",{className:"card pt-3 pb-3 pr-3 pl-3",children:[Object(n.jsxs)("p",{className:"d-flex justify-content-between",children:[Object(n.jsx)("span",{children:"Main Account"}),Object(n.jsx)("span",{children:"Available Balance"})]}),Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:(null===y||void 0===y?void 0:y.first_name)||(null===y||void 0===y?void 0:y.email)})}),Object(n.jsxs)("h3",{children:["\u20b9 ",S]})]}),Object(n.jsxs)("div",{className:"d-flex justify-content-between wallet_left",children:[Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"fa fa-arrow-down common_arrow"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{className:"mb-0",children:["\u20b9 ",w]}),Object(n.jsx)("p",{className:"mb-0",children:"Credit Amt"})]})]}),Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"fa fa-arrow-up common_arrow"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{className:"mb-0",children:["\u20b9 ",C]}),Object(n.jsx)("p",{className:"mb-0",children:"Debit Amt"})]})]}),Object(n.jsx)("div",{children:(null===N||void 0===N?void 0:N._id)&&Object(n.jsxs)("button",{type:"button",className:"btn btn-primary btn-icon-text",onClick:function(){return b.handleAmountModal(!0)},children:[Object(n.jsx)("i",{className:"fe fe-plus mr-1"})," ",E&&(null===N||void 0===N?void 0:N._id)!==E?"Send Money":"Add Money"]})})]})]})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"graph p-1 pt-2",style:{height:228},children:Object(n.jsx)(ei,{userId:E})})})})]}),Object(n.jsx)(gt,{show:h,handleClose:this.handleAmountModal,userId:E}),Object(n.jsx)(Le,{title:"Transactions",baseTableClassName:"table table-striped table-bordered dt-responsive nowrap wallet_table",headings:["No.","Billing Name","Date",{style:{textAlign:"center"},text:"Amount(\u20b9)"},{style:{textAlign:"center"},text:"Payment Status"},"View Details"],totalEntries:_.length,rowData:_,renderRow:this.renderRow,showSearch:!1}),Object(n.jsxs)(G.a,{show:this.state.showModal&&!!p,onHide:this.handleClose,backdrop:"static",keyboard:!0,animation:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Transaction Detail"})}),Object(n.jsxs)(G.a.Body,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsxs)("p",{className:"d-flex align-items-center",children:[Object(n.jsx)("strong",{children:"Transaction Id"}),Object(n.jsx)("span",{className:"font-weight-bold",children:":"}),Object(n.jsxs)("span",{className:"theme_icon_color font-weight-bold",children:["\xa0 ",(null===p||void 0===p?void 0:p.transaction_number)||(null===p||void 0===p?void 0:p._id)]})]}),Object(n.jsxs)("p",{className:"d-flex align-items-center",children:[Object(n.jsx)("strong",{children:"Date Time"}),Object(n.jsx)("span",{className:"font-weight-bold",children:":"}),Object(n.jsxs)("span",{className:"theme_icon_color font-weight-bold",style:{letterSpacing:1},children:["\xa0 ",(null===p||void 0===p?void 0:p.created_at)&&f()(null===p||void 0===p?void 0:p.created_at).format("DD MMM YYYY, h:mm:ss a")]})]}),(null===p||void 0===p?void 0:p.method)&&Object(n.jsxs)("p",{className:"d-flex align-items-center",children:[Object(n.jsx)("strong",{children:"Payment Method"}),Object(n.jsx)("span",{className:"font-weight-bold",children:":"}),Object(n.jsxs)("span",{className:"theme_icon_color font-weight-bold text-capitalize",children:["\xa0 ",null===p||void 0===p?void 0:p.method]})]}),(null===p||void 0===p?void 0:p.razorpayPaymentId)&&Object(n.jsxs)("p",{className:"d-flex align-items-center",children:[Object(n.jsx)("strong",{children:"Payment Id"}),Object(n.jsx)("span",{className:"font-weight-bold",children:":"}),Object(n.jsxs)("span",{className:"theme_icon_color font-weight-bold",children:["\xa0 ",null===p||void 0===p?void 0:p.razorpayPaymentId]})]}),Object(n.jsxs)("p",{className:"d-flex align-items-center",children:[Object(n.jsx)("strong",{children:"Payment Status"}),Object(n.jsx)("span",{className:"font-weight-bold",children:":"}),Object(n.jsxs)("span",{className:(null===p||void 0===p?void 0:p.payment_status)?"greenColor":"redColor",children:["\xa0 ",(null===p||void 0===p?void 0:p.payment_status)||"Failed"]})]}),Object(n.jsxs)("p",{className:"d-flex align-items-center",children:[Object(n.jsx)("strong",{children:"Amount"}),Object(n.jsx)("span",{className:"font-weight-bold",children:":"}),Object(n.jsxs)("span",{className:"theme_icon_color font-weight-bold",children:["\xa0 \u20b9 ",parseFloat((null===p||void 0===p?void 0:p.total)||0).toFixed(2)]})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Summary"}),Object(n.jsx)("span",{className:"font-weight-bold",children:":"}),Object(n.jsxs)("span",{className:"theme_icon_color font-weight-bold",children:["\xa0",!(null===p||void 0===p?void 0:p.payment_status)&&Object(n.jsx)("span",{children:"Failed to add amount to the wallet!"}),(null===p||void 0===p?void 0:p.payment_status)&&"credit"===(null===p||void 0===p?void 0:p.type)&&Object(n.jsx)("span",{children:(null===p||void 0===p||null===(e=p.order_id)||void 0===e?void 0:e.rto_init)&&(null===p||void 0===p||null===(t=p.order_id)||void 0===t?void 0:t.ewaybill_number)?"RTO initiated for the order with AWB ".concat(null===p||void 0===p||null===(i=p.order_id)||void 0===i?void 0:i.ewaybill_number):(null===p||void 0===p||null===(l=p.order_id)||void 0===l||null===(o=l.weight_dispute)||void 0===o?void 0:o.refund_transaction_id)===(null===p||void 0===p?void 0:p._id)?"The amount has been reversed for the AWB No ".concat(null===p||void 0===p||null===(r=p.order_id)||void 0===r?void 0:r.ewaybill_number,"."):"".concat((null===p||void 0===p?void 0:p.order_id)?"Cancel order's amount":"Amount"," successfully added to the wallet!")}),(null===p||void 0===p?void 0:p.payment_status)&&"debit"===(null===p||void 0===p?void 0:p.type)&&Object(n.jsx)("span",{children:(null===p||void 0===p||null===(s=p.order_id)||void 0===s?void 0:s.rto_init)&&(null===p||void 0===p||null===(d=p.order_id)||void 0===d?void 0:d.ewaybill_number)?"RTO initiated for the order with AWB ".concat(null===p||void 0===p||null===(c=p.order_id)||void 0===c?void 0:c.ewaybill_number):(null===p||void 0===p||null===(u=p.order_id)||void 0===u||null===(v=u.weight_dispute)||void 0===v?void 0:v.transaction_id)===(null===p||void 0===p?void 0:p._id)?"The amount deducted for AWB No ".concat(null===p||void 0===p||null===(j=p.order_id)||void 0===j?void 0:j.ewaybill_number," due to weight dispute, Please raise dispute in weight Discrepancy panel in case of concern"):"Order placed successfully!"})]})]})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12"})})]}),Object(n.jsx)(G.a.Footer,{children:Object(n.jsx)("button",{variant:"secondary",className:"btn btn-secondary",onClick:this.handleClose,children:"Close"})})]})]})}}]),i}(l.Component),ii=(Object(p.b)((function(e,t){var i,n,l,a,o,r,s,d=t.match,c=null===d||void 0===d||null===(i=d.params)||void 0===i?void 0:i.id,u=null===(n=e.loggedInUser)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.data;if(console.log("state.loggedInUser",null===u||void 0===u?void 0:u._id,c),c&&(null===u||void 0===u?void 0:u._id)!==c){var v,j=null===(v=e.wallet)||void 0===v?void 0:v.wallets[c];a=null===j||void 0===j?void 0:j.data,o=null===j||void 0===j?void 0:j.transactions,r=null===j||void 0===j?void 0:j.transactionList,s=null===j||void 0===j?void 0:j.rechargeAmount}else{var b,m,h,p;a=null===(b=e.wallet)||void 0===b?void 0:b.data,o=null===(m=e.wallet)||void 0===m?void 0:m.transactions,r=null===(h=e.wallet)||void 0===h?void 0:h.transactionList,s=null===(p=e.wallet)||void 0===p?void 0:p.rechargeAmount}return{userId:c,loggedInUser:u,wallet:a,transactions:o,transactionList:r,rechargeAmount:s}}),(function(e){return{fetchWallet:function(t){return e(Ot(t))}}}))(ti),i(487)),ni=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).getMasterDataFile=function(){Y()({method:"GET",url:K.ATTACHMENTS_FILE,params:{onModel:"Master",model_id:1234567890}}).then((function(e){var t,i,l=e.data;!0===(null===l||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)&&n.setState({attachment:l.data})})).catch((function(e){console.log("getMasterDataFile ",e)}))},n.fileUplaodEvent=function(e){var t,i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];if(i){var l,a,o,r=null===(l=i.name)||void 0===l||null===(a=l.split("."))||void 0===a?void 0:a[i.name.split(".").length-1];if("xls"===r||"xlsx"===r)n.setState({file:null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.files[0]});else L("error","Upload xls or xlsx format file only!")}},n.uploadFile=function(e){var t=n.state.file;if(t){n.setState({isUploading:!0});var i=new FormData;i.set("model_id",1234567890),i.set("onModel","Master"),i.set("files",t),Y.a.post("".concat(K.CODES_URL,"/upload_master_file"),i).then((function(e){var t=null===e||void 0===e?void 0:e.data,i=null===t||void 0===t?void 0:t.meta;n.setState({resMeta:i,isShowModel:!0,isUploading:!1,file:null}),n.getMasterDataFile()})).catch((function(e){n.setState({isUploading:!1}),console.log("upload file ",e)}))}else L("warning","Please choose a file!")},n.onDownloadAttachment=function(){var e=n.state.attachment,t=null===e||void 0===e?void 0:e._id,i=null===e||void 0===e?void 0:e.filename;Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+t,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i),console.log("==",e)})).catch((function(e){console.log("onDownloadOrder ",e)}))},n.handleClose=function(){n.setState({resMeta:null,isShowModel:!1})},n.resetSelection=function(){n.setState({file:null,isUploading:!1,isShowModel:!0,resMeta:null})},n.state={file:null,isUploading:!1,isShowModel:!0,resMeta:null,attachment:null},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.getMasterDataFile()}},{key:"render",value:function(){var e,t,i,l,o,r=this.props.loggedInUser,s=this.state,d=s.file,c=s.isShowModel,u=s.resMeta,v=s.isUploading,j=s.attachment,b=((null===r||void 0===r||null===(e=r.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.permissions)||{}).upload_data,m=void 0===b?{}:b;return console.log(j,"attachment"),Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Master Data"}),Object(n.jsx)(we,{title:["Upload Data","Master Data"]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsxs)("h4",{className:"card-title mb-0 d-flex justify-content-between",children:["Upload Here",Object(n.jsx)("a",{href:"/MasterDataSampleFile.xlsx",children:Object(n.jsxs)("span",{className:"btn-link",style:{fontSize:14},children:["Sample File",Object(n.jsx)("i",{className:"fa fa-download ml-2","aria-hidden":"true"})]})})]}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsxs)("div",{className:"upload_img",children:[Object(n.jsx)("div",{className:"file_upload",children:Object(n.jsx)("input",{type:"file",className:"fileupload",name:"fileupload",accept:".xls, .xlsx",onChange:this.fileUplaodEvent})}),Object(n.jsxs)("div",{className:"upload_banner",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{children:"Choose file"})]}),d&&Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-excel",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:d.name})]})})]}),Object(n.jsx)("div",{})]})})})})]})}),Object(n.jsx)("div",{className:"col-xl-12 text-right my-55",children:Object(n.jsx)("div",{className:"button-items",children:Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:this.uploadFile,disabled:v,children:v?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Uploading..."})]}):"Upload"})})})]}),j&&Object(n.jsxs)(ii.a,{variant:"info",className:"d-flex justify-content-between flex-wrap ".concat((null===m||void 0===m||null===(i=m.master)||void 0===i?void 0:i.download)&&"pointer"),onClick:(null===m||void 0===m||null===(l=m.master)||void 0===l?void 0:l.download)&&this.onDownloadAttachment,children:[Object(n.jsx)("span",{"data-title":"Click to download the file",className:"mr-2",children:null===j||void 0===j?void 0:j.filename}),Object(n.jsxs)("span",{style:{textDecoration:"underline"},"data-title":(null===m||void 0===m||null===(o=m.master)||void 0===o?void 0:o.download)?"Click to download the file":void 0,children:["Last upload ",f()(null===j||void 0===j?void 0:j.timestamp).format("lll")]})]}),Object(n.jsx)(Q,{show:c&&u,title:(null===u||void 0===u?void 0:u.success)?"Upload Successfully":"Upload Failed",handleClose:this.handleClose,children:Object(n.jsx)("p",{children:(null===u||void 0===u?void 0:u.success)?"File has been successfully added to the database.":"Failed to upload the file"})})]})}}]),i}(l.Component),li=(Object(p.b)((function(e,t){var i,n;return{loggedInUser:null===(i=e.loggedInUser)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data}}))(ni),{FETCH_LOGISTIC_REQUEST:"FETCH_LOGISTIC_REQUEST",FETCH_LOGISTIC_SUCCESS:"FETCH_LOGISTIC_SUCCESS",FETCH_LOGISTIC_FAIL:"FETCH_LOGISTIC_FAIL",FETCH_LOGISTIC_PLAN_REQUEST:"FETCH_LOGISTIC_PLAN_REQUEST",FETCH_LOGISTIC_PLAN_SUCCESS:"FETCH_LOGISTIC_PLAN_SUCCESS",FETCH_LOGISTIC_PLAN_FAIL:"FETCH_LOGISTIC_PLAN_FAIL"}),ai=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).fileUplaodEvent=function(e){var t,i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];if(i){var l,a,o,r=null===(l=i.name)||void 0===l||null===(a=l.split("."))||void 0===a?void 0:a[i.name.split(".").length-1];if("xls"===r||"xlsx"===r)n.setState({file:null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.files[0]});else L("error","Upload xls or xlsx format file only!")}},n.uploadFile=function(e){var t,i,l,a=n.props,o=a.getAllLogistic,r=a.getAllLogisticPlan,s=a.loggedInUser,d=a.getUser,c=n.state,u=c.file,v=c.selectedCourierPartner,j=c.plan,b=null===s||void 0===s||null===(t=s.role)||void 0===t||null===(i=t._id)||void 0===i||null===(l=i.permissions)||void 0===l?void 0:l.showAllOrders,m=null===s||void 0===s?void 0:s.user_type,h=(null===m||void 0===m?void 0:m._id)||v,p=j;if(u&&h&&p){n.setState({isUploading:!0});var O=new FormData;O.set("logistic_id",h),O.set("model_id",h),O.set("onModel","Code"),O.set("files",u),O.set("plan",p),Y.a.post("".concat(K.LOGISTICS_URL,"/upload_logistic_file"),O).then((function(e){var t=null===e||void 0===e?void 0:e.data,i=(null===t||void 0===t?void 0:t.meta)||t;n.setState({resMeta:i,isShowModel:!0,isUploading:!1,file:null}),"string"===typeof(null===i||void 0===i?void 0:i.message)&&L((null===i||void 0===i?void 0:i.success)?"success":"error",null===i||void 0===i?void 0:i.message),b?(o&&o(),r&&r()):d&&d(null===s||void 0===s?void 0:s._id)})).catch((function(e){n.setState({isUploading:!1}),console.log("upload file ",e)}))}else b?L("warning","Please choose a file, courier partner and plan !"):u?h?p||L("error","Please Select Plan"):L("error","Please Select Courier Partner"):L("error","Please choose a file")},n.onDownloadAttachment=function(e){var t=null===e||void 0===e?void 0:e._id,i=null===e||void 0===e?void 0:e.filename;Y()({method:"GET",url:"".concat(K.ATTACHMENTS_DOWNLOAD,"/").concat(t),contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i)})).catch((function(e){console.error("There is some error while uploading a file!",e),L("error","There is some error while downloading a file!")}))},n.handleClose=function(){n.setState({resMeta:null,isShowModel:!1})},n.handleChange=function(e){return function(t){var i;n.setState(Object(u.a)({},e,null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value))}},n.state={courierPartner:[],file:null,isUploading:!1,isShowModel:!0,resMeta:null,selectedCourierPartner:"",plan:""},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props.getAllLogisticPlan;e&&e()}},{key:"render",value:function(){var e,t,i,l,o,r,s,d,c,u,v,j,b=this,m=this.state,h=m.file,p=m.isShowModel,O=m.resMeta,g=(m.courierPartner,m.isUploading),x=m.selectedCourierPartner,_=m.plan,E=this.props,N=E.logistics,y=E.loggedInUser,S=E.planObjMap,C=E.planOrder,w=E.attachment,T=null===y||void 0===y?void 0:y.user_type,A=w[x],R=((null===y||void 0===y||null===(e=y.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.permissions)||{}).upload_data,k=void 0===R?{}:R;return void 0!==A&&(j=A[_]),Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Courier Partner Data"}),Object(n.jsx)(we,{title:["Upload Data","Courier Partner Data"]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsxs)("h4",{className:"card-title mb-0 d-flex justify-content-between",children:["Upload Here",Object(n.jsx)("a",{href:"/CourierPartnerSample.xlsx",children:Object(n.jsxs)("span",{className:"btn-link",style:{fontSize:14},children:["Sample File",Object(n.jsx)("i",{className:"fa fa-download ml-2","aria-hidden":"true"})]})})]}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[!T&&Object(n.jsx)("div",{className:"col-md-4 col-sm-4 col-12 mb-2",children:Object(n.jsxs)("select",{className:"form-control",onChange:this.handleChange("selectedCourierPartner"),value:this.state.selectedCourierPartner,children:[Object(n.jsx)("option",{value:"",children:"Select Courier Partner"}),N&&N.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},t)}))]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.plan,onChange:this.handleChange("plan"),children:[Object(n.jsx)("option",{value:"",children:"Select Plan"}),C.map((function(e,t){var i,l=e&&S[e],a=null===l||void 0===l?void 0:l.planName;return(null===l||void 0===l||null===(i=l.attributes)||void 0===i?void 0:i.active)&&Object(n.jsx)("option",{value:e,children:a},t)}))]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsxs)("div",{className:"upload_img position-relative",children:[Object(n.jsx)("div",{className:"file_upload",children:Object(n.jsx)("input",{type:"file",className:"fileupload",name:"fileupload",accept:".xls, .xlsx",onChange:this.fileUplaodEvent})}),Object(n.jsxs)("div",{className:"upload_banner",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{children:"Choose file"})]}),h&&Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-excel",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:h.name})]})})]}),Object(n.jsx)("div",{})]})})]})})]})}),Object(n.jsx)("div",{className:"col-xl-12 text-right my-55",children:Object(n.jsx)("div",{className:"button-items",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.uploadFile,disabled:g,children:g?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Uploading..."})]}):"Upload"})})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-xl-12",children:[_&&x&&j&&Object(n.jsxs)(ii.a,{variant:"info",className:"d-flex justify-content-between flex-wrap",onClick:function(){return b.onDownloadAttachment(j)},style:{cursor:"pointer"},children:[Object(n.jsxs)("span",{"data-title":"name",className:"mr-2",children:[" ",null===(i=j)||void 0===i?void 0:i.filename]}),Object(n.jsxs)("span",{"data-title":(null===k||void 0===k||null===(l=k.courier_partner)||void 0===l?void 0:l.download)?"Click to download the file":void 0,style:{textDecoration:"underline"},children:["Last upload ",f()(null===(o=j)||void 0===o?void 0:o.timestamp).format("lll")]})]}),(null===T||void 0===T?void 0:T.attachments)&&Object(n.jsxs)(ii.a,{variant:"info",className:"d-flex justify-content-between ".concat((null===k||void 0===k||null===(r=k.courier_partner)||void 0===r?void 0:r.download)&&"pointer"),onClick:(null===k||void 0===k||null===(s=k.courier_partner)||void 0===s?void 0:s.download)?function(){return b.onDownloadAttachment(null===T||void 0===T?void 0:T.attachments)}:void 0,children:[Object(n.jsx)("span",{"data-title":(null===k||void 0===k||null===(d=k.courier_partner)||void 0===d?void 0:d.download)?"Click to download the file":void 0,children:null===T||void 0===T||null===(c=T.attachments)||void 0===c?void 0:c.filename}),Object(n.jsxs)("span",{"data-title":(null===k||void 0===k||null===(u=k.courier_partner)||void 0===u?void 0:u.download)?"Click to download the file":void 0,style:{textDecoration:"underline"},children:["Last upload"," ",f()(null===T||void 0===T||null===(v=T.attachments)||void 0===v?void 0:v.timestamp).format("lll")]})]})]})}),Object(n.jsx)(Q,{show:p&&!!O,title:(null===O||void 0===O?void 0:O.success)?"Upload Successfully":"Upload Failed",handleClose:this.handleClose,children:Object(n.jsx)("p",{children:(null===O||void 0===O?void 0:O.success)?"File has been successfully added to the database.":"Failed to upload the file"})})]})}}]),i}(l.Component),oi=(Object(p.b)((function(e){var t,i,n,l,a,o,r=null===(t=e.loggedInUser)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data,s=null===r||void 0===r?void 0:r.visible_plans,d=null===e||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.planOrder;return Array.isArray(d)&&(null===s||void 0===s?void 0:s.length)>0&&(d=s),{loggedInUser:r,logistics:null===e||void 0===e||null===(l=e.logistics)||void 0===l?void 0:l.data,planObjMap:null===e||void 0===e||null===(a=e.plan)||void 0===a?void 0:a.plans,planOrder:d,attachment:null===e||void 0===e||null===(o=e.logistics)||void 0===o?void 0:o.attachments}}),(function(e){return{getUser:function(t){return e(Ne(t))},getAllLogistic:function(t){return e(function(e){return{type:li.FETCH_LOGISTIC_REQUEST,payload:e}}(t))},getAllLogisticPlan:function(t){return e(function(e){return{type:li.FETCH_LOGISTIC_PLAN_REQUEST,payload:e}}(t))}}}))(ai),function(e){var t=e.remark,i=void 0===t?"open":t,l=e.title,a=void 0===l?"":l,o=e.message,r=void 0===o?"":o,s=e.createdAt,d=e.author,c=void 0===d?{}:d,u="#0000CD";return"closed"===(i=i.toLowerCase())?u="#e74c3c":"resolved"===i&&(u="#228B22"),Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{className:"date_box",children:Object(n.jsx)("h6",{children:s&&f()(s).format("D MMM")})}),Object(n.jsxs)("div",{className:"comment_content",children:[Object(n.jsxs)("h5",{children:[a," ",Object(n.jsx)("span",{className:"ml-2",style:{color:u},children:i.toUpperCase()})]}),Object(n.jsxs)("p",{children:[(null===c||void 0===c?void 0:c.first_name)?"".concat(null===c||void 0===c?void 0:c.first_name," ").concat((null===c||void 0===c?void 0:c.last_name)||""," "):"".concat(null===c||void 0===c?void 0:c.email," "),"added comment on ",s&&f()(s).format("D MMM, YYYY hh:mm a")]}),Object(n.jsx)("p",{className:"card pl-2 pr-2 pt-2 pb-2",children:r})]})]})}),ri={FETCH_ALL_REQUEST:"FETCH_ALL_COMMENT_REQUEST",FETCH_ALL_SUCCESS:"FETCH_ALL_COMMENT_SUCCESS",FETCH_ALL_FAIL:"FETCH_ALL_COMMENT_FAIL",CREATE_REQUEST:"CREATE_COMMENT_REQUEST",CREATE_SUCCESS:"CREATE_COMMENT_SUCCESS",CREATE_FAIL:"CREATE_COMMENT_FAIL"},si=Object(p.b)((function(e,t){var i,n=t.orderId,l=e.order.orders[n],a=null===(i=e.comment)||void 0===i?void 0:i.board[n];return{orderId:n,order:l,loading:null===a||void 0===a?void 0:a.loading,error:null===a||void 0===a?void 0:a.error}}),(function(e){return{postOrderComment:function(t){return e(function(){return{type:ri.CREATE_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))((function(e){var t,i=e.show,a=void 0!==i&&i,o=e.handleModal,r=void 0===o?function(){}:o,s=e.orderId,d=void 0===s?"":s,c=e.order,v=void 0===c?{}:c,j=e.loading,b=e.error,m=e.postOrderComment,h=void 0===m?function(e){}:m;a=a&&!!d;var p=Object(l.useRef)(j),O=Object(l.useState)((t={remark:"open",title:"",message:"",customer_first_name:"",customer_last_name:"",customer_mobile:"",customer_address_line1:"",customer_pincode:""},Object(u.a)(t,"customer_pincode",""),Object(u.a)(t,"deferred_delivery_date",""),Object(u.a)(t,"isSendSms",!1),Object(u.a)(t,"isSendEmail",!1),Object(u.a)(t,"isSendNdr",!1),Object(u.a)(t,"isLoading",!1),Object(u.a)(t,"titleErr",""),Object(u.a)(t,"messageErr",""),Object(u.a)(t,"customer_first_name_err",""),Object(u.a)(t,"customer_last_name_err",""),Object(u.a)(t,"customer_mobile_err",""),Object(u.a)(t,"customer_address_line1_err",""),Object(u.a)(t,"customer_address_line2_err",""),Object(u.a)(t,"customer_pincode_err",""),Object(u.a)(t,"deferred_delivery_date_err",""),t)),g=Object(H.a)(O,2),x=g[0],_=g[1];Object(l.useEffect)((function(){return function(){var e;x.isLoading&&(null===(e=p.current)||void 0===e?void 0:e.loading)&&!j&&(b||r(),_(Object(M.a)(Object(M.a)({},x),{},{isLoading:!1}))),!1===a&&_({remark:"open"})}(),function(){return p.current={loading:j}}}),[a,j]);var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n,l,a,o=null===i||void 0===i?void 0:i.target,r=t?null===o||void 0===o?void 0:o.checked:null!==(n=null===o||void 0===o?void 0:o.value)&&void 0!==n?n:i;"customer_mobile"===e&&(r=null===(a=r)||void 0===a?void 0:a.replace(/[^0-9]/g,""));_(Object(M.a)(Object(M.a)({},x),{},(l={},Object(u.a)(l,e,r),Object(u.a)(l,"titleErr",""),Object(u.a)(l,"messageErr",""),Object(u.a)(l,"customer_first_name_err",""),Object(u.a)(l,"customer_last_name_err",""),Object(u.a)(l,"customer_mobile_err",""),Object(u.a)(l,"customer_address_line1_err",""),Object(u.a)(l,"customer_address_line2_err",""),Object(u.a)(l,"customer_pincode_err",""),Object(u.a)(l,"deferred_delivery_date_err",""),l)))}},N=function(){r&&r()},y=x.remark,S=x.title,C=x.message,w=x.customer_first_name,A=x.customer_last_name,R=x.customer_mobile,k=x.customer_address_line1,D=x.customer_address_line2,L=x.customer_pincode,U=x.deferred_delivery_date,P=x.isLoading,F=x.isSendSms,B=x.isSendEmail,Q=x.isSendNdr,W=x.titleErr,Y=x.messageErr,q=x.customer_first_name_err,K=x.customer_last_name_err,z=x.customer_mobile_err,V=x.customer_address_line1_err,J=x.customer_address_line2_err,X=x.customer_pincode_err,$=x.deferred_delivery_date_err,Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!(e=e.toLowerCase().trim()).includes("wow express")||!!e.includes("xpressbees")||!!e.includes("delhivery")||(e.includes("spoton")||e.includes("shadowfax")||e.includes("dtdc")||e.includes("blue dart"),!1)}(null===v||void 0===v?void 0:v.courier_name);return Object(n.jsxs)(G.a,{show:a,onHide:N,backdrop:"static",size:"lg",children:[Object(n.jsx)(G.a.Header,{children:Object(n.jsx)(G.a.Title,{children:"Add Comment"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsxs)("div",{className:"col-md",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(I,{labelText:"Title",value:S,onChange:E("title"),isRequired:!0,errorText:W,disabled:P}),Object(n.jsx)(I,{style:{height:150},labelText:"Message",value:C,cols:"3",isRequired:!0,onChange:E("message"),errorText:Y,disabled:P})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"text-capitalize",children:"Status"}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{className:"form-control mb-3",value:y,onChange:E("remark"),disabled:P,children:[Object(n.jsx)("option",{value:"open",children:"Open"}),Object(n.jsx)("option",{value:"closed",children:"Closed"}),Object(n.jsx)("option",{value:"resolved",children:"Resolved"})]})})]}),Object(n.jsxs)("div",{className:"d-flex mt-2",children:[Object(n.jsx)("div",{className:"form-group form-check mr-3",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{className:"form-check-input mt-1",type:"checkbox",checked:F,onChange:E("isSendSms",!0),disabled:P}),"SMS"]})}),Object(n.jsx)("div",{className:"form-group form-check mr-3",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{className:"form-check-input mt-1",type:"checkbox",checked:B,onChange:E("isSendEmail",!0),disabled:P}),"Email"]})}),Object(n.jsx)("div",{className:"form-group form-check mr-3",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{className:"form-check-input mt-1",type:"checkbox",checked:Q,onChange:E("isSendNdr",!0),disabled:P}),"NDR"]})})]}),Z&&Q&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{className:"mt-2 mb-2",children:Object(n.jsx)("span",{children:"Alternate Customer Details"})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(I,{labelText:"First name",value:w,onChange:E("customer_first_name"),isRequired:!0,errorText:q,disabled:P})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(I,{labelText:"Last name",value:A,onChange:E("customer_last_name"),isRequired:!0,errorText:K,disabled:P})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(I,{labelText:"Mobile Number",value:R,onChange:E("customer_mobile"),isRequired:!0,errorText:z,disabled:P})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(I,{labelText:"Address line 1",value:k,onChange:E("customer_address_line1"),isRequired:!0,errorText:V,disabled:P})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(I,{labelText:"Address line 2",value:D,onChange:E("customer_address_line2"),isRequired:!0,errorText:J,disabled:P})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)(I,{labelText:"Postcode",value:L,onChange:E("customer_pincode"),isRequired:!0,errorText:X,disabled:P})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsxs)("label",{children:["Delivery Date ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsx)("div",{children:Object(n.jsxs)("label",{className:"position-relative datePicker",children:[Object(n.jsx)(St.a,{className:"form-control ".concat($&&"is-invalid"),selected:U,onChange:E("deferred_delivery_date"),dateFormat:"dd/MM/yyyy",placeholderText:"Delivery Date",minDate:f()().add(1,"day").toDate()}),!U&&!$&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})})]})})]})]})}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)(Fe.a,{variant:"secondary",onClick:N,disabled:P,children:"Close"}),Object(n.jsx)(Fe.a,{variant:"primary",onClick:function(){if(!function(){var e,t,i,n=x.remark,l=x.title,a=x.message,o=x.customer_first_name,r=x.customer_last_name,s=x.customer_mobile,d=x.customer_address_line1,c=x.customer_address_line2,u=x.customer_pincode,v=x.deferred_delivery_date,j=x.isSendNdr;n=null===(e=n)||void 0===e?void 0:e.trim(),l=null===(t=l)||void 0===t?void 0:t.trim(),a=null===(i=a)||void 0===i?void 0:i.trim();var b,m,h,p,O,g,f=!1,E="",N="",y="",S="",C="",w="",A="",R="";return(!l||l.length<0)&&(E="Please enter title",f=!0),(!a||a.length<0)&&(N="Please enter message",f=!0),Z&&j&&(o=null===(b=o)||void 0===b?void 0:b.trim(),r=null===(m=r)||void 0===m?void 0:m.trim(),s=null===(h=s)||void 0===h?void 0:h.trim(),d=null===(p=d)||void 0===p?void 0:p.trim(),c=null===(O=c)||void 0===O?void 0:O.trim(),u=null===(g=u)||void 0===g?void 0:g.trim(),(!o||o.length<0)&&(y="Please enter first name",f=!0),(!r||r.length<0)&&(S="Please enter last name",f=!0),!s||s.length<0?(C="Please enter mobile number",f=!0):T(s)||(C="Please enter valid mobile number",f=!0),(!d||d.length<0)&&(w="Please enter address line 1",f=!0),(!c||c.length<0)&&(A="Please enter address line 2",f=!0),(!u||u.length<0)&&(R="Please enter pincode",f=!0),v||($="Please select Deferred Delivery Date",f=!0)),_(Object(M.a)(Object(M.a)({},x),{},{titleErr:E,messageErr:N,customer_first_name_err:y,customer_last_name_err:S,customer_mobile_err:C,customer_address_line1_err:w,customer_address_line2_err:A,customer_pincode_err:R,deferred_delivery_date_err:$})),f}()){_(Object(M.a)(Object(M.a)({},x),{},{isLoading:!0}));var e={remark:y,title:S,body:C,onModel:"Order",model_id:d,sendSms:F,sendMail:B,sendNdr:Q,customer:Q?{first_name:w,last_name:A,mobile_number:R}:void 0,address:Q?{line1:k,line2:D,pincode:L}:void 0,deferred_delivery_date:Q&&U?f()(U).toString():void 0};d&&h(e)}},disabled:P,children:P?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Sending..."})]}):"Submit"})]})]})})),di=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).fetchOrderComments=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=n.props,l=i.orderId,a=i.fetchComments;l&&a&&a({model_id:l,onModel:"Order",offset:e,limit:t})},n.loadMoreOrderComments=function(){var e=n.props,t=e.commentList,i=e.commentMeta,l=(null===i||void 0===i?void 0:i.totalCount)||0;Array.isArray(t)&&t.length<l&&n.fetchOrderComments(t.length)},n.onGoBack=function(){n.props.history.goBack()},n.onLoadMoreMessage=function(){n.setState({isLoading:!0},(function(){return n.loadMoreOrderComments()}))},n.toggleSendMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e="boolean"===typeof e&&e,n.setState({showMessageModal:e})},n.toggleOrder=function(){n.setState({isLatestBottom:!n.state.isLatestBottom})},n.state={isGoBack:!1,showMessageModal:!1,isLoading:!1,isLatestBottom:!1,goToTicket:!1},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props,i=t.orderId,n=t.order,l=t.getOrder,a=t.location;i&&!n&&l&&l(i),"ticket"===(null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.from)&&this.setState({goToTicket:!0}),this.fetchOrderComments()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.commentList;this.state.isLoading&&Array.isArray(i)&&i.length!==(null===(t=e.commentList)||void 0===t?void 0:t.length)&&this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this,t=this.props,i=t.orderId,l=t.order,a=t.comments,o=t.commentList,r=t.commentMeta,s=this.state,d=s.isGoBack,u=s.showMessageModal,v=s.isLoading,j=s.isLatestBottom,b=s.goToTicket;if(d)return b?Object(n.jsx)(c.a,{to:"/app/ticketDashboard"}):Object(n.jsx)(c.a,{to:"/app/shipmentList"});j&&(o=Object(Ae.a)(o||[]).reverse());var m=null===l||void 0===l?void 0:l.product_details;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Shipment Activity"}),Object(n.jsx)(we,{title:["Shipment","Shipment Activity"]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-2"}),"Back"]})})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsxs)("h2",{className:"card-title mb-0 d-flex justify-content-between",children:["Shipment Id #",null===l||void 0===l?void 0:l.order_id,Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"btn btn-outline-primary",style:{fontSize:14},onClick:function(){return e.toggleSendMessage(!0)},children:"Add Comment"})})]}),Object(n.jsxs)("div",{className:"order_active pl-4 pr-4",children:[Object(n.jsx)("p",{className:"pt-3",children:null===m||void 0===m?void 0:m.product_name}),Object(n.jsx)("p",{style:{textTransform:"uppercase"},children:null===l||void 0===l?void 0:l.latest_order_status}),(null===l||void 0===l?void 0:l.created_at)&&Object(n.jsxs)("p",{className:"d-flex",children:[Object(n.jsx)("span",{children:"Shipment Date :"}),Object(n.jsx)("strong",{className:"ml-2",children:f()(l.created_at).format("D MMM YYYY")})]})]}),Object(n.jsx)("div",{className:"col-md-12",children:Array.isArray(o)&&o.length>0?Object(n.jsxs)("div",{className:"bg-f9f9f9 pl-3 pr-3 pt-5 pb-3",children:[Object(n.jsx)("span",{className:"pointer",style:{fontSize:16,position:"absolute",right:50},onClick:function(){return e.toggleOrder()},"data-title":j?"Sort by latest":"Sort by oldest",children:j?Object(n.jsx)("i",{className:"fas fa-sort-amount-down"}):Object(n.jsx)("i",{className:"fas fa-sort-amount-up"})}),o.map((function(e){var t=e&&a&&a[e];return t&&Object(n.jsx)(oi,{remark:t.remark,title:t.title,message:t.body,createdAt:t.timestamp,author:t.author})})),r&&(null===r||void 0===r?void 0:r.totalCount)>o.length&&Object(n.jsx)("div",{className:"text-right",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onLoadMoreMessage,disabled:v,children:v?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Loading..."})]}):"Load More"})})]}):Object(n.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center pb-4",style:{textAlign:"center"},children:Object(n.jsx)("img",{src:"/images/no_comment.svg",style:{height:250,display:"block"}})})})]})})}),Object(n.jsx)(si,{show:u,handleModal:this.toggleSendMessage,orderId:i})]})}}]),i}(l.Component),ci=(Object(p.b)((function(e,t){var i,n,l,a,o=t.match,r=null===o||void 0===o||null===(i=o.params)||void 0===i?void 0:i.orderId,s=r&&(null===(n=e.order)||void 0===n?void 0:n.orders[r]),d=null===(l=e.comment)||void 0===l?void 0:l.comments,c=null===(a=e.comment)||void 0===a?void 0:a.board[r],u=null===c||void 0===c?void 0:c.list,v=null===c||void 0===c?void 0:c.meta;null===c||void 0===c||c.loading;return{orderId:r,order:s,comments:d,commentList:u,commentMeta:v}}),(function(e){return{getOrder:function(t){return e(pe(t))},fetchComments:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:ri.FETCH_ALL_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}}(t))}}}))(di),function(e){var t,i=e.show,l=void 0!==i&&i,a=e.handleClose,o=void 0===a?function(){}:a,r=(e.logistics,Object(B.a)(e,["show","handleClose","logistics"]));return Object(n.jsx)(Q,{show:l,title:"Upload a file",handleClose:o,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"upload_img",children:[Object(n.jsx)("div",{className:"file_upload",children:Object(n.jsx)("input",{type:"file",className:"fileupload",name:"fileupload",accept:".xls, .xlsx, .csv",onChange:r.fileUpload,disabled:r.onLoad})}),Object(n.jsxs)("div",{className:"upload_banner m-auto ".concat(!!(null===r||void 0===r?void 0:r.fileErr)&&"is-invalid"),children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{children:"Choose file"})]}),!!(null===r||void 0===r?void 0:r.fileErr)&&Object(n.jsx)("div",{className:"invalid-feedback",style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.fileErr}),(null===r||void 0===r?void 0:r.file)&&Object(n.jsx)("div",{className:"mt-2",style:{textAlign:"center"},children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-excel",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:null===r||void 0===r||null===(t=r.file)||void 0===t?void 0:t.name})]})})]})}),Object(n.jsxs)("div",{className:"col-md-12 text-center mt-2",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:r.handleSubmit,disabled:r.onLoad,children:r.onLoad?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Uploading..."})]}):"Submit"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary ml-2",onClick:o,disabled:r.onLoad,children:"Close"})]})]})})})})})}),ui={FETCH_ALL_REMITTANCE_REQUEST:"FETCH_ALL_REMITTANCE_REQUEST",FETCH_ALL_REMITTANCE_SUCCESS:"FETCH_ALL_REMITTANCE_SUCCESS",FETCH_ALL_REMITTANCE_FAIL:"FETCH_ALL_REMITTANCE_FAIL",UPLOAD_FILE_REQUEST:"UPLOAD_FILE_REQUEST",UPLOAD_FILE_SUCCESS:"UPLOAD_FILE_SUCCESS",UPLOAD_FILE_FAILURE:"UPLOAD_FILE_FAILURE",UPDATE_STATUS_REQUEST:"UPDATE_STATUS_REQUEST",UPDATE_STATUS_SUCCESS:"UPDATE_STATUS_SUCCESS",UPDATE_STATUS_FAILURE:"UPDATE_STATUS_FAILURE",FETCH_ACCOUNTS_REQUEST:"FETCH_ACCOUNTS_REQUEST",FETCH_ACCOUNTS_SUCCESS:"FETCH_ACCOUNTS_SUCCESS",FETCH_ACCOUNTS_FAIL:"FETCH_ACCOUNTS_FAIL",VERIFY_ACCOUNTS_REQUEST:"VERIFY_ACCOUNTS_REQUEST",VERIFY_ACCOUNTS_SUCCESS:"VERIFY_ACCOUNTS_SUCCESS",VERIFY_ACCOUNTS_FAIL:"VERIFY_ACCOUNTS_FAIL",UPDATE_ACCOUNTS_REQUEST:"UPDATE_ACCOUNTS_REQUEST",UPDATE_ACCOUNTS_SUCCESS:"UPDATE_ACCOUNTS_SUCCESS",UPDATE_ACCOUNTS_FAIL:"UPDATE_ACCOUNTS_FAIL"},vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:ui.VERIFY_ACCOUNTS_REQUEST,payload:e}},ji=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(v.a)(this,i);for(var l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showModal:!1,selectedCourierPartner:"",file:null,fileErr:null,courierErr:null,onLoad:!1,showPreviewOfFileId:null,allAttachments:[]},e.imageComp=a.a.createRef(),e.loadMore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.props,l=n.fetchAllRemittance,a=n.orderList,o=n.remittanceMeta;if(0===t||((null===o||void 0===o?void 0:o.totalCount)||(null===o||void 0===o?void 0:o.total_count))>(null===a||void 0===a?void 0:a.length)){var r={offset:t,limit:i};null===l||void 0===l||l(r)}},e.togglePreview=function(t,i){e.setState({showPreviewOfFileId:t,allAttachments:i})},e.handleUploadModal=function(){e.setState({showModal:!e.state.showModal})},e.selectCourierPartner=function(t){var i;e.setState({selectedCourierPartner:null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value,courierErr:null})},e.fileUpload=function(t){var i,n=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.files[0];if(n){var l,a,o=null===(l=n.name)||void 0===l||null===(a=l.split("."))||void 0===a?void 0:a[n.name.split(".").length-1];"xls"===o||"xlsx"===o?e.setState({file:n,fileErr:null}):L("error","Upload xls and xlsx format file only!")}},e.handleSubmit=function(){var t=e.state,i=(t.selectedCourierPartner,t.file);if(!i)return e.setState({fileErr:"Please choose a file",courierErr:null}),!1;var n=new FormData;n.set("model_id",123456789),n.set("onModel","Remittance"),n.set("files",i),e.setState({onLoad:!0}),e.props.uploadFile(n)},e.renderRow=function(t,i){var l,a,o,r,d,c,u,v,j,b,m,h,p,O=e.props,g=O.remittance,x=O.users,_=O.loggedInUser,E=(null===_||void 0===_||null===(l=_.role)||void 0===l||null===(a=l._id)||void 0===a?void 0:a.permissions)||{},N=t&&g&&g[t],y=null===(o=x[null===N||void 0===N||null===(r=N.createdBy)||void 0===r?void 0:r._id])||void 0===o?void 0:o.first_name,S=null===(d=x[null===N||void 0===N||null===(c=N.createdBy)||void 0===c?void 0:c._id])||void 0===d?void 0:d.last_name,C=y&&S?y+" "+S:y||S;return N&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:i+1}),Object(n.jsx)("td",{className:(null===E||void 0===E||null===(u=E.remittance)||void 0===u||null===(v=u.confirmation_csv)||void 0===v?void 0:v.download)?"pointer":void 0,"data-title":(null===E||void 0===E||null===(j=E.remittance)||void 0===j||null===(b=j.confirmation_csv)||void 0===b?void 0:b.download)?"Download":void 0,onClick:function(){var t,i;return(null===E||void 0===E||null===(t=E.remittance)||void 0===t||null===(i=t.confirmation_csv)||void 0===i?void 0:i.download)?e.downloadAttachment(null===N||void 0===N?void 0:N.attachments_id):void 0},children:Object(n.jsx)("div",{tabIndex:"0",ref:e.imageComp,style:{outline:0},children:null===N||void 0===N||null===(m=N.attachments_id)||void 0===m?void 0:m.filename})}),Object(n.jsx)("td",{children:C||(null===N||void 0===N||null===(h=N.createdBy)||void 0===h?void 0:h.name)||(null===N||void 0===N||null===(p=N.createdBy)||void 0===p?void 0:p.email)}),Object(n.jsx)("td",{style:{letterSpacing:"0.8px"},children:f()(null===N||void 0===N?void 0:N.createdAt).format("D MMM YYYY, h:mm a")}),Object(n.jsx)("td",{style:{textAlign:"center",letterSpacing:"0.8px"},children:Object(n.jsx)(s.b,{to:"/app/RemittanceEntries/".concat(t),className:"btn btn-primary view_btn",children:"View Details"})})]},"".concat(t,"_").concat(i))},e.downloadAttachment=function(e){var t=null===e||void 0===e?void 0:e._id,i=null===e||void 0===e?void 0:e.filename;Y()({method:"GET",url:"".concat(K.ATTACHMENTS_DOWNLOAD,"/").concat(t),contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i)})).catch((function(e){console.log("onDownloadOrder ",e)}))},e}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.loadMore(),this.imageComp.current&&this.imageComp.current.addEventListener("keydown",(function(t){27===t.keyCode&&e.togglePreview(null)}))}},{key:"componentWillUnmount",value:function(){this.imageComp.current&&this.imageComp.current.removeEventListener("keydown",this.togglePreview(null))}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.error;this.state.onLoad&&(null===e||void 0===e?void 0:e.isLoading)&&!this.props.isLoading&&(i?(this.setState({onLoad:!1}),L("error",(null===i||void 0===i||null===(t=i.meta)||void 0===t?void 0:t.message)||(null===i||void 0===i?void 0:i.message))):(this.setState({onLoad:!1,showModal:!1,file:null,selectedCourierPartner:""}),L("success","File uploaded successfully")))}},{key:"render",value:function(){var e=this.props,t=e.logistics,i=e.orderList,l=e.remittanceMeta,a=e.isLoading,o=this.state,r=o.showModal,s=o.selectedCourierPartner,d=o.courierErr,c=o.fileErr,u=o.file,v=o.onLoad;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Confirmation CSV"}),Object(n.jsx)(we,{title:["Remittance","Confirmation CSV"]})]})}),Object(n.jsxs)("div",{className:"page-title-right",children:[Object(n.jsxs)("a",{href:"/CSV_Sample.xlsx",className:"btn btn-primary btn-icon-text mr-2",children:[Object(n.jsx)("i",{className:"fa fa-download mr-2","aria-hidden":"true"}),Object(n.jsx)("span",{children:"Sample File"})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.handleUploadModal,children:[Object(n.jsx)("i",{className:"dripicons dripicons-upload mr-2",style:{lineHeight:0}}),Object(n.jsx)("span",{children:"Upload Here"})]})]})]})})}),Object(n.jsx)(Le,{headings:["No.","File name","Uploaded by","Uploaded date","Action"],showSearch:!1,totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),rowData:i,renderRow:this.renderRow,loading:a,loadMore:this.loadMore}),Object(n.jsx)(ci,{show:r,handleClose:this.handleUploadModal,logistics:t,selectedCourierPartner:s,selectCourierPartner:this.selectCourierPartner,courierErr:d,fileErr:c,handleSubmit:this.handleSubmit,fileUpload:this.fileUpload,onLoad:v,file:u})]})}}]),i}(l.Component),bi=(Object(p.b)((function(e,t){var i,n,l,a,o,r,s,d,c;return{logistics:null===e||void 0===e||null===(i=e.logistics)||void 0===i?void 0:i.data,remittance:null===e||void 0===e||null===(n=e.remittance)||void 0===n?void 0:n.remittance,orderList:null===e||void 0===e||null===(l=e.remittance)||void 0===l?void 0:l.orderList,remittanceMeta:null===e||void 0===e||null===(a=e.remittance)||void 0===a?void 0:a.meta,users:null===e||void 0===e||null===(o=e.users)||void 0===o?void 0:o.users,isLoading:null===e||void 0===e||null===(r=e.remittance)||void 0===r?void 0:r.loading,error:null===e||void 0===e||null===(s=e.remittance)||void 0===s?void 0:s.error,loggedInUser:null===(d=e.loggedInUser)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.data}}),(function(e){return{uploadFile:function(t){return e(function(){return{type:ui.UPLOAD_FILE_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))},fetchAllRemittance:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:ui.FETCH_ALL_REMITTANCE_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||100})}}(t))}}}))(ji),function(e){var t,i,l,a,o,r,s,d,c,u,v,j,b,m=e.show,h=void 0!==m&&m,p=e.handleClose,O=void 0===p?function(){}:p,g=Object(B.a)(e,["show","handleClose"]);return Object(n.jsx)(Q,{show:h,title:"Remarks",handleClose:O,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("form",{className:"needs-validation",noValidate:!0,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-xl-6",children:[Object(n.jsx)("strong",{children:"AWB Number"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:null===(t=g.activeOrder)||void 0===t?void 0:t.awb_number})]}),Object(n.jsxs)("div",{className:"col-xl-6",children:[Object(n.jsx)("strong",{children:"Amount Remitted"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:parseFloat(null===g||void 0===g||null===(i=g.activeOrder)||void 0===i?void 0:i.remittance_amount).toFixed(2)})]})]})}),Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-xl-6",children:[Object(n.jsx)("strong",{children:"COD Amount"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:parseFloat(null===g||void 0===g||null===(l=g.activeOrder)||void 0===l?void 0:l.cod_amount).toFixed(2)})]}),Object(n.jsxs)("div",{className:"col-xl-6",children:[Object(n.jsx)("strong",{children:"Delivery Date"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:f()(null===g||void 0===g||null===(a=g.activeOrder)||void 0===a?void 0:a.delivery_date).format("DD MMM YYYY")})]})]})}),Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-xl-6",children:[Object(n.jsx)("strong",{children:"Case"}),Object(n.jsxs)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:["completed"===(null===g||void 0===g||null===(o=g.activeOrder)||void 0===o?void 0:o.status)&&Object(n.jsx)("span",{className:"greenColor",children:"Match"}),"completed"!==(null===g||void 0===g||null===(r=g.activeOrder)||void 0===r?void 0:r.status)&&Object(n.jsx)("span",{className:"redColor",children:"Mismatch"})]})]})})})]}),"completed"!==(null===g||void 0===g||null===(s=g.activeOrder)||void 0===s?void 0:s.status)&&Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-xl-12",children:[Object(n.jsx)("strong",{children:"Add Remarks"}),Object(n.jsxs)("div",{className:"mt-2",children:[Object(n.jsx)("textarea",{className:"form-control ".concat(!!(null===g||void 0===g?void 0:g.remarksErr)&&"is-invalid"),onChange:g.handleRemarks,value:g.remarks,placeholder:"Enter remarks here",rows:"3"}),!!(null===g||void 0===g?void 0:g.remarksErr)&&Object(n.jsx)("div",{className:"invalid-feedback",children:null===g||void 0===g?void 0:g.remarksErr})]})]})})})}),"completed"===(null===g||void 0===g||null===(d=g.activeOrder)||void 0===d?void 0:d.status)&&(null===g||void 0===g||null===(c=g.activeOrder)||void 0===c?void 0:c.reason)&&Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-xl-12",children:[Object(n.jsx)("strong",{children:"Added Remarks"}),Object(n.jsx)("div",{className:"mt-2 redColor font-weight-bold",style:{fontSize:"15px"},children:null===g||void 0===g||null===(u=g.activeOrder)||void 0===u?void 0:u.reason})]})})})}),Object(n.jsxs)("div",{className:"col-md-12 form-group text-center",children:["completed"!==(null===g||void 0===g||null===(v=g.activeOrder)||void 0===v?void 0:v.status)&&(null===g||void 0===g||null===(j=g.activeOrder)||void 0===j?void 0:j.remittance_amount)!==(null===g||void 0===g||null===(b=g.activeOrder)||void 0===b?void 0:b.cod_amount)&&Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:g.handleSubmit,children:"Submit"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary ml-2",onClick:O,children:"Close"})]})]})})})})})}),mi=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(v.a)(this,i);for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showModal:!1,activeRemittance:null,activeOrder:null,remarks:"",remarksErr:null,onLoad:!1,searchText:""},e.handleRemittanceRemarks=function(t){var i=!e.state.showModal;i?e.setState({showModal:i,activeOrder:t}):e.setState({showModal:i,activeOrder:null})},e.renderRow=function(t,i){var l;return t&&Object(n.jsxs)("tr",{onClick:function(){return e.handleRemittanceRemarks(t)},className:"pointer",children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:i+1}),Object(n.jsx)("td",{children:null===t||void 0===t?void 0:t.awb_number}),Object(n.jsx)("td",{children:parseFloat(null===t||void 0===t?void 0:t.remittance_amount).toFixed(2)}),Object(n.jsx)("td",{children:parseFloat(null===t||void 0===t?void 0:t.cod_amount).toFixed(2)}),Object(n.jsx)("td",{children:null===(l=f()(null===t||void 0===t?void 0:t.delivery_date))||void 0===l?void 0:l.format("DD MMM YYYY")}),Object(n.jsx)("td",{className:"font-weight-bold",children:"completed"===(null===t||void 0===t?void 0:t.status)?Object(n.jsxs)("div",{className:"greenColor",children:["Match ",(null===t||void 0===t?void 0:t.reason)&&Object(n.jsx)(Ke.a,{"data-title":"Remark added",className:"ml-1",style:{color:"#fff",fontSize:12},variant:"primary",children:"R"})]}):Object(n.jsx)("div",{className:"redColor",children:"Mismatch"})}),Object(n.jsx)("td",{className:"font-weight-bold",style:{textAlign:"center"},children:"completed"===(null===t||void 0===t?void 0:t.status)?Object(n.jsx)("div",{className:"greenColor",children:"Close"}):Object(n.jsx)("div",{className:"redColor",children:"Open"})})]},"".concat(i))},e.handleRemarks=function(t){var i;e.setState({remarks:null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value,remarksErr:null})},e.handleSubmit=function(){var t;if(!e.state.remarks)return e.setState({remarksErr:"Please enter remarks"}),!1;e.props.updateStatusRequest({_id:null===(t=e.state.activeOrder)||void 0===t?void 0:t._id,reason:e.state.remarks,status:"completed"}),e.setState({onLoad:!0})},e.onDownloadAttachment=function(){var t=e.state.activeRemittance,i=null===t||void 0===t?void 0:t.attachments_id,n=null===i||void 0===i?void 0:i._id,l=null===i||void 0===i?void 0:i.filename;Y()({method:"GET",url:"".concat(K.ATTACHMENTS_DOWNLOAD,"/").concat(n),contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){return Pe()(e.data,l)})).catch((function(e){L("error","Error in downloading attachment"),console.log("Download Attachment ",e)}))},e.onSearch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchText:t.trim()})},e}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props,i=t.remittance,n=t.match,l=null===n||void 0===n||null===(e=n.params)||void 0===e?void 0:e.id;l&&i&&i[l]&&this.setState({activeRemittance:i[l]})}},{key:"componentDidUpdate",value:function(e){var t,i=this.props,n=i.remittance,l=i.match,a=i.error,o=null===l||void 0===l||null===(t=l.params)||void 0===t?void 0:t.id;(null===e||void 0===e?void 0:e.remittance)!==n&&o&&n&&n[o]&&this.setState({activeRemittance:n[o]}),this.state.onLoad&&(null===e||void 0===e?void 0:e.isLoading)!==this.props.isLoading&&(this.setState({onLoad:!1,showModal:!1,remarks:""}),a?L("error",null===a||void 0===a?void 0:a.message):L("success","Order updated successfully"))}},{key:"render",value:function(){var e,t,i,l,a,o,r,d,c,u=this.props.loggedInUser,v=this.state.searchText,j=this.state.activeRemittance,b=null===j||void 0===j?void 0:j.tasks;v&&(null===j||void 0===j||null===(e=j.tasks)||void 0===e?void 0:e.length)>0&&(b=null===j||void 0===j||null===(c=j.tasks)||void 0===c?void 0:c.filter((function(e){var t;return null===e||void 0===e||null===(t=e.awb_number)||void 0===t?void 0:t.includes(v)})));var m=(null===u||void 0===u||null===(t=u.role)||void 0===t||null===(i=t._id)||void 0===i?void 0:i.permissions)||{};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Remittance Entries"}),Object(n.jsx)(we,{title:["Remittance","Remittance Entries"]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)(s.b,{to:"/app/RemittanceProfile",className:"btn btn-primary my-2 btn-icon-text",children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-2"}),"Back"]})})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsxs)("div",{className:"uploaded_doc d-flex align-items-center pl-2 pt-1",children:[Object(n.jsx)("i",{className:"mdi mdi-file-excel",style:{fontSize:"40px",color:"#1d7044"},"aria-hidden":"true"}),Object(n.jsx)("h5",{className:"mt-2",children:null===j||void 0===j||null===(l=j.attachments_id)||void 0===l?void 0:l.filename}),(null===m||void 0===m||null===(a=m.remittance)||void 0===a||null===(o=a.confirmation_csv)||void 0===o?void 0:o.download)&&(null===j||void 0===j||null===(r=j.attachments_id)||void 0===r?void 0:r._id)&&Object(n.jsx)("span",{className:"btn-link ml-2 pointer",style:{fontSize:14},"data-title":"download",onClick:this.onDownloadAttachment,children:Object(n.jsx)("i",{className:"fa fa-download ml-2","aria-hidden":"true"})})]})})})})})}),Object(n.jsx)(Le,{headings:["No.","AWB Number","Amount remitted(\u20b9)","Selling Price(\u20b9)","Delivery date","Case","Task status"],totalEntries:null===(d=b)||void 0===d?void 0:d.length,rowData:b,renderRow:this.renderRow,onSearch:this.onSearch}),Object(n.jsx)(bi,{show:this.state.showModal,handleClose:this.handleRemittanceRemarks,activeOrder:this.state.activeOrder,remarks:this.state.remarks,remarksErr:this.state.remarksErr,handleRemarks:this.handleRemarks,handleSubmit:this.handleSubmit})]})}}]),i}(l.Component),hi=(Object(p.b)((function(e){var t,i,n,l,a;return{remittance:null===e||void 0===e||null===(t=e.remittance)||void 0===t?void 0:t.remittance,isLoading:null===e||void 0===e||null===(i=e.remittance)||void 0===i?void 0:i.loading,error:null===e||void 0===e||null===(n=e.remittance)||void 0===n?void 0:n.error,loggedInUser:null===(l=e.loggedInUser)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data}}),(function(e){return{updateStatusRequest:function(t){return e(function(){return{type:ui.UPDATE_STATUS_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))(mi),function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).togglePreview=function(e,t){l.setState({showPreviewOfFileId:e,allAttachments:t})},l.setDefault=function(){var e,t=l.props,i=t.bankDetail;t.attachments;l.setState((e={accountHolderName:null===i||void 0===i?void 0:i.account_holder,accountNumber:null===i||void 0===i?void 0:i.account_number,bankName:null===i||void 0===i?void 0:i.ifsc,ifscCode:null===i||void 0===i?void 0:i.bank_name},Object(u.a)(e,"ifscCode",null===i||void 0===i?void 0:i.bank_name),Object(u.a)(e,"gstNo",null===i||void 0===i?void 0:i.gst_number),Object(u.a)(e,"gstAddress",null===i||void 0===i?void 0:i.gst_address),Object(u.a)(e,"gstState",null===i||void 0===i?void 0:i.gst_state),Object(u.a)(e,"panCardNumber",null===i||void 0===i?void 0:i.pan_card_number),Object(u.a)(e,"aadhaarCardNumber",null===i||void 0===i?void 0:i.aadhaar_card_number),Object(u.a)(e,"aadharFile",null),Object(u.a)(e,"panCardFile",null),Object(u.a)(e,"cancelChequeFile",null),Object(u.a)(e,"isLoading",!1),e))},l.handleChange=function(e){return function(t){var i,n,a=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;"panCardNumber"===e&&(a=null===(n=a)||void 0===n?void 0:n.toUpperCase());l.setState(Object(u.a)({},e,a))}},l.handleChooseFile=function(e){return function(t){var i,n=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.files[0];if(n){var a,o,r,s=null===(a=n.name)||void 0===a||null===(o=a.split("."))||void 0===o?void 0:o[n.name.split(".").length-1];"png"===(s=null===(r=s)||void 0===r?void 0:r.toLowerCase())||"jpeg"===s||"jpg"===s?l.setState(Object(u.a)({},e,n)):L("error","Upload png, jpeg or jpg format file only!")}}},l.hasError=function(){var e=!1,t=!1,i=l.props.attachments,n=l.state,a=n.accountHolderName,o=n.accountNumber,r=n.bankName,s=n.ifscCode,d=n.gstNo,c=n.gstAddress,u=n.gstState,v=n.panCardNumber,j=(n.aadhaarCardNumber,n.aadharFile),b=n.panCardFile,m=n.cancelChequeFile,h="",p="",O="",g="",x="",f="",_="",E="";a||(h="Please enter Account Holder Name",t=!0),o||(p="Please enter Account Number",t=!0),r||(O="Please enter Bank Name",t=!0),s||(g="Please enter IFSC Code",t=!0),d||(x="Please enter GST Number",t=!0),c||(f="Please enter GST address",t=!0),u||(_="Please enter GST state",t=!0),v?R(v)||(E="Please enter valid PAN card number",e=!0):(E="Please enter PAN card number",t=!0);var N=null===i||void 0===i?void 0:i.find((function(e){return"Aadhar"===(null===e||void 0===e?void 0:e.onModel)})),y=null===i||void 0===i?void 0:i.find((function(e){return"Pan"===(null===e||void 0===e?void 0:e.onModel)})),S=null===i||void 0===i?void 0:i.find((function(e){return"Cheque"===(null===e||void 0===e?void 0:e.onModel)}));return(N||j)&&(y||b)&&(S||m)||(t=!0),a&&o&&r&&s&&d&&c&&u&&v&&!e||L("warning","Please fill all mandatory fields & choose all files!"),l.setState({accountHolderNameErr:h,accountNumberErr:p,bankNameErr:O,ifscCodeErr:g,gstNoErr:x,gstAddressErr:f,gstStateErr:_,panCardNumberErr:E,aadhaarCardNumberErr:""}),t||e},l.onSubmit=Object(ht.a)(mt.a.mark((function e(){var t,i,n,a,o,r,s,d,c,u,v,j,b,m,h,p,O,g,x,f,_,E,N,y,S,C,w,T,A,R,k,D,U,P,F,I,M;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.hasError()){e.next=57;break}if(u=l.props,v=u.userId,j=u.updateBankDetail,b=l.state,m=b.accountHolderName,h=b.accountNumber,p=b.bankName,O=b.ifscCode,g=b.gstNo,x=b.gstAddress,f=b.gstState,_=b.panCardNumber,E=b.aadhaarCardNumber,N=b.aadharFile,y=b.panCardFile,S=b.cancelChequeFile,l.setState({isLoading:!0}),m=null===(t=m)||void 0===t?void 0:t.trim(),h=null===(i=h)||void 0===i?void 0:i.trim(),p=null===(n=p)||void 0===n?void 0:n.trim(),O=null===(a=O)||void 0===a?void 0:a.trim(),g=null===(o=g)||void 0===o?void 0:o.trim(),x=null===(r=x)||void 0===r?void 0:r.trim(),f=null===(s=f)||void 0===s?void 0:s.trim(),_=null===(d=_)||void 0===d?void 0:d.trim(),E=null===(c=E)||void 0===c?void 0:c.trim(),!N){e.next=27;break}return(C=new FormData).set("model_id",v),C.set("onModel","Aadhar"),C.set("files",N),e.next=20,Y.a.post(K.ATTACHMENTS_UPLOAD,C);case 20:if(w=e.sent,T=w.data,200===(null===(A=T.meta)||void 0===A?void 0:A.status)&&(null===A||void 0===A?void 0:A.success)){e.next=27;break}return l.setState({isLoading:!1}),L("error",null===A||void 0===A?void 0:A.message),e.abrupt("return");case 27:if(!y){e.next=41;break}return(R=new FormData).set("model_id",v),R.set("onModel","Pan"),R.set("files",y),e.next=34,Y.a.post(K.ATTACHMENTS_UPLOAD,R);case 34:if(k=e.sent,D=k.data,200===(null===(U=D.meta)||void 0===U?void 0:U.status)&&(null===U||void 0===U?void 0:U.success)){e.next=41;break}return l.setState({isLoading:!1}),L("error",null===U||void 0===U?void 0:U.message),e.abrupt("return");case 41:if(!S){e.next=55;break}return(P=new FormData).set("model_id",v),P.set("onModel","Cheque"),P.set("files",S),e.next=48,Y.a.post(K.ATTACHMENTS_UPLOAD,P);case 48:if(F=e.sent,I=F.data,200===(null===(M=I.meta)||void 0===M?void 0:M.status)&&(null===M||void 0===M?void 0:M.success)){e.next=55;break}return l.setState({isLoading:!1}),L("error",null===M||void 0===M?void 0:M.message),e.abrupt("return");case 55:j({_id:v,account_holder:m,account_number:h,bank_name:p,ifsc:O,gst_number:g,gst_address:x,gst_state:f,pan_card_number:_,aadhaar_card_number:E});case 57:case"end":return e.stop()}}),e)}))),l.onDownloadFile=function(e){var t=null===e||void 0===e?void 0:e._id,i=null===e||void 0===e?void 0:e.filename;Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+t,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i)})).catch((function(e){L("error","There is some error while downloading a file")}))},l.renderRow=function(e,t){var i=l.props,a=i.attachments,o=i.bankDetail,r=i.isBankVerified,s=null===a||void 0===a?void 0:a.find((function(e){return"Aadhar"===(null===e||void 0===e?void 0:e.onModel)})),d=null===a||void 0===a?void 0:a.find((function(e){return"Pan"===(null===e||void 0===e?void 0:e.onModel)})),c=null===a||void 0===a?void 0:a.find((function(e){return"Cheque"===(null===e||void 0===e?void 0:e.onModel)})),u=!o||!s||!d||!c||!!(null===o||void 0===o?void 0:o.verification_reject);return Object(n.jsxs)("tr",{className:u?"pointer":"",style:{whiteSpace:"nowrap"},children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.account_holder}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.account_number}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.bank_name}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.ifsc}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.gst_number}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.gst_address}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.gst_state}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===o||void 0===o?void 0:o.pan_card_number}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("span",{className:"uploaded_ids","data-title":"Preview",onClick:function(){return l.togglePreview(null===s||void 0===s?void 0:s._id,a)},children:Object(n.jsx)("img",{src:"/images/idcard.png"})})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("span",{className:"uploaded_ids","data-title":"Preview",onClick:function(){return l.togglePreview(null===d||void 0===d?void 0:d._id,a)},children:Object(n.jsx)("img",{src:"/images/pancard.jpg"})})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("span",{className:"uploaded_ids","data-title":"Preview",onClick:function(){return l.togglePreview(null===c||void 0===c?void 0:c._id,a)},children:Object(n.jsx)("img",{src:"/images/cheque_2.jpg"})})}),Object(n.jsx)("td",{style:{textAlign:"center",color:r?"#07d836":"#e8b30e"},children:r?"verified":"verification pending"})]},t)},l.state={accountHolderName:"",accountNumber:"",bankName:"",ifscCode:"",gstNo:"",gstAddress:"",gstState:"",panCardNumber:"",aadhaarCardNumber:"",aadharFile:null,panCardFile:null,cancelChequeFile:null,accountHolderNameErr:"",accountNumberErr:"",bankNameErr:"",ifscCodeErr:"",gstNoErr:"",gstAddressErr:"",gstStateErr:"",panCardNumberErr:"",aadhaarCardNumberErr:"",isLoading:!1,showPreviewOfFileId:null,allAttachments:[]},l.imageComp=a.a.createRef(),l}return Object(j.a)(i,[{key:"componentWillUnmount",value:function(){this.imageComp.current&&this.imageComp.current.removeEventListener("keydown",this.togglePreview(null))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,i=t.userId,n=t.getUser;i&&n&&n(i),this.setDefault(),this.imageComp.current&&this.imageComp.current.addEventListener("keydown",(function(t){27===t.keyCode&&e.togglePreview(null)}))}},{key:"componentDidUpdate",value:function(e){var t=this.state.isLoading,i=this.props,n=i.loading,l=i.error;e.loading&&!n&&(l?((null===l||void 0===l?void 0:l.message)&&L("error",null===l||void 0===l?void 0:l.message),this.setState({isLoading:!1})):(t&&L("success","A request has been sent for approval."),this.setDefault()))}},{key:"render",value:function(){var e=this.props,t=e.attachments,i=e.bankDetail,l=(e.isBankVerified,this.state),a=l.accountHolderName,o=l.accountNumber,r=l.bankName,s=l.ifscCode,d=l.gstNo,c=l.gstAddress,u=l.gstState,v=l.panCardNumber,j=(l.aadhaarCardNumber,l.aadharFile),b=l.panCardFile,m=l.cancelChequeFile,h=l.accountHolderNameErr,p=l.accountNumberErr,O=l.bankNameErr,g=l.ifscCodeErr,x=l.gstNoErr,f=l.gstAddressErr,_=l.gstStateErr,E=l.panCardNumberErr,N=(l.aadhaarCardNumberErr,l.isLoading),y=null===t||void 0===t?void 0:t.find((function(e){return"Aadhar"===(null===e||void 0===e?void 0:e.onModel)})),S=null===t||void 0===t?void 0:t.find((function(e){return"Pan"===(null===e||void 0===e?void 0:e.onModel)})),C=null===t||void 0===t?void 0:t.find((function(e){return"Cheque"===(null===e||void 0===e?void 0:e.onModel)})),w=!i||!y||!S||!C||!!(null===i||void 0===i?void 0:i.verification_reject);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Account Details"}),Object(n.jsx)(we,{title:["Profile","Account Details"]})]})})})})}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("div",{className:"card",children:w?Object(n.jsx)("div",{className:"row justify-content-center pt-3 pb-3",children:Object(n.jsx)("div",{className:"col-md-11",children:Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"Account Holder",value:a,errorText:h,onChange:this.handleChange("accountHolderName"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"Account Number",value:o,errorText:p,onChange:this.handleChange("accountNumber"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"Bank Name",value:r,errorText:O,onChange:this.handleChange("bankName"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"IFSC Code",value:s,errorText:g,onChange:this.handleChange("ifscCode"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"GST No",value:d,errorText:x,onChange:this.handleChange("gstNo"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"GST ADDRESS",value:c,errorText:f,onChange:this.handleChange("gstAddress"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"GST State",value:u,errorText:_,onChange:this.handleChange("gstState"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-3 mt-3",children:Object(n.jsx)(I,{labelText:"PAN Card Number",value:v,errorText:E,onChange:this.handleChange("panCardNumber"),isRequired:!0})}),Object(n.jsx)("div",{className:"col-md-4 mt-4",children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("label",{htmlFor:"",children:["Aadhar card ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsxs)("div",{className:"upload_remittance position-relative",children:[Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:this.handleChooseFile("aadharFile")}),Object(n.jsxs)("div",{className:"upload_banner pt-2 pb-2",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{className:"mb-0",children:"Choose file"})]}),(j||y)&&Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-image",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:(null===j||void 0===j?void 0:j.name)||(null===y||void 0===y?void 0:y.filename)})]})})]})]})}),Object(n.jsx)("div",{className:"col-md-4 mt-4",children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("label",{htmlFor:"",children:["Pan card ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsxs)("div",{className:"upload_remittance position-relative",children:[Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:this.handleChooseFile("panCardFile")}),Object(n.jsxs)("div",{className:"upload_banner pt-2 pb-2",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{className:"mb-0",children:"Choose file"})]}),(b||S)&&Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-image",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:(null===b||void 0===b?void 0:b.name)||(null===S||void 0===S?void 0:S.filename)})]})})]})]})}),Object(n.jsx)("div",{className:"col-md-4 mt-4",children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("label",{htmlFor:"",children:["Cancel Cheque ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsxs)("div",{className:"upload_remittance position-relative",children:[Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:this.handleChooseFile("cancelChequeFile")}),Object(n.jsxs)("div",{className:"upload_banner pt-2 pb-2",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{className:"mb-0",children:"Choose file"})]}),(m||C)&&Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-image",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:(null===m||void 0===m?void 0:m.name)||(null===C||void 0===C?void 0:C.filename)})]})})]})]})}),(null===i||void 0===i?void 0:i.verification_reject)&&Object(n.jsxs)("div",{className:"col-md-12 button-items mt-4",children:[Object(n.jsx)("strong",{style:{fontSize:15},children:"Verifier's Remark"}),Object(n.jsx)("p",{style:{fontSize:15,color:"#D67D01"},children:null===i||void 0===i?void 0:i.verification_reject})]}),Object(n.jsx)("div",{className:"col-md-12 text-center button-items mt-4",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onSubmit,disabled:N,children:N?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Uploading..."})]}):"Submit"})})]})})})}):Object(n.jsxs)("div",{style:{padding:"10px"},children:[this.state.showPreviewOfFileId&&Object(n.jsx)(kt,{toggleModal:this.togglePreview,children:Object(n.jsx)(zt,{data:this.state.allAttachments,showPreviewOfFileId:this.state.showPreviewOfFileId,togglePreview:this.togglePreview})}),Object(n.jsx)(De,{headingData:[{text:"Account Holder",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Account Number",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Bank Name",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"IFSC Code",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"GST Number",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"GST Address",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"GST State",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Pan Number",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Aadhar card",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Pan card",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Cancel Cheque",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Status",style:{textAlign:"center",whiteSpace:"nowrap"}}],rowData:[1],renderRowItem:this.renderRow})]})})})})]})}}]),i}(l.Component)),pi=(Object(p.b)((function(e){var t,i,n,l=e.loggedInUser.loading,a=e.loggedInUser.error,o=null===(t=e.loggedInUser)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data,r=null===o||void 0===o?void 0:o.bank_detail,s=null===o||void 0===o?void 0:o.attachments,d=null===o||void 0===o||null===(n=o.verified)||void 0===n?void 0:n.bank;return{userId:null===o||void 0===o?void 0:o._id,bankDetail:r,attachments:s,isBankVerified:d,loading:l,error:a}}),(function(e){return{getUser:function(t){return e(Ne(t))},updateBankDetail:function(t){return e(ye(t))}}}))(hi),Object(p.b)((function(e,t){var i,n,l=t.userId,a=null===(i=e.remittance)||void 0===i||null===(n=i.accounts)||void 0===n?void 0:n.users,o=l&&a&&a[l];return{loading:null===o||void 0===o?void 0:o.loading,error:null===o||void 0===o?void 0:o.error}}),(function(e){return{verifyBankDetail:function(t){return e(vi(t))}}}))((function(e){var t=e.show,i=void 0!==t&&t,a=e.loading,o=void 0!==a&&a,r=e.error,s=void 0===r?null:r,d=e.handleClose,c=void 0===d?function(){}:d,v=e.userId,j=e.verifyBankDetail,b=void 0===j?function(e){}:j,m=Object(l.useRef)(o),h=Object(l.useState)({isLoading:!1,remark:"",remarkErr:""}),p=Object(H.a)(h,2),O=p[0],g=p[1];Object(l.useEffect)((function(){return function(){var e;O.isLoading&&(null===(e=m.current)||void 0===e?void 0:e.loading)&&!o&&(s||c&&c(),g({isLoading:!1}))}(),function(){return m.current={loading:o}}}),[o]);var x,f=O.remark,_=O.remarkErr,E=O.isLoading,N=function(){g({isLoading:!1,remark:"",remarkErr:""}),c&&c()};return Object(n.jsxs)(G.a,{show:i,onHide:N,backdrop:"static",children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Reason for Disapproval"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)(I,{labelText:"Verifier's remark",style:{height:100},placeholder:"Enter your comment...",value:f,onChange:(x="remark",function(e){var t,i,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;g(Object(M.a)(Object(M.a)({},O),{},(i={},Object(u.a)(i,x,n),Object(u.a)(i,"remarkErr",""),i)))}),cols:"3",isRequired:!0,errorText:_,disabled:E})})}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary ml-2",onClick:N,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){f.length>0?(g(Object(M.a)(Object(M.a)({},O),{},{isLoading:!0})),b&&b({_id:v,verify:!1,verification_reject:f})):g({remarkErr:"Please enter reason for disapproval"})},disabled:E,children:E?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Saving..."})]}):"Submit"})]})]})}))),Oi=Object(p.b)((function(e,t){var i,n,l=t.userId,a=null===(i=e.remittance)||void 0===i||null===(n=i.accounts)||void 0===n?void 0:n.users,o=l&&a&&a[l];return{loading:null===o||void 0===o?void 0:o.loading,error:null===o||void 0===o?void 0:o.error}}),(function(e){return{verifyBankDetail:function(t){return e(vi(t))}}}))((function(e){var t=e.show,i=void 0!==t&&t,a=e.loading,o=void 0!==a&&a,r=e.error,s=void 0===r?null:r,d=e.handleClose,c=void 0===d?function(){}:d,u=e.userId,v=e.verifyBankDetail,j=void 0===v?function(e){}:v,b=Object(l.useRef)(o),m=Object(l.useState)({isLoading:!1}),h=Object(H.a)(m,2),p=h[0],O=h[1];Object(l.useEffect)((function(){return function(){var e;p.isLoading&&(null===(e=b.current)||void 0===e?void 0:e.loading)&&!o&&(s||c&&c(),O({isLoading:!1}))}(),function(){return b.current={loading:o}}}),[o]);var g=p.isLoading,x=function(){O({isLoading:!1}),c&&c()};return Object(n.jsxs)(G.a,{show:i,onHide:x,backdrop:"static",children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Account Approval"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("span",{style:{fontSize:"15px"},children:"Are you sure to approve this account detail?"})})})}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary ml-2",onClick:x,disabled:g,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){O(Object(M.a)(Object(M.a)({},p),{},{isLoading:!0})),j&&j({_id:u,verify:!0})},disabled:g,children:g?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Submitting..."})]}):"Submit"})]})]})})),gi=function(e){var t=e.label,i=void 0===t?"":t,l=e.file,a=e.isRequired,o=void 0!==a&&a,r=e.acceptInput,s=void 0===r?"":r,d=e.disabled,c=e.onChooseFile,u=void 0===c?function(e){return e}:c;return Object(n.jsxs)("div",{className:"form-group",children:[!!i&&Object(n.jsxs)("label",{htmlFor:"",children:[i," ",o&&Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsxs)("div",{className:"upload_remittance position-relative",children:[Object(n.jsx)("input",{type:"file",accept:s,onChange:u,disabled:d}),Object(n.jsxs)("div",{className:"upload_banner pt-2 pb-2",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"})}),Object(n.jsx)("p",{className:"mb-0",children:"Choose file"})]}),l&&Object(n.jsx)("div",{className:"mt-3",style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:Object(n.jsx)(te.a,{content:(null===l||void 0===l?void 0:l.name)||(null===l||void 0===l?void 0:l.filename),children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fa fa-file-image",style:{fontSize:18},"aria-hidden":"true"}),Object(n.jsx)("span",{style:{fontSize:16,marginLeft:8},children:(null===l||void 0===l?void 0:l.name)||(null===l||void 0===l?void 0:l.filename)})]})})})]})]})},xi=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).setDefault=function(){var e=n.props.user,t=void 0===e?{}:e,i=t.bank_detail,l=void 0===i?{}:i,a=t.attachments,o=void 0===a?[]:a,r=null===o||void 0===o?void 0:o.find((function(e){return"Aadhar"===(null===e||void 0===e?void 0:e.onModel)})),s=null===o||void 0===o?void 0:o.find((function(e){return"Pan"===(null===e||void 0===e?void 0:e.onModel)})),d=null===o||void 0===o?void 0:o.find((function(e){return"Cheque"===(null===e||void 0===e?void 0:e.onModel)}));n.setState({accountHolderName:null===l||void 0===l?void 0:l.account_holder,accountNumber:null===l||void 0===l?void 0:l.account_number,bankName:null===l||void 0===l?void 0:l.bank_name,ifscCode:null===l||void 0===l?void 0:l.ifsc,gstNo:null===l||void 0===l?void 0:l.gst_number,gstAddress:null===l||void 0===l?void 0:l.gst_address,gstState:null===l||void 0===l?void 0:l.gst_state,panCardNumber:null===l||void 0===l?void 0:l.pan_card_number,aadhaarCardNumber:null===l||void 0===l?void 0:l.aadhaar_card_number,aadharAttachment:r,panAttachment:s,chequeAttachment:d,isLoading:!1})},n.hasError=function(){var e=!1,t=!1,i=n.props.user,l=(void 0===i?{}:i).attachments,a=void 0===l?[]:l,o=n.state,r=o.accountHolderName,s=o.accountNumber,d=o.bankName,c=o.ifscCode,u=o.gstNo,v=o.gstAddress,j=o.gstState,b=o.panCardNumber,m=(o.aadhaarCardNumber,o.aadharFile),h=o.panCardFile,p=o.cancelChequeFile,O="",g="",x="",f="",_="",E="",N="",y="";r||(O="Please enter Account Holder Name",t=!0),s||(g="Please enter Account Number",t=!0),d||(x="Please enter Bank Name",t=!0),c||(f="Please enter IFSC Code",t=!0),u||(_="Please enter GST Number",t=!0),v||(E="Please enter GST address",t=!0),j||(N="Please enter GST state",t=!0),b?R(b)||(y="Please enter valid PAN card number",t=!0):(y="Please enter PAN card number",t=!0);var S=null===a||void 0===a?void 0:a.find((function(e){return"Aadhar"===(null===e||void 0===e?void 0:e.onModel)})),C=null===a||void 0===a?void 0:a.find((function(e){return"Pan"===(null===e||void 0===e?void 0:e.onModel)})),w=null===a||void 0===a?void 0:a.find((function(e){return"Cheque"===(null===e||void 0===e?void 0:e.onModel)}));return(S||m)&&(C||h)&&(w||p)||(e=!0),console.log("file",!S&&!m,!C&&!h,!w&&!p),r&&s&&d&&c&&u&&v&&j&&b&&!e||L("warning","Please fill all mandatory fields & choose all files!"),n.setState({accountHolderNameErr:O,accountNumberErr:g,bankNameErr:x,ifscCodeErr:f,gstNoErr:_,gstAddressErr:E,gstStateErr:N,panCardNumberErr:y,aadhaarCardNumberErr:""}),console.log("isErrorHit || isFileErrorHit",t,e),console.log("File",O,g,x,f,_,E,N,y,""),t||e},n.onSave=Object(ht.a)(mt.a.mark((function e(){var t,i,l,a,o,r,s,d,c,u,v,j,b,m,h,p,O,g,x,f,_,E,N,y,S,C,w,T,A,R,k,D,U,P,F,I,M;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.hasError()){e.next=57;break}if(u=n.props,v=u.userId,j=u.updateBankDetail,b=n.state,m=b.accountHolderName,h=b.accountNumber,p=b.bankName,O=b.ifscCode,g=b.gstNo,x=b.gstAddress,f=b.gstState,_=b.panCardNumber,E=b.aadhaarCardNumber,N=b.aadharFile,y=b.panCardFile,S=b.cancelChequeFile,n.setState({isLoading:!0}),m=null===(t=m)||void 0===t?void 0:t.trim(),h=null===(i=h)||void 0===i?void 0:i.trim(),p=null===(l=p)||void 0===l?void 0:l.trim(),O=null===(a=O)||void 0===a?void 0:a.trim(),g=null===(o=g)||void 0===o?void 0:o.trim(),x=null===(r=x)||void 0===r?void 0:r.trim(),f=null===(s=f)||void 0===s?void 0:s.trim(),_=null===(d=_)||void 0===d?void 0:d.trim(),E=null===(c=E)||void 0===c?void 0:c.trim(),!N){e.next=27;break}return(C=new FormData).set("model_id",v),C.set("onModel","Aadhar"),C.set("files",N),e.next=20,Y.a.post(K.ATTACHMENTS_UPLOAD,C);case 20:if(w=e.sent,T=w.data,200===(null===(A=T.meta)||void 0===A?void 0:A.status)&&(null===A||void 0===A?void 0:A.success)){e.next=27;break}return n.setState({isLoading:!1}),L("error",null===A||void 0===A?void 0:A.message),e.abrupt("return");case 27:if(!y){e.next=41;break}return(R=new FormData).set("model_id",v),R.set("onModel","Pan"),R.set("files",y),e.next=34,Y.a.post(K.ATTACHMENTS_UPLOAD,R);case 34:if(k=e.sent,D=k.data,200===(null===(U=D.meta)||void 0===U?void 0:U.status)&&(null===U||void 0===U?void 0:U.success)){e.next=41;break}return n.setState({isLoading:!1}),L("error",null===U||void 0===U?void 0:U.message),e.abrupt("return");case 41:if(!S){e.next=55;break}return(P=new FormData).set("model_id",v),P.set("onModel","Cheque"),P.set("files",S),e.next=48,Y.a.post(K.ATTACHMENTS_UPLOAD,P);case 48:if(F=e.sent,I=F.data,200===(null===(M=I.meta)||void 0===M?void 0:M.status)&&(null===M||void 0===M?void 0:M.success)){e.next=55;break}return n.setState({isLoading:!1}),L("error",null===M||void 0===M?void 0:M.message),e.abrupt("return");case 55:j({_id:v,account_holder:m,account_number:h,bank_name:p,ifsc:O,gst_number:g,gst_address:x,gst_state:f,pan_card_number:_,aadhaar_card_number:E});case 57:case"end":return e.stop()}}),e)}))),n.onClose=function(){var e=n.props.handleClose;e&&e(),n.setState({accountHolderNameErr:"",accountNumberErr:"",bankNameErr:"",ifscCodeErr:"",gstNoErr:"",gstAddressErr:"",gstStateErr:"",panCardNumberErr:"",aadhaarCardNumberErr:""})},n.handleChooseFile=function(e){return function(t){var i,l=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.files[0];if(l){var a,o,r,s,d=null===(a=l.name)||void 0===a||null===(o=a.split("."))||void 0===o?void 0:o[l.name.split(".").length-1];if("png"===(d=null===(r=d)||void 0===r?void 0:r.toLowerCase())||"jpeg"===d||"jpg"===d)n.setState((s={},Object(u.a)(s,e,l),Object(u.a)(s,"accountHolderNameErr",""),Object(u.a)(s,"accountNumberErr",""),Object(u.a)(s,"bankNameErr",""),Object(u.a)(s,"ifscCodeErr",""),Object(u.a)(s,"gstNoErr",""),Object(u.a)(s,"gstAddressErr",""),Object(u.a)(s,"gstStateErr",""),Object(u.a)(s,"panCardNumberErr",""),Object(u.a)(s,"aadhaarCardNumberErr",""),s));else L("error","Upload png, jpeg or jpg format file only!")}}},n.handleChange=function(e){return function(t){var i,l,a,o=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;"panCardNumber"===e&&(o=null===(a=o)||void 0===a?void 0:a.toUpperCase());n.setState((l={},Object(u.a)(l,e,o),Object(u.a)(l,"accountHolderNameErr",""),Object(u.a)(l,"accountNumberErr",""),Object(u.a)(l,"bankNameErr",""),Object(u.a)(l,"ifscCodeErr",""),Object(u.a)(l,"gstNoErr",""),Object(u.a)(l,"gstAddressErr",""),Object(u.a)(l,"gstStateErr",""),Object(u.a)(l,"panCardNumberErr",""),Object(u.a)(l,"aadhaarCardNumberErr",""),l))}},n.state={accountHolderName:"",accountNumber:"",bankName:"",ifscCode:"",gstNo:"",gstAddress:"",gstState:"",panCardNumber:"",aadhaarCardNumber:"",aadharFile:null,panCardFile:null,cancelChequeFile:null,accountHolderNameErr:"",accountNumberErr:"",bankNameErr:"",ifscCodeErr:"",gstNoErr:"",gstAddressErr:"",gstStateErr:"",panCardNumberErr:"",aadhaarCardNumberErr:"",isLoading:!1,showPreviewOfFileId:null,allAttachments:[]},n}return Object(j.a)(i,[{key:"componentDidUpdate",value:function(e){var t=this.state.isLoading,i=this.props,n=i.show,l=i.loading,a=i.error;t&&e.loading&&!l?(a?(null===a||void 0===a?void 0:a.message)&&L("error",null===a||void 0===a?void 0:a.message):(t&&L("success","Successfully updated account details"),this.onClose()),this.setState({isLoading:!1})):!e.show&&n&&this.setDefault()}},{key:"render",value:function(){var e=this.props.show,t=this.state,i=t.accountHolderName,l=t.accountNumber,a=t.bankName,o=t.ifscCode,r=t.gstNo,s=t.gstAddress,d=t.gstState,c=t.panCardNumber,u=(t.aadhaarCardNumber,t.aadharFile),v=t.panCardFile,j=t.cancelChequeFile,b=t.aadharAttachment,m=t.panAttachment,h=t.chequeAttachment,p=t.accountHolderNameErr,O=t.accountNumberErr,g=t.bankNameErr,x=t.ifscCodeErr,f=t.gstNoErr,_=t.gstAddressErr,E=t.gstStateErr,N=t.panCardNumberErr,y=(t.aadhaarCardNumberErr,t.isLoading);return Object(n.jsxs)(G.a,{show:e,onHide:this.onClose,size:"lg",backdrop:"static",children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Account Details"})}),Object(n.jsxs)(G.a.Body,{children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"Account Holder",value:i,onChange:this.handleChange("accountHolderName"),isRequired:!0,errorText:p,disabled:y})}),Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"Account Number",value:l,onChange:this.handleChange("accountNumber"),isRequired:!0,errorText:O,disabled:y})}),Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"Bank Name",value:a,onChange:this.handleChange("bankName"),isRequired:!0,errorText:g,disabled:y})}),Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"IFSC Code",value:o,onChange:this.handleChange("ifscCode"),isRequired:!0,errorText:x,disabled:y})}),Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"GST No",value:r,onChange:this.handleChange("gstNo"),isRequired:!0,errorText:f,disabled:y})}),Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"GST Address",value:s,onChange:this.handleChange("gstAddress"),isRequired:!0,errorText:_,disabled:y})}),Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"GST State",value:d,onChange:this.handleChange("gstState"),isRequired:!0,errorText:E,disabled:y})}),Object(n.jsx)("div",{className:"col-xl-6",children:Object(n.jsx)(I,{labelText:"PAN Card Number",value:c,onChange:this.handleChange("panCardNumber"),isRequired:!0,errorText:N,disabled:y})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(gi,{label:"Aadhar card",file:u||b,onChooseFile:this.handleChooseFile("aadharFile"),isRequired:!0,acceptInput:"image/*"})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(gi,{label:"Pan card",file:v||m,onChooseFile:this.handleChooseFile("panCardFile"),isRequired:!0,acceptInput:"image/*"})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(gi,{label:"Cancel cheque",file:j||h,onChooseFile:this.handleChooseFile("cancelChequeFile"),isRequired:!0,acceptInput:"image/*"})})]})]}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary ml-2",onClick:this.onClose,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onSave,disabled:y,children:y?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Saving..."})]}):"Save"})]})]})}}]),i}(l.Component),fi=Object(p.b)((function(e,t){var i,n,l=t.userId,a=null===(i=e.remittance)||void 0===i||null===(n=i.accounts)||void 0===n?void 0:n.users,o=l&&a&&a[l];return{user:o,loading:null===o||void 0===o?void 0:o.loading,error:null===o||void 0===o?void 0:o.error}}),(function(e){return{updateBankDetail:function(t){return e(function(){return{type:ui.UPDATE_ACCOUNTS_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))(xi),_i=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).togglePreview=function(e,t){l.setState({showPreviewOfFileId:e,allAttachments:t})},l.loadMoreUsersBankDetails=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.props,n=i.usersList,a=i.usersMeta,o=i.getAllUsersBankDetail,r=l.state.searchText;if(0===e||(null===a||void 0===a?void 0:a.totalCount)>(null===n||void 0===n?void 0:n.length)){var s={offset:e,limit:t};r&&(s.text=r),"function"===typeof o&&o(s)}},l.handleDisApprovedModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&e,l.setState({showDisApprovedModal:e,userId:t})},l.handleApprovedModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e="boolean"===typeof e&&e,l.setState({showApproveModal:!0,userId:t})},l.handleAccountDetailsModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;console.log("handleAccountDetailsModal"),e="boolean"===typeof e&&e,l.setState({showAccountDetailsModal:!0,userId:t})},l.onDownloadFile=function(e){var t=null===e||void 0===e?void 0:e._id,i=null===e||void 0===e?void 0:e.filename;Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+t,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i)})).catch((function(e){L("error","There is some error while downloading a file")}))},l.DisplayLightBox=function(){l.setState({lightboxDisplay:!0})},l.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";l.setState({searchText:e.trim()},l.loadMoreUsersBankDetails)},l.renderRow=function(e,t){var i,a=l.props.users,o=e&&a&&a[e],r=null===o||void 0===o?void 0:o.bank_detail,s=null===o||void 0===o||null===(i=o.verified)||void 0===i?void 0:i.bank,d=null===o||void 0===o?void 0:o.attachments,c=null===d||void 0===d?void 0:d.find((function(e){return"Aadhar"===(null===e||void 0===e?void 0:e.onModel)})),u=null===d||void 0===d?void 0:d.find((function(e){return"Pan"===(null===e||void 0===e?void 0:e.onModel)})),v=null===d||void 0===d?void 0:d.find((function(e){return"Cheque"===(null===e||void 0===e?void 0:e.onModel)}));return Object(n.jsxs)("tr",{style:{whiteSpace:"nowrap"},children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.account_holder}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.account_number}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.bank_name}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.ifsc}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.gst_number}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)(te.a,{content:null===r||void 0===r?void 0:r.gst_address,children:Object(n.jsx)("p",{style:{width:500,overflow:"hidden",textOverflow:"ellipsis"},children:null===r||void 0===r?void 0:r.gst_address})})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.gst_state}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===r||void 0===r?void 0:r.pan_card_number}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("div",{tabIndex:"0",ref:l.imageComp,style:{outline:0},children:Object(n.jsx)("span",{className:"uploaded_ids",onClick:function(){return l.togglePreview(null===c||void 0===c?void 0:c._id,d)},children:Object(n.jsx)(te.a,{content:"Preview",children:Object(n.jsx)("img",{src:"/images/idcard.png"})})})})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("span",{className:"uploaded_ids",onClick:function(){return l.togglePreview(null===u||void 0===u?void 0:u._id,d)},children:Object(n.jsx)(te.a,{content:"Preview",children:Object(n.jsx)("img",{src:"/images/pancard.jpg"})})})}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("span",{className:"uploaded_ids",onClick:function(){return l.togglePreview(null===v||void 0===v?void 0:v._id,d)},children:Object(n.jsx)(te.a,{content:"Preview",children:Object(n.jsx)("img",{src:"/images/cheque_2.jpg"})})})}),Object(n.jsx)("td",{style:{textAlign:"center",color:s?"#07d836":"#e8b30e"},children:s?"verified":(null===r||void 0===r?void 0:r.verification_reject)?"Re-upload":"verification pending"}),Object(n.jsx)("td",{style:{textAlign:"center"},children:s||(null===r||void 0===r?void 0:r.verification_reject)?Object(n.jsxs)(n.Fragment,{children:[s&&Object(n.jsx)(te.a,{content:"Edit",children:Object(n.jsx)("span",{className:"mr-2 pointer",onClick:function(){return l.handleAccountDetailsModal(!0,e)},children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}),!s&&Object(n.jsx)(te.a,{content:"Can't take action",children:Object(n.jsx)("span",{className:"mr-2",children:"-"})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"mr-2",onClick:function(){return l.handleApprovedModal(!0,e)},children:Object(n.jsx)(te.a,{content:"Approve",children:Object(n.jsx)("i",{className:"mdi mdi-thumb-up font-size-24","aria-hidden":"true"})})}),Object(n.jsx)("span",{onClick:function(){return l.handleDisApprovedModal(!0,e)},children:Object(n.jsx)(te.a,{content:"Disapprove",children:Object(n.jsx)("i",{className:"mdi mdi-thumb-down font-size-24","aria-hidden":"true"})})})]})})]},"".concat(e,"_").concat(t))},l.state={showDisApprovedModal:!1,showApproveModal:!1,showAccountDetailsModal:!1,userId:null,showPreviewOfFileId:null,allAttachments:[],searchText:""},l.imageComp=a.a.createRef(),l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.loadMoreUsersBankDetails(),this.imageComp.current&&this.imageComp.current.addEventListener("keydown",(function(t){27===t.keyCode&&e.togglePreview(null)}))}},{key:"componentWillUnmount",value:function(){this.imageComp.current&&this.imageComp.current.removeEventListener("keydown",this.togglePreview(null))}},{key:"handleClose",value:function(){this.setState({lightboxDisplay:!1})}},{key:"render",value:function(){var e=this.state,t=e.userId,i=e.showApproveModal,l=e.showDisApprovedModal,a=e.showAccountDetailsModal,o=this.props,r=o.usersList,s=o.usersMeta,d=o.loading;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Account List"}),Object(n.jsx)(we,{title:["Remittance","Account List"]})]})})})})}),this.state.showPreviewOfFileId&&Object(n.jsx)(kt,{toggleModal:this.togglePreview,children:Object(n.jsx)(zt,{data:this.state.allAttachments,showPreviewOfFileId:this.state.showPreviewOfFileId,togglePreview:this.togglePreview})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 acclist-height",children:Object(n.jsx)(Le,{headings:[{text:"No.",style:{textAlign:"center"}},{text:"Account Holder",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Account Number",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Bank Name",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"IFSC Code",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"GST Number",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"GST Address",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"GST State",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Pan Number",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Aadhar card",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Pan card",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Cancel Cheque",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Status",style:{textAlign:"center",whiteSpace:"nowrap"}},{text:"Action",style:{textAlign:"center",whiteSpace:"nowrap"}}],searchPlaceholder:"Search by Account Holder or Number",onSearch:this.onSearch,rowData:r,totalEntries:null===s||void 0===s?void 0:s.totalCount,renderRow:this.renderRow,loadMore:this.loadMoreUsersBankDetails,loading:d})})}),Object(n.jsx)(Oi,{show:t&&i,userId:t,handleClose:this.handleApprovedModal}),Object(n.jsx)(pi,{show:t&&l,userId:t,handleClose:this.handleDisApprovedModal}),Object(n.jsx)(fi,{show:t&&a,userId:t,handleClose:this.handleAccountDetailsModal})]})}}]),i}(l.Component),Ei=(Object(p.b)((function(e){var t=e.remittance.accounts,i=null===t||void 0===t?void 0:t.users,n=t[null===t||void 0===t?void 0:t.filter];return{users:i,usersList:null===n||void 0===n?void 0:n.list,usersMeta:null===n||void 0===n?void 0:n.meta,loading:null===n||void 0===n?void 0:n.loading,error:null===n||void 0===n?void 0:n.error}}),(function(e){return{getAllUsersBankDetail:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:ui.FETCH_ACCOUNTS_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||100})}}(t))}}}))(_i),{FETCH_ALL_REPORTS_REQUEST:"FETCH_ALL_REPORTS_REQUEST",FETCH_ALL_REPORTS_SUCCESS:"FETCH_ALL_REPORTS_SUCCESS",FETCH_ALL_REPORTS_FAIL:"FETCH_ALL_REPORTS_FAIL",FETCH_ONE_REPORT_REQUEST:"FETCH_ONE_REPORT_REQUEST",FETCH_ONE_REPORT_SUCCESS:"FETCH_ONE_REPORT_SUCCESS",FETCH_ONE_REPORT_FAIL:"FETCH_ONE_REPORT_FAIL",REMIT_REPORT_ORDERS_REQUEST:"REMIT_REPORT_ORDERS_REQUEST",REMIT_REPORT_ORDERS_SUCCESS:"REMIT_REPORT_ORDERS_SUCCESS",REMIT_REPORT_ORDERS_FAIL:"REMIT_REPORT_ORDERS_FAIL"}),Ni=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Ei.FETCH_ALL_REPORTS_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||100})}},yi=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).loadMoreReports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.props,n=i.list,a=i.meta,o=i.getAllReports;if(0===e||(null===a||void 0===a?void 0:a.totalCount)>(null===n||void 0===n?void 0:n.length)){var r={type:"cod",offset:e,limit:t};o&&o(r)}},l.generateReport=function(){l.setState({isLoading:!0}),Y()({method:"POST",url:"".concat(K.REPORTS_URL,"/cod-day")}).then((function(e){var t=e.data,i=t.meta||t;L((null===i||void 0===i?void 0:i.success)&&200===(null===i||void 0===i?void 0:i.status)?"success":"error",null===i||void 0===i?void 0:i.message),(null===i||void 0===i?void 0:i.success)&&200===(null===i||void 0===i?void 0:i.status)&&l.loadMoreReports(),l.setState({isLoading:!1})})).catch((function(e){console.log("Generate COD Report ",e)}))},l.onDownloadReport=function(e){var t=null===e||void 0===e?void 0:e._id,i=(null===e||void 0===e?void 0:e.filename)||"COD Report";t&&Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+t,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i)})).catch((function(e){console.log("onDownloadOrder ",e)}))},l.showDetails=function(e){l.props.history.push("/app/reportDetails/".concat(e))},l.renderRow=function(e,t){var i=l.props.reports,a=e&&i&&i[e],o=null===a||void 0===a?void 0:a.attachments,r=null===o||void 0===o?void 0:o.timestamp;return a&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{children:null===o||void 0===o?void 0:o.filename}),Object(n.jsx)("td",{children:r?f()(r).format("D MMM YYYY, h:mm:ss a"):"-"}),Object(n.jsx)("td",{children:(null===a||void 0===a?void 0:a.total_price)&&parseFloat(null===a||void 0===a?void 0:a.total_price).toFixed(2)}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("button",{className:"btn btn-primary view_btn",onClick:function(){return l.showDetails(e)},children:"View Details"})})]},t)},l.onSearch=function(e){l.setState({searchText:e})},l.state={searchText:"",isLoading:!1},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMoreReports()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.list;(null===(t=e.list)||void 0===t?void 0:t.length)!==(null===i||void 0===i?void 0:i.length)&&this.loadMoreReports(null===i||void 0===i?void 0:i.length)}},{key:"render",value:function(){var e=this.state,t=(e.searchText,e.isLoading),i=this.props,l=i.list,o=i.meta,r=i.loading,s=(null===o||void 0===o?void 0:o.totalCount)||0;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"COD Reports"}),Object(n.jsx)(we,{title:["Reports","COD Reports"]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.generateReport,disabled:t,children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Generating Report..."})]}):"Generate Report"})})]})})}),Object(n.jsx)(Le,{headings:["No.","File Name","Created Date","Total Amount(\u20b9)","Action"],onSearch:this.onSearch,showSearch:!1,rowData:l,totalEntries:s,renderRow:this.renderRow,loading:r})]})}}]),i}(l.Component),Si=(Object(p.b)((function(e){var t,i,n,l=JSON.stringify("cod"),a=(null===(t=e.report)||void 0===t?void 0:t.reports)||{},o=(null===(i=e.report)||void 0===i?void 0:i.dashboard)&&(null===(n=e.report)||void 0===n?void 0:n.dashboard[l])||{};return{reports:a,list:(null===o||void 0===o?void 0:o.list)||[],meta:(null===o||void 0===o?void 0:o.meta)||{},loading:null===o||void 0===o?void 0:o.loading,error:null===o||void 0===o?void 0:o.error}}),(function(e){return{getAllReports:function(t){return e(Ni(t))}}}))(yi),function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).loadMoreReports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.props,n=i.list,a=i.meta,o=i.getAllReports;if(0===e||(null===a||void 0===a?void 0:a.totalCount)>(null===n||void 0===n?void 0:n.length)){var r={type:"week",offset:e,limit:t};o&&o(r)}},l.onDownloadReport=function(e){var t=null===e||void 0===e?void 0:e._id,i=(null===e||void 0===e?void 0:e.filename)||"COD Report";t&&Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+t,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i)})).catch((function(e){console.log("onDownloadOrder ",e)}))},l.renderRow=function(e,t){var i,a,o,r,s=l.props,d=s.reports,c=s.loggedInUser,u=e&&d&&d[e],v=null===u||void 0===u?void 0:u.attachments,j=null===v||void 0===v?void 0:v.timestamp,b=(null===c||void 0===c||null===(i=c.role)||void 0===i||null===(a=i._id)||void 0===a?void 0:a.permissions)||{};return u&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{children:null===v||void 0===v?void 0:v.filename}),Object(n.jsx)("td",{children:j?f()(j).format("D MMM YYYY, h:mm:ss a"):"-"}),(null===b||void 0===b||null===(o=b.report)||void 0===o||null===(r=o.no_csv)||void 0===r?void 0:r.download)&&Object(n.jsx)("td",{style:{textAlign:"center"},children:v&&Object(n.jsx)("span",{onClick:function(){return l.onDownloadReport(v)},style:{marginLeft:10},children:Object(n.jsx)(te.a,{content:"Download file",children:Object(n.jsx)("i",{className:"bx bxs-download"})})})})]},t)},l.generateReport=function(){l.setState({isLoading:!0}),Y()({method:"POST",url:"".concat(K.REPORTS_URL,"/cod-week")}).then((function(e){var t=e.data,i=t.meta||t;L((null===i||void 0===i?void 0:i.success)&&200===(null===i||void 0===i?void 0:i.status)?"success":"error",null===i||void 0===i?void 0:i.message),(null===i||void 0===i?void 0:i.success)&&200===(null===i||void 0===i?void 0:i.status)&&l.loadMoreReports(),l.setState({isLoading:!1})})).catch((function(e){console.log("Generate No CSV Report ",e)}))},l.state={isLoading:!1},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMoreReports()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.list;(null===(t=e.list)||void 0===t?void 0:t.length)!==(null===i||void 0===i?void 0:i.length)&&this.loadMoreReports(null===i||void 0===i?void 0:i.length)}},{key:"render",value:function(){var e,t,i,l,o=this.state.isLoading,r=this.props,s=r.list,d=r.meta,c=r.loading,u=r.loggedInUser,v=(null===u||void 0===u||null===(e=u.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.permissions)||{},j=(null===d||void 0===d||d.totalAmount,(null===d||void 0===d?void 0:d.totalCount)||0);return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"No CSV Reports"}),Object(n.jsx)(we,{title:["Reports","No CSV Reports"]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.generateReport,disabled:o,children:o?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Generating Report..."})]}):"Generate Report"})})]})})}),Object(n.jsx)(Le,{headings:(null===v||void 0===v||null===(i=v.report)||void 0===i||null===(l=i.no_csv)||void 0===l?void 0:l.download)?["No.","File Name","Created Date","Action"]:["No.","File Name",{text:"Created Date",style:{}}],totalEntries:j,rowData:s,renderRow:this.renderRow,showSearch:!1,loading:c})]})}}]),i}(l.Component)),Ci=(Object(p.b)((function(e){var t,i,n,l,a,o=JSON.stringify("week"),r=(null===(t=e.report)||void 0===t?void 0:t.reports)||{},s=(null===(i=e.report)||void 0===i?void 0:i.dashboard)&&(null===(n=e.report)||void 0===n?void 0:n.dashboard[o])||{};return{reports:r,list:(null===s||void 0===s?void 0:s.list)||[],meta:(null===s||void 0===s?void 0:s.meta)||{},loading:null===s||void 0===s?void 0:s.loading,error:null===s||void 0===s?void 0:s.error,loggedInUser:null===(l=e.loggedInUser)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data}}),(function(e){return{getAllReports:function(t){return e(Ni(t))}}}))(Si),function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).loadMoreReports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.props,n=i.list,a=i.meta,o=i.getAllReports;if(0===e||(null===a||void 0===a?void 0:a.totalCount)>(null===n||void 0===n?void 0:n.length)){var r={type:"monthly",offset:e,limit:t};o&&o(r)}},l.generateReport=function(){l.setState({isLoading:!0}),Y()({method:"POST",url:"".concat(K.REPORTS_URL,"/cod-monthly")}).then((function(e){var t=e.data,i=t.meta||t;L((null===i||void 0===i?void 0:i.success)&&200===(null===i||void 0===i?void 0:i.status)?"success":"error",null===i||void 0===i?void 0:i.message),(null===i||void 0===i?void 0:i.success)&&200===(null===i||void 0===i?void 0:i.status)&&l.loadMoreReports(),l.setState({isLoading:!1})})).catch((function(e){console.log("Generate Monthly Report ",e)}))},l.onDownloadReport=function(e){var t=null===e||void 0===e?void 0:e._id,i=(null===e||void 0===e?void 0:e.filename)||"COD Report";t&&Y()({method:"GET",url:K.ATTACHMENTS_DOWNLOAD+"/"+t,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i)})).catch((function(e){console.log("onDownloadOrder ",e)}))},l.renderRow=function(e,t){var i,a,o,r,s=l.props,d=s.reports,c=s.loggedInUser,u=e&&d&&d[e],v=null===u||void 0===u?void 0:u.attachments,j=null===v||void 0===v?void 0:v.timestamp,b=(null===c||void 0===c||null===(i=c.role)||void 0===i||null===(a=i._id)||void 0===a?void 0:a.permissions)||{};return u&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{children:null===v||void 0===v?void 0:v.filename}),Object(n.jsx)("td",{children:j?f()(j).format("D MMM YYYY, h:mm:ss a"):"-"}),(null===b||void 0===b||null===(o=b.report)||void 0===o||null===(r=o.monthly)||void 0===r?void 0:r.download)&&Object(n.jsx)("td",{style:{textAlign:"center"},children:v&&Object(n.jsx)("span",{onClick:function(){return l.onDownloadReport(v)},style:{marginLeft:10},"data-title":"Download file",children:Object(n.jsx)("i",{className:"bx bxs-download"})})})]},t)},l.state={isLoading:!1},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMoreReports()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.list;(null===(t=e.list)||void 0===t?void 0:t.length)!==(null===i||void 0===i?void 0:i.length)&&this.loadMoreReports(null===i||void 0===i?void 0:i.length)}},{key:"render",value:function(){var e,t,i,l,o=this.state.isLoading,r=this.props,s=r.list,d=r.meta,c=r.loading,u=r.loggedInUser,v=(null===u||void 0===u||null===(e=u.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.permissions)||{},j=(null===d||void 0===d||d.totalAmount,(null===d||void 0===d?void 0:d.totalCount)||0);return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Monthly Reports"}),Object(n.jsx)(we,{title:["Reports","Monthly Reports"]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.generateReport,disabled:o,children:o?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Generating Report..."})]}):"Generate Report"})})]})})}),Object(n.jsx)(Le,{headings:(null===v||void 0===v||null===(i=v.report)||void 0===i||null===(l=i.monthly)||void 0===l?void 0:l.download)?["No.","File Name","Created Date","Action"]:["No.","File Name",{text:"Created Date",style:{}}],totalEntries:j,rowData:s,renderRow:this.renderRow,showSearch:!1,loading:c})]})}}]),i}(l.Component)),wi=(Object(p.b)((function(e){var t,i,n,l,a,o=JSON.stringify("monthly"),r=(null===(t=e.report)||void 0===t?void 0:t.reports)||{},s=(null===(i=e.report)||void 0===i?void 0:i.dashboard)&&(null===(n=e.report)||void 0===n?void 0:n.dashboard[o])||{};return{reports:r,list:(null===s||void 0===s?void 0:s.list)||[],meta:(null===s||void 0===s?void 0:s.meta)||{},loading:null===s||void 0===s?void 0:s.loading,error:null===s||void 0===s?void 0:s.error,loggedInUser:null===(l=e.loggedInUser)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data}}),(function(e){return{getAllReports:function(t){return e(Ni(t))}}}))(Ci),function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(v.a)(this,i);for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={searchText:""},e.remitOrders=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=e.props,n=i.remitOrder,l=i.reportId;n&&n({report_id:l,awb_numbers:t})},e.renderRow=function(t,i){var l,a=Array.isArray(null===t||void 0===t?void 0:t.orderStatus)&&t.orderStatus.length>0&&(null===(l=t.orderStatus[0])||void 0===l?void 0:l.scan_detail.find((function(e){return-1!==e.status.toLowerCase().search("delivered")}))),o=a&&(null===a||void 0===a?void 0:a.updated_date),r=(null===t||void 0===t?void 0:t.vendor_name)&&(null===t||void 0===t?void 0:t.account_number)&&(null===t||void 0===t?void 0:t.ifsc_code);return t&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:i+1}),Object(n.jsx)("td",{children:null===t||void 0===t?void 0:t.ewaybill_number}),Object(n.jsx)("td",{style:{letterSpacing:1},children:(null===t||void 0===t?void 0:t.order_date)&&f()(null===t||void 0===t?void 0:t.order_date).format("DD-MM-YY, hh:mm:ss:a")}),Object(n.jsx)("td",{style:{letterSpacing:1},children:o&&f()(o).format("DD-MM-YY")}),Object(n.jsx)("td",{children:null===t||void 0===t?void 0:t.vendor_name}),Object(n.jsx)("td",{children:null===t||void 0===t?void 0:t.account_number}),Object(n.jsx)("td",{children:null===t||void 0===t?void 0:t.ifsc_code}),Object(n.jsx)("td",{children:parseFloat(null===t||void 0===t?void 0:t.amount).toFixed(2)}),Object(n.jsx)("td",{className:"font-weight-bold",style:{textAlign:"center"},children:(null===t||void 0===t?void 0:t.loading)?Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm text-primary mr-2",style:{color:"#495057"}}),Object(n.jsx)("span",{className:"visually-hidden text-primary",style:{fontSize:14},children:" Remitting..."})]}):(null===t||void 0===t?void 0:t.action_done)?Object(n.jsx)("div",{className:"greenColor",children:"Remitted"}):Object(n.jsx)("button",{className:"btn btn-primary view_btn",disabled:!r,onClick:function(){r?e.remitOrders((null===t||void 0===t?void 0:t.ewaybill_number)&&[null===t||void 0===t?void 0:t.ewaybill_number]):L("error","Vendor account details is not available")},children:"Remit"})})]},i)},e.onGoBack=function(){e.props.history.goBack()},e.onDownloadAttachment=function(){var t=e.props.report,i=null===t||void 0===t?void 0:t.attachments,n=null===i||void 0===i?void 0:i._id,l=null===i||void 0===i?void 0:i.filename;Y()({method:"GET",url:"".concat(K.ATTACHMENTS_DOWNLOAD,"/").concat(n),contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){return Pe()(e.data,l)})).catch((function(e){L("error","Error in downloading attachment"),console.log("Download Attachment ",e)}))},e.onSearch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchText:t.trim()})},e}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.reportId,i=e.report,n=e.getReport;t&&!i&&n&&n(t)}},{key:"render",value:function(){var e,t,i,l,a,o,r,s,d,c,u,v=this,j=this.state.searchText,b=this.props,m=b.report,h=b.loggedInUser,p=(null===m||void 0===m?void 0:m.order_ids)||[];j&&(null===m||void 0===m||null===(e=m.order_ids)||void 0===e?void 0:e.length)>0&&(p=null===m||void 0===m||null===(u=m.order_ids)||void 0===u?void 0:u.filter((function(e){var t;return null===e||void 0===e||null===(t=e.ewaybill_number)||void 0===t?void 0:t.includes(j)})));var O=null===(t=p)||void 0===t?void 0:t.map((function(e){return(null===e||void 0===e?void 0:e.vendor_name)&&(null===e||void 0===e?void 0:e.account_number)&&(null===e||void 0===e?void 0:e.ifsc_code)&&!(null===e||void 0===e?void 0:e.loading)&&!(null===e||void 0===e?void 0:e.action_done)&&(null===e||void 0===e?void 0:e.ewaybill_number)}));O=null===(i=O)||void 0===i?void 0:i.filter((function(e){return e}));var g=(null===h||void 0===h||null===(l=h.role)||void 0===l||null===(a=l._id)||void 0===a?void 0:a.permissions)||{};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Report Details"}),Object(n.jsx)(we,{title:["Reports","Report Details"]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-2"})," Back"]})})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsxs)("div",{className:"uploaded_doc d-flex align-items-center pl-2 pt-1",children:[Object(n.jsx)("i",{className:"mdi mdi-file-excel",style:{fontSize:"40px",color:"#1d7044"},"aria-hidden":"true"}),Object(n.jsx)("h5",{className:"mt-2",children:null===m||void 0===m||null===(o=m.attachments)||void 0===o?void 0:o.filename}),(null===g||void 0===g||null===(r=g.report)||void 0===r||null===(s=r.cod)||void 0===s?void 0:s.download)&&(null===m||void 0===m||null===(d=m.attachments)||void 0===d?void 0:d._id)&&Object(n.jsx)("span",{className:"btn-link ml-2",style:{fontSize:14},"data-title":"download",onClick:this.onDownloadAttachment,children:Object(n.jsx)("i",{className:"fa fa-download ml-2","aria-hidden":"true"})})]})}),Array.isArray(O)&&O.length>0&&Object(n.jsx)("div",{className:"col-md-6 d-flex align-items-center justify-content-end ",children:Object(n.jsx)("button",{className:"btn btn-primary mr-3",onClick:function(){return v.remitOrders(O,!0)},children:"Remit All"})})]})})})}),Object(n.jsx)(Le,{headings:["No.","AWB Number","Shipment date","Delivery date","Vendor name","Account number","IFSC code","Remittance amount","Action"],totalEntries:null===(c=p)||void 0===c?void 0:c.length,rowData:p,renderRow:this.renderRow,onSearch:this.onSearch,searchPlaceholder:"Search by AWB Number"})]})}}]),i}(l.Component)),Ti=(Object(p.b)((function(e,t){var i,n,l,a,o=t.match,r=null===o||void 0===o||null===(i=o.params)||void 0===i?void 0:i.id,s=(null===(n=e.report)||void 0===n?void 0:n.reports)||{},d=r&&s[r],c=null===(l=e.loggedInUser)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data;return console.log("loggedInUser"),{reportId:r,report:d,loggedInUser:c}}),(function(e){return{getReport:function(t){return e(function(e){return{type:Ei.FETCH_ONE_REPORT_REQUEST,payload:e}}(t))},remitOrder:function(t){return e(function(){return{type:Ei.REMIT_REPORT_ORDERS_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))(wi),Object(p.b)((function(e){var t,i;return{loading:null===(t=e.loggedInUser)||void 0===t?void 0:t.loading,error:null===(i=e.loggedInUser)||void 0===i?void 0:i.error}}),(function(e){return{changePassword:function(t){return e(function(e){return{type:Ee.CHANGE_PASSWORD_REQUEST,payload:e}}(t))}}}))((function(e){var t=e.show,i=void 0!==t&&t,a=e.handleClose,o=void 0===a?function(){}:a,r=Object(B.a)(e,["show","handleClose"]),d=Object(l.useState)({old_password:"",new_password:"",confirm_password:"",old_password_err:"",new_password_err:"",confirm_password_err:"",isAgree:!1,isLoading:!1}),c=Object(H.a)(d,2),v=c[0],j=c[1];Object(l.useEffect)((function(){!1===i&&j({}),!(null===r||void 0===r?void 0:r.loading)&&v.isLoading&&((null===r||void 0===r?void 0:r.error)?j(Object(M.a)(Object(M.a)({},v),{},{isLoading:!1})):o())}),[i,null===r||void 0===r?void 0:r.loading]);var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n=t?i.target.checked:i.target.value;j(Object(M.a)(Object(M.a)({},v),{},Object(u.a)({},e,n)))}},m=v.old_password,h=v.new_password,p=v.confirm_password,O=v.old_password_err,g=v.new_password_err,x=v.confirm_password_err,f=v.isAgree,_=v.isLoading;return Object(n.jsx)(Q,{show:i,title:"Change Password",handleClose:o,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)(I,{labelText:"Old Password",value:m,onChange:b("old_password"),disabled:_,isPasswordText:!0,errorText:O,isRequired:!0})}),Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)(I,{labelText:"New Password",value:h,onChange:b("new_password"),disabled:_,isPasswordText:!0,errorText:g,isRequired:!0})}),Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)(I,{labelText:"Confirm Password",value:p,onChange:b("confirm_password"),disabled:_,isPasswordText:!0,errorText:x,isRequired:!0})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)("div",{className:"form-check",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",value:"",checked:f,onChange:b("isAgree",!0),disabled:_}),Object(n.jsxs)("span",{children:["I agree to the ",Object(n.jsx)(s.c,{to:"/TermsAndConditions",target:"_blank",children:"Terms and conditions"})]})]})})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 text-center pb-2 pt-2",children:Object(n.jsx)("div",{className:"button-items",children:Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:function(){if(!function(){var e=v.old_password,t=v.new_password,i=v.confirm_password,n="",l="",a="",o=!1;return e||(o=!0,n="Please enter old password"),t?k(t)||(o=!0,l="Password at least 4 characters"):(o=!0,l="Please enter new password"),i||(o=!0,a="Please enter confirm password"),t&&i&&t!==i&&(o=!0,L("error","New password and Confirm password not same")),j(Object(M.a)(Object(M.a)({},v),{},{old_password_err:n,new_password_err:l,confirm_password_err:a})),o}()){var e={oldPassword:v.old_password,password:v.new_password};j(Object(M.a)(Object(M.a)({},v),{},{isLoading:!0})),r.changePassword&&r.changePassword(e)}},disabled:_||!f,children:_?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"Saving..."})]}):"Submit"})})})})]})})})})}))),Ai=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(v.a)(this,i),(n=t.call(this,e)).setDefault=function(){var e=n.props.profile;n.setState({isLoading:!1,isLoadingAddress:!1,isLoadingupdateAddress:!1,isLoadingDefaultAddress:!1,mobile_number:null===e||void 0===e?void 0:e.mobile_number,pickupAddress:{},newPickupAddress:{}})},n.handleChangePassModel=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e="boolean"===typeof e&&e,n.setState({showChangePassModel:e})},n.handleChange=function(e){return function(t){var i,l,a=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;"mobile_number"===e&&(a=a.replace(/[^0-9]/g,"")),n.setState((l={},Object(u.a)(l,e,a),Object(u.a)(l,"mobile_number_err",""),l))}},n.hasError=function(){var e=n.state.mobile_number,t=!1,i="";return e&&!T(e)&&(i="Please enter valid mobile number",t=!0),n.setState({mobile_number_err:i}),t},n.saveProfile=function(){if(!n.hasError()){var e=n.props,t=e.profile,i=e.updateUserProfile,l=n.state.mobile_number;l=l.trim(),n.setState({isLoading:!0});var a={_id:null===t||void 0===t?void 0:t._id,mobile_number:l};i&&i(a)}},n.handelAddressChange=function(e){return function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(l){var a,o,r,s=i?null===l||void 0===l||null===(a=l.target)||void 0===a?void 0:a.checked:null===l||void 0===l||null===(o=l.target)||void 0===o?void 0:o.value,d=n.state[e];d=Object(M.a)(Object(M.a)({},d||{}),{},Object(u.a)({},t,s)),n.setState((r={},Object(u.a)(r,e,d),Object(u.a)(r,"pickupAddressError",{}),Object(u.a)(r,"newPickupAddressError",{}),r))}}},n.hasAddressError=function(e){var t={};return e&&"object"===typeof e?(e.line1||(t.line1Error="Please enter address line 1"),e.line2||(t.line2Error="Please enter address line 2"),e.country||(t.countryError="Please select country"),e.state||(t.stateError="Please select state"),e.city||(t.cityError="Please select city"),e.postcode||(t.postcodeError="Please select postcode"),e.email||(t.emailError="Please select email address"),e.mobile_number||(t.mobileError="Please select mobile number")):(t.line1Error="Please enter address line 1",t.line2Error="Please enter address line 2",t.countryError="Please select country",t.stateError="Please select state",t.cityError="Please select city",t.postcodeError="Please select postcode",t.emailError="Please select email address",t.mobileError="Please select mobile number"),t},n.hasErrorAddress=function(){var e=n.state.pickupAddress,t=n.hasAddressError(e);return n.setState({pickupAddressError:t}),Object.keys(t).length>0},n.handlePickupAddress=function(){var e=n.props.addAddressProfile,t=n.state.newPickupAddress,i=n.hasAddressError(t);Object.keys(i).length>0?n.setState({newPickupAddressError:i}):(n.setState({isLoadingAddress:!0}),e&&e([t]))},n.handleEditAddress=function(e){e&&n.setState({pickupAddress:e})},n.handleUpdatepAddress=function(e){var t=n.props.updatePickAddress,i=n.state.pickupAddress;n.hasErrorAddress()||(n.setState({isLoadingupdateAddress:!0}),i.address_id=i._id,t&&t([i]))},n.handleDefaultAddress=function(e){var t=n.props.updatePickAddress;e&&n.setState({isLoadingDefaultAddress:!0,pickupAddress:e},(function(){var e=n.state.pickupAddress;e.address_id=e._id,e.default_address=!0,t&&t([e])}))};var l=n.props.profile;return n.state={showChangePassModel:!1,mobile_number:null===l||void 0===l?void 0:l.mobile_number,mobile_number_err:"",isLoading:!1,pickupAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},pickupAddressError:{},newPickupAddress:{line1:"",line2:"",country:"",state:"",city:"",postcode:""},newPickupAddressError:{},isLoadingAddress:!1,isLoadingupdateAddress:!1,isLoadingDefaultAddress:!1,editAddress:!1,addressCheck:!0},n}return Object(j.a)(i,[{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.profile,n=t.loading,l=t.error,a=t.meta,o=this.state,r=o.isLoading,s=o.isLoadingAddress,d=o.isLoadingupdateAddress,c=o.isLoadingDefaultAddress;if(e.profile!==i&&this.setDefault(),r&&(null===e||void 0===e?void 0:e.loading)&&!n){var u,v,j=(null===l||void 0===l||null===(u=l.meta)||void 0===u?void 0:u.message)||(null===l||void 0===l||null===(v=l.meta)||void 0===v?void 0:v.message)||(null===a||void 0===a?void 0:a.message);j&&L(l?"error":"success",j)}if(s&&(null===e||void 0===e?void 0:e.loading)&&!n){var b,m,h=(null===l||void 0===l||null===(b=l.meta)||void 0===b?void 0:b.message)||(null===l||void 0===l||null===(m=l.meta)||void 0===m?void 0:m.message)||(null===a||void 0===a?void 0:a.message);h&&L(l?"error":"success",h)}if(d&&(null===e||void 0===e?void 0:e.loading)&&!n){var p,O,g=(null===l||void 0===l||null===(p=l.meta)||void 0===p?void 0:p.message)||(null===l||void 0===l||null===(O=l.meta)||void 0===O?void 0:O.message)||(null===a||void 0===a?void 0:a.message);g&&L(l?"error":"success",g)}if(c&&(null===e||void 0===e?void 0:e.loading)&&!n){var x,f,_=(null===l||void 0===l||null===(x=l.meta)||void 0===x?void 0:x.message)||(null===l||void 0===l||null===(f=l.meta)||void 0===f?void 0:f.message)||(null===a||void 0===a?void 0:a.message);_&&L(l?"error":"success",_)}}},{key:"render",value:function(){var e,t,i,l,a,o,r,s,d,c,u,v=this,j=this.props.profile,b=this.state,m=b.showChangePassModel,h=b.mobile_number,p=b.mobile_number_err,O=b.isLoading,g=(b.isLoadingAddress,b.isLoadingupdateAddress),x=b.isLoadingDefaultAddress,f=b.pickupAddress,_=b.pickupAddressError,E=b.newPickupAddress,N=b.newPickupAddressError,y=null===j||void 0===j||null===(e=j.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.permissions;f=Object(M.a)(Object(M.a)({},f||{}),_||{}),E=Object(M.a)(Object(M.a)({},E||{}),N||{});var S=null===j||void 0===j?void 0:j.pickup_address;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Edit Profile"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Profile"})}),Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit Profile"})]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:function(){return v.handleChangePassModel(!0)},children:[Object(n.jsx)("i",{className:"fa fa-lock"})," Change Password"]})})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("div",{className:"row justify-content-center",children:[Object(n.jsx)("div",{className:"col-lg-8",children:Object(n.jsxs)("div",{className:"d-flex pt-4 pb-5 profile_div align-items-center",children:[Object(n.jsx)("div",{className:"mr-2 profile-icon",children:Object(n.jsx)("i",{className:"bx bx-user","aria-hidden":"true"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{className:"mb-2",children:[null===j||void 0===j?void 0:j.first_name," ",(null===j||void 0===j?void 0:j.last_name)||""]}),Object(n.jsx)("p",{className:"mb-2",children:null===j||void 0===j||null===(i=j.role)||void 0===i||null===(l=i._id)||void 0===l?void 0:l.name})]})]})}),Object(n.jsx)("div",{className:"col-lg-8",children:Object(n.jsxs)("form",{action:"#",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"Email Id",value:null===j||void 0===j?void 0:j.email,disabled:!0})}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"Phone No",value:h,onChange:this.handleChange("mobile_number"),errorText:p,disabled:O})}),(null===y||void 0===y||null===(a=y.core_api_key)||void 0===a?void 0:a.show)&&(null===j||void 0===j||null===(o=j.core_api_key)||void 0===o?void 0:o.active)&&(null===j||void 0===j||null===(r=j.core_api_key)||void 0===r?void 0:r.key)&&Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"API Key",value:null===j||void 0===j||null===(s=j.core_api_key)||void 0===s?void 0:s.key,disabled:!0})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:(null===j||void 0===j||null===(d=j.department)||void 0===d?void 0:d.active)&&(null===j||void 0===j||null===(c=j.department)||void 0===c?void 0:c.name)&&Object(n.jsx)(I,{labelClassName:"text-capitalize",labelText:"Department",placeholder:"Department",value:null===j||void 0===j||null===(u=j.department)||void 0===u?void 0:u.name,disabled:!0})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 text-right pb-5 pt-3",children:Object(n.jsx)("div",{className:"button-items",children:Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:this.saveProfile,disabled:O,children:O?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Saving Profile..."})]}):"Save Profile"})})})})]})})]})})})})}),S&&S.map((function(e,t){var i=e._id,l=i!==f._id;return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsxs)("div",{className:l?"card disableAllField":"card",children:[Object(n.jsx)(oe,{heading:"Pickup Address ".concat(t+1),details:i===f._id?f:e,handelChange:v.handelAddressChange("pickupAddress"),disabled:l,isRequired:!0,readOnly:l,classvar:"editProfile",isAlreadyCheck:e.default_address,defaultAddress:function(){return v.handleDefaultAddress(e)},loadingProp:x,moreInfo:!0},e.id),Object(n.jsx)("div",{className:"card-body pt-0",children:Object(n.jsx)("div",{className:"w-100 text-right pr-3",children:Object(n.jsx)("div",{className:"button-items",children:i===f._id?Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:function(){return v.handleUpdatepAddress(e)},disabled:g||x,children:g?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Updating Address..."})]}):"Update Address"}):Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:function(){return v.handleEditAddress(e)},children:"Edit Address"})})})})]})})})})),S&&S.length>=3?"":Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)(oe,{heading:"Address",details:E,handelChange:this.handelAddressChange("newPickupAddress"),isRequired:!0,moreInfo:!0})})})}),Object(n.jsx)(Ti,{show:m,handleClose:this.handleChangePassModel})]})}}]),i}(l.Component),Ri=Object(p.b)((function(e,t){var i,n,l,a,o,r;return{profile:null===e||void 0===e||null===(i=e.loggedInUser)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data,meta:null===e||void 0===e||null===(l=e.loggedInUser)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.meta,loading:null===e||void 0===e||null===(o=e.loggedInUser)||void 0===o?void 0:o.loading,error:null===e||void 0===e||null===(r=e.loggedInUser)||void 0===r?void 0:r.error}}),(function(e){return{getLoggedInUser:function(t){return e(Ne(t))},updateUserProfile:function(t){return e(ye(t))},addAddressProfile:function(t){return e(Se(t))},updatePickAddress:function(t){return e(function(e){return{type:Ee.UPDATE_ADDRESS_REQUEST,payload:e}}(t))}}}))(Ai),ki=i(104),Di=i.n(ki),Li=i(213),Ui=i.n(Li),Pi=Object(p.b)((function(e,t){var i,n=t.id,l=null===(i=e.order)||void 0===i?void 0:i.orders;return{orderId:n,order:n&&l&&l[n]}}))((function(e){var t,i,l=e.order,a=(null===l||void 0===l?void 0:l.customer_details)||{},o=a.first_name,r=a.last_name,s=a.shipping_address,d=a.rto_address,c=null===l||void 0===l?void 0:l.created_by,u=(null===c||void 0===c?void 0:c.first_name)?"".concat(null===c||void 0===c?void 0:c.first_name," ").concat((null===c||void 0===c?void 0:c.last_name)||""):(null===c||void 0===c?void 0:c.email)||"-";u=null===(t=u)||void 0===t?void 0:t.trim();var v="".concat((null===s||void 0===s?void 0:s.line1)||"").trim();v="".concat(v," ").concat((null===s||void 0===s?void 0:s.line2)||"").trim(),v="".concat(v," ").concat((null===s||void 0===s?void 0:s.city)||"").trim(),v="".concat(v," ").concat((null===s||void 0===s?void 0:s.state)||"").trim(),v="".concat(v," ").concat((null===s||void 0===s?void 0:s.postcode)||"").trim();var j="".concat((null===d||void 0===d?void 0:d.line1)||"").trim();j="".concat(j," ").concat((null===d||void 0===d?void 0:d.line2)||"").trim(),j="".concat(j," ").concat((null===d||void 0===d?void 0:d.city)||"").trim(),j="".concat(j," ").concat((null===d||void 0===d?void 0:d.state)||"").trim(),j="".concat(j," ").concat((null===d||void 0===d?void 0:d.postcode)||"").trim();var b=null===l||void 0===l?void 0:l.product_details,m=(null===l||void 0===l||l.transaction_id,Array.isArray(null===l||void 0===l?void 0:l.available_logistic)&&(null===l||void 0===l?void 0:l.available_logistic.length)>0&&(null===l||void 0===l?void 0:l.available_logistic[0])),h=l.invoice,p=D(null===m||void 0===m?void 0:m.name),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=e.toLowerCase().trim()).includes("wow express")||e.includes("delhivery")||e.includes("xpressbees")?2.3:e.includes("spoton")?2.8:e.includes("shadowfax")?1.7:e.includes("dtdc")?2.8:e.includes("blue dart")?2.4:2}(null===m||void 0===m?void 0:m.name),g=String(null===m||void 0===m?void 0:m.name).trim();g=(g=g.replace(new RegExp("[0-9]+ KG","i"),"").trim()).replace(new RegExp("[0-9]+KG","i"),"").trim();var x=parseFloat((null===b||void 0===b?void 0:b.height)||0).toFixed(2),_=parseFloat((null===b||void 0===b?void 0:b.length)||0).toFixed(2),E=parseFloat((null===b||void 0===b?void 0:b.breadth)||0).toFixed(2),N=parseFloat((null===b||void 0===b?void 0:b.weight)||0).toFixed(2);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("table",{width:"100%",cellspacing:"0",cellpadding:"0",border:"0",className:"orderLableTbl",children:Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:Object(n.jsx)("td",{valign:"top",children:Object(n.jsx)("table",{cellspacing:"0",cellpadding:"0",border:"0",width:"100%",align:"center",children:Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{width:"70%",children:[Object(n.jsx)("div",{className:"mb-3 mt-2",children:Object(n.jsx)("img",{src:"/img/logo.svg",style:{width:"75px"},alt:""})}),Object(n.jsx)("p",{className:"font-p-12 print-font-bold",children:Object(n.jsx)("strong",{children:"Ship To"})}),Object(n.jsxs)("p",{className:"text-uppercase font-p-12 print-font-bold",style:{marginBottom:5},children:[o," ",r,","]}),Object(n.jsx)("p",{className:"font-p-12 print-font-bold line-clamp",style:{marginBottom:5},children:v})]}),Object(n.jsxs)("td",{width:"30%",className:"text-right",children:[Object(n.jsx)("div",{className:"mb-2 mt-2",children:p&&Object(n.jsx)("img",{src:p,style:{width:"75px"},alt:""})}),Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:5},children:[Object(n.jsx)("strong",{children:"Courier"}),": ",g]}),Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:0},children:[Object(n.jsx)("strong",{children:"Awb"}),": ",null===l||void 0===l?void 0:l.ewaybill_number]})]})]})})})})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{valign:"top",children:Object(n.jsx)("table",{cellspacing:"0",cellpadding:"0",border:"0",width:"100%",children:Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{width:"75%",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsxs)("p",{className:"font-p-12",style:{marginBottom:5},children:[Object(n.jsx)("strong",{children:"Contact No"}),": ",Object(n.jsx)("span",{children:l.customer_details.mobile_number})]})}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsxs)("p",{className:"font-p-12",children:[" ",Object(n.jsx)("strong",{children:"Fm Hub"}),":  ",Object(n.jsx)("span",{style:{textTransform:"uppercase"},children:(null===m||void 0===m?void 0:m.destination_hub)||"-"})," "]})})]}),Object(n.jsx)("hr",{style:{borderColor:"#000",marginTop:0,marginBottom:5}}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsxs)("p",{className:"font-p-10",children:[Object(n.jsx)("strong",{children:"Dimensions"}),": ",_," x ",E," x ",x]}),Object(n.jsxs)("p",{className:"font-p-10",children:[Object(n.jsx)("strong",{children:"Payment"})," : ",Object(n.jsx)("span",{style:{textTransform:"uppercase"},children:null===l||void 0===l?void 0:l.payment_method})]})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsxs)("p",{className:"font-p-10",children:[Object(n.jsx)("strong",{children:"Weight"})," : ",N," kg"]}),Object(n.jsxs)("p",{className:"font-p-10",children:[Object(n.jsx)("strong",{children:"Items"}),": ",Object(n.jsx)("span",{children:null===b||void 0===b?void 0:b.product_name})]})]})]}),Object(n.jsx)("hr",{style:{borderColor:"#000",marginTop:0,marginBottom:5}}),Object(n.jsxs)("p",{className:"font-p-12",style:{marginBottom:5},children:[Object(n.jsx)("strong",{children:"Shipped by"}),": ",u,", (If undelivered, return to)"]}),Object(n.jsx)("p",{className:"font-p-12 line-clamp",style:{marginBottom:5},children:j||"-"}),Object(n.jsxs)("p",{className:"font-p-12",style:{marginBottom:5},children:[Object(n.jsx)("strong",{children:"Lmd Hub"}),": ",Object(n.jsx)("span",{style:{textTransform:"uppercase"},children:(null===m||void 0===m?void 0:m.source_hub)||"-"})]}),Object(n.jsx)("hr",{style:{borderColor:"#000",marginTop:0,marginBottom:5}}),Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:5,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[Object(n.jsx)("strong",{className:"text-capitalize",children:"product description:"})," ",null===b||void 0===b?void 0:b.product_name]}),Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{className:"col-lg-5 pl-0 pr-0",children:Object(n.jsxs)("p",{className:"font-p-10 mb-2",style:{wordBreak:"break-word"},children:[Object(n.jsx)("strong",{className:"pr-1",children:"SKU:"})," ",String((null===b||void 0===b?void 0:b.master_sku)||"-").replace(",",", ").trim()]})}),Object(n.jsx)("div",{className:"col-lg-3 pr-0",children:Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:5},children:[Object(n.jsx)("strong",{className:"pl-1",children:"|"}),Object(n.jsx)("strong",{className:"pl-1",children:"QTY:"})," ",null===b||void 0===b?void 0:b.quantity]})}),Object(n.jsx)("div",{className:"col-lg-4 pr-0",children:Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:5},children:[Object(n.jsx)("strong",{className:"pl-1",children:"|"}),Object(n.jsx)("strong",{className:"pl-1",children:"TOTAL:"})," \u20b9 ",parseFloat((null===b||void 0===b?void 0:b.selling_price)||0).toFixed(2)]})})]}),Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{className:"col-lg-6 pl-0",children:Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:5},children:[Object(n.jsx)("strong",{children:"Invoice  No: "})," ",h&&(null===h||void 0===h?void 0:h.invoice_number)||"-"]})}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:5},children:[Object(n.jsx)("strong",{className:"pl-1",children:"|"}),Object(n.jsx)("strong",{className:"pl-1",children:"Invoice Date:"})," ",h&&(null===h||void 0===h?void 0:h.date)&&f()(null===h||void 0===h?void 0:h.date).format("DD-MM-YYYY")||"-"]})})]}),Object(n.jsxs)("p",{className:"font-p-10",style:{marginBottom:5},children:[Object(n.jsx)("strong",{children:"GST No:"})," ",(null===c||void 0===c||null===(i=c.bank_detail)||void 0===i?void 0:i.gst_number)||"---"]})]}),Object(n.jsxs)("td",{width:"25%",children:[Object(n.jsx)("div",{className:"barCodeContainer",children:Object(n.jsx)("div",{className:"barCodeDiv position-relative",children:Object(n.jsx)(Ui.a,{value:null===l||void 0===l?void 0:l.ewaybill_number,format:"CODE128",displayValue:!0,width:O,height:100,fontSize:12,background:"transparent"})})}),Object(n.jsxs)("p",{className:"font-p-10 mb-2",style:{marginBottom:0},children:[Object(n.jsx)("strong",{children:"Shipment"})," #",null===l||void 0===l?void 0:l.order_id]})]})]})})})})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{valign:"top",children:Object(n.jsx)("table",{cellspacing:"0",cellpadding:"0",border:"0",width:"100%",children:Object(n.jsx)("tbody",{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{width:"100%",children:[Object(n.jsx)("hr",{style:{borderColor:"#000",marginTop:0,marginBottom:5}}),Object(n.jsx)("p",{className:"font-p-10 text-center mb-2",children:"All dispute are subject Uttar Pradesh jurisdiction. Goods once sold will only be taken back or exchanged as per the store's exchange/return policy"})]})})})})})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{valign:"top",children:Object(n.jsx)("table",{cellspacing:"0",cellpadding:"0",border:"0",width:"100%",children:Object(n.jsx)("tbody",{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{width:"100%",children:[Object(n.jsx)("hr",{style:{borderColor:"#000",marginTop:0,marginBottom:5}}),Object(n.jsx)("p",{className:"text-uppercase font-p-10 text-center mb-2",children:"this is an auto generated label and does not need any signature"})]})})})})})})]})})})})),Fi=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).onGoBack=function(){n.props.history.goBack()},n.state={toggleClass:!1,incomingProp:e.history.location.state&&e.history.location.state.clickCheckProp},n.shipmentPrintRef=a.a.createRef(),n.shipmentSinglePrintRef=a.a.createRef(),n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.printSelection,i=e.history,n=this.state.incomingProp;t&&0!==(null===t||void 0===t?void 0:t.length)&&n||i.replace("/app/shipmentList")}},{key:"render",value:function(){var e,t=this,i=this.props.printSelection,l=Math.ceil((null!==(e=null===i||void 0===i?void 0:i.length)&&void 0!==e?e:0)/4),a=this.state.incomingProp;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("section",{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-end",children:["regularPrint"===a?Object(n.jsx)(Di.a,{pageStyle:Ii,trigger:function(){return Object(n.jsxs)("button",{className:"btn btn-primary my-2 btn-icon-text",type:"button",children:[Object(n.jsx)("i",{className:"dripicons dripicons-print mr-2"}),"Print Label"]})},documentTitle:"Order Label - ".concat(f()().format("DD-MMM-YY")),content:function(){return t.shipmentPrintRef.current}}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Di.a,{pageStyle:Mi,trigger:function(){return Object(n.jsxs)("button",{className:"btn btn-primary my-2 btn-icon-text mr-2",type:"button",children:[Object(n.jsx)("i",{className:"dripicons dripicons-print mr-2"}),"Print Thermal Label"]})},documentTitle:"Order Label - ".concat(f()().format("DD-MMM-YY")),content:function(){return t.shipmentPrintRef.current}})}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text ml-3",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-1"}),"Back"]})]}),Object(n.jsx)("div",{className:"justify-content-center",ref:this.shipmentPrintRef,style:{margin:"0",padding:"0"},children:"regularPrint"===a?Object(Ae.a)(new Array(l)).map((function(e,t){return Object(n.jsx)("div",{className:"page-break-before col-lg-12",children:Object(n.jsx)("div",{className:"row print-page justify-content-center",children:i.map((function(e,i){var l=i%4===3?"page-break-after":"";return i>=4*t&&i<4*t+4&&Object(n.jsx)("div",{className:"col-6 print-label mb-3 "+l,style:{backgroundColor:"#fff",borderRadius:3,overflow:"hidden",border:"1px dashed"},children:Object(n.jsx)(Pi,{id:e})})}))})})})):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"col-lg-6",children:i.map((function(e){return Object(n.jsx)("div",{className:"row justify-content-center thermal-print-page",children:Object(n.jsx)("div",{className:"col-lg-12 col-xl-12 col-md-12 col-12 mb-3 thermal-print-label m-0",style:{backgroundColor:"#fff",overflow:"hidden",border:"1px dashed"},children:Object(n.jsx)(Pi,{id:e})})})}))})})})]})})})}}]),i}(l.Component),Ii="\n    @media print {\n        html, body,div, ...etc {\n            height: auto !important;\n            overflow: hidden !important;\n            -webkit-print-color-adjust: exact !important;\n            float: none;\n        }\n        .page-break-before {\n            display: block;\n            page-break-before: always;\n        }\n        .page-break-after {\n            display: block;\n            page-break-after: always;\n        }\n        .print-page {\n            height: auto !important;\n        }\n        .print-label {\n            height:auto !important;\n        }\n        .print-label .font-p-12{\n            font-size: 11px !important;\n        }\n        .print-label .font-p-10{\n            font-size: 10px !important;\n        }\n\n    }\n",Mi="\n    @media print {\n        @page {\n            size: 4.1in 5.45in !important;\n            margin: 5px !important;\n            }\n            body {\n            height: 9in !important;\n            overflow: hidden !important;\n            -webkit-print-color-adjust: exact !important;\n            width: 4.1in  !important\n        }\n        .thermal-print-page {\n            width: 6in !important;\n            height: 8.02in !important;\n        }\n        .thermal-print-label {\n            width: 6in !important;\n            height: 8.02in !important;\n        }\n        .thermal-print-label .font-p-12{\n            font-size: 14px !important;\n        }\n        .thermal-print-label .font-p-10{\n            font-size: 12.3px !important;\n        }\n        .thermal-print-label .print-font-bold{\n            font-weight: 700\n        }\n    }\n",Hi=(Object(p.b)((function(e){var t;return{printSelection:null===(t=e.order)||void 0===t?void 0:t.printSelection}}),(function(e){return{}}))(Fi),{FETCH_REQUEST:"FETCH_DASHBOARD_REQUEST",FETCH_SUCCESS:"FETCH_DASHBOARD_SUCCESS",FETCH_FAIL:"FETCH_DASHBOARD_FAIL",REFRESH_COUNTER_REQUEST:"REFRESH_COUNTER_REQUEST",REFRESH_COUNTER_SUCCESS:"REFRESH_COUNTER_SUCCESS",REFRESH_COUNTER_FAIL:"REFRESH_COUNTER_FAIL"}),Bi=Object(p.b)((function(e,t){var i,n,l,a=t.location,o=null===a||void 0===a?void 0:a.pathname;return{filter:null===(i=e.dashboard)||void 0===i?void 0:i.filters[o],loggedInUser:null===(n=e.loggedInUser)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.data}}),(function(e){return{onRefresh:function(t){return e(function(){return{type:Hi.REFRESH_COUNTER_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))((function(e){var t=e.containerClassName,i=void 0===t?"dashboard_one common_grid_css bg-white p-3 br-5 mb-3":t,l=e.name,a=void 0===l?"Total Count":l,o=e.counter;return Object(n.jsx)("div",{className:"col-md-3 pr-0",children:Object(n.jsxs)("div",{className:"".concat(i),children:[Object(n.jsx)("div",{className:"d-flex justify-content-between",children:Object(n.jsx)("p",{className:"font-size-14",children:a})}),Object(n.jsx)("h4",{className:"text-primary font-size-24",children:o})]})})})),Gi=Object(p.b)((function(e,t){return{}}))((function(e){var t=e.datasets,i=e.displayLegend,l=void 0===i||i,a=Object(B.a)(e,["datasets","displayLegend"]),o=U(),r=(null===a||void 0===a?void 0:a.labels)||Object(Ae.a)(new Array(o)).map((function(e,t){return"Week ".concat(t+1)}));return Object(n.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(n.jsx)(Zt.Bar,{data:{labels:r,datasets:t},options:{maintainAspectRatio:!1,legend:{display:l,position:"bottom",align:"center",labels:{boxWidth:15}},scales:{xAxes:[{gridLines:{color:"#0000"}}],yAxes:[{ticks:{callback:function(e,t,i){return e>=1e3?"".concat(e/1e3,"k"):e},min:0}}]}}})})})),Qi=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).selectDateFrom=function(e){if(null!==l.state.toDate&&f()(e).isAfter(f()(l.state.toDate)))return l.setState({error:"From date should not be greater than to date"}),!1;l.setState({fromDate:e,error:null})},l.selectDateTo=function(e){if(null!==l.state.fromDate&&f()(e).isBefore(f()(l.state.fromDate)))return l.setState({error:"To date should not be less than from date"}),!1;l.setState({toDate:e,error:null})},l.handleChange=function(e){return function(t){var i,n=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;l.setState(Object(u.a)({},e,n))}},l.loadDashBoard=function(){var e=l.state,t=e.fromDate,i=e.toDate,n=e.orderType,a=e.payment_method,o=e.logistic_id,r=e.plan,s=l.props,d=s.fetchDashboard,c=s.location,u={pathname:null===c||void 0===c?void 0:c.pathname};t&&(u.created_from=f()(t).startOf("day").utc().format()),i&&(u.created_to=f()(i).endOf("day").utc().format()),n&&"all"!==n&&(u.order_type=n),a&&"all"!==a&&(u.payment_method=a),o&&"all"!==o&&(u.logistic_id=o),r&&"all"!==r&&(u.plan=r),d&&d(u)},l.renderRow=function(e,t){var i,l,a,o,r,s,d,c,u=null===e||void 0===e?void 0:e.transaction_id,v=Array.isArray(null===e||void 0===e?void 0:e.orderStatus)&&e.orderStatus.length>0&&e.orderStatus[0],j=Array.isArray(null===v||void 0===v?void 0:v.scan_detail)&&(null===v||void 0===v||null===(i=v.scan_detail)||void 0===i?void 0:i.length)>0&&v.scan_detail[v.scan_detail.length-1],b=(null===e||void 0===e?void 0:e.comments)||[];return"UNDELIVERED"==(null===j||void 0===j?void 0:j.status_description)?c="#f8d7da":(null===b||void 0===b?void 0:b.length)>0&&(c="#fff3cd"),(u||(null===e||void 0===e?void 0:e.ewaybill_number))&&Array.isArray(null===e||void 0===e?void 0:e.available_logistic)&&(null===e||void 0===e||null===(l=e.available_logistic)||void 0===l?void 0:l.length)>0&&(d=null===e||void 0===e?void 0:e.available_logistic[0]),e&&Object(n.jsxs)("tr",{style:{background:c},children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsxs)("td",{children:[null===e||void 0===e?void 0:e.ewaybill_number," ",Object(n.jsxs)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:(null===e||void 0===e?void 0:e.bulk_id)?"warning":"primary",children:[" ",(null===e||void 0===e?void 0:e.bulk_id)?"Bulk":"Individual"]})]}),Object(n.jsx)("td",{style:{letterSpacing:1},children:(null===e||void 0===e?void 0:e.order_date)&&f()(e.order_date).format("D MMM YYYY, h:mm:ss a")}),Object(n.jsxs)("td",{style:{textTransform:"cod"===(null===e||void 0===e?void 0:e.payment_method)?"uppercase":"capitalize"},children:[null===e||void 0===e?void 0:e.payment_method," ",Object(n.jsx)("span",{className:"ml-1",children:(null===e||void 0===e?void 0:e.action_done)?Object(n.jsx)("i",{className:"fas fa-check-double"}):(null===e||void 0===e?void 0:e.sent_to_am)&&Object(n.jsx)("i",{className:"fas fa-check"})})]}),Object(n.jsx)("td",{children:(null===(a=d)||void 0===a||null===(o=a.price)||void 0===o?void 0:o.day)?"".concat(null===(r=d)||void 0===r||null===(s=r.price)||void 0===s?void 0:s.day," days"):"-"}),Object(n.jsx)("td",{style:{textTransform:"lowercase"},className:(null===e||void 0===e?void 0:e.ewaybill_number)||(null===e||void 0===e?void 0:e.isLoading)?"greenColor":"redColor",children:(null===e||void 0===e?void 0:e.isLoading)?"Checking...":(null===e||void 0===e?void 0:e.ewaybill_number)?(null===e||void 0===e?void 0:e.latest_order_status)||(null===j||void 0===j?void 0:j.status):"payment pending"})]},t)},l.onFilter=function(){l.setState({error:null},l.loadDashBoard)},l.onReset=function(){l.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",logistic_id:"",plan:"",awbNumber:"",error:null},l.loadDashBoard)},l.state={showPreviewOfFileId:null,fromDate:null,toDate:null},l.selectDateFrom=l.selectDateFrom.bind(Object(b.a)(l)),l.selectDateTo=l.selectDateTo.bind(Object(b.a)(l)),l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadDashBoard()}},{key:"render",value:function(){var e=this.props,t=(e.data,e.loading,e.logistics,e.plans,e.planOrder,e.delivered_order_weeks),i=e.confirm_order_weeks,l=e.last_four_weeks_deliver_orders;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between pb-1",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24",children:"Dashboard"}),Object(n.jsx)(we,{title:["Dashboard","Dashboard"]})]})})})})}),Object(n.jsxs)("div",{className:"row align-items-start dashboard-grid",children:[Object(n.jsx)(Bi,Object(M.a)({counter_key:"raised_order",containerClassName:"dashboard_one common_grid_css bg-white p-3 br-5 mb-3",name:"Raised Order",counter:0},this.props)),Object(n.jsx)(Bi,Object(M.a)({counter_key:"order_receive",containerClassName:"dashboard_two common_grid_css bg-white p-3 br-5 mb-3",name:"Received Order",counter:0},this.props)),Object(n.jsx)(Bi,Object(M.a)({counter_key:"order_progress",containerClassName:"dashboard_two common_grid_css bg-white p-3 br-5 mb-3",name:"In-progress Order",counter:0},this.props)),Object(n.jsx)(Bi,Object(M.a)({counter_key:"order_complete",containerClassName:"dashboard_two common_grid_css bg-white p-3 br-5 mb-3",name:"Completed Order",counter:0},this.props))]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6 mb-4",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"d-flex card-title",children:Object(n.jsx)("h4",{className:"",children:"Total Query Summary"})}),Object(n.jsx)("div",{className:"border-0 m-4 justify-content-end",style:{height:250},children:Object(n.jsx)(Gi,{datasets:[{label:"Total Orders",backgroundColor:"#1B98F5",data:i},{label:"Order Completed",backgroundColor:"#1FAA59",data:t}]})})]})}),Object(n.jsx)("div",{className:"col-md-6 mb-4",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"d-flex card-title",children:Object(n.jsx)("h4",{className:"",children:"Invoive"})}),Object(n.jsx)("div",{className:"border-0 m-4 justify-content-end",style:{height:250},children:Object(n.jsx)(Gi,{labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Invoice",backgroundColor:"#1B98F5",data:l}],displayLegend:!1})})]})})]}),this.state.showPreviewOfFileId&&Object(n.jsx)(kt,{toggleModal:this.togglePreview,children:Object(n.jsx)(zt,{data:this.state.allAttachments,showPreviewOfFileId:this.state.showPreviewOfFileId,togglePreview:this.togglePreview})})]})}}]),i}(l.Component),Wi=Object(p.b)((function(e,t){var i,n,l,a,o,r,s=t.location,d=null===s||void 0===s?void 0:s.pathname,c=null===(i=e.dashboard)||void 0===i?void 0:i.filters[d],u=(null===(n=e.dashboard)||void 0===n?void 0:n.boards)[JSON.stringify(c||{})],v=null===u||void 0===u?void 0:u.data,j=!v&&(null===u||void 0===u?void 0:u.loading),b=null===(l=e.logistics)||void 0===l?void 0:l.data,m=U(),h=Object(Ae.a)(new Array(m)).map((function(e,t){var i,n;return(null===v||void 0===v||null===(i=v.confirm_order_weeks)||void 0===i||null===(n=i.count)||void 0===n?void 0:n[t+1])||0})),p=Object(Ae.a)(new Array(m)).map((function(e,t){var i,n;return(null===v||void 0===v||null===(i=v.delivered_order_weeks)||void 0===i||null===(n=i.count)||void 0===n?void 0:n[t+1])||0})),O=(null===v||void 0===v||null===(a=v.last_four_weeks_deliver_orders)||void 0===a?void 0:a.count)||{},g=Object(Ae.a)(new Array(4)).map((function(e,t){return(null===O||void 0===O?void 0:O[t+1])?parseFloat((null===O||void 0===O?void 0:O[t+1])||0).toFixed(2):0}));return{data:v,loading:j,logistics:b,plans:null===e||void 0===e||null===(o=e.plan)||void 0===o?void 0:o.plans,planOrder:null===e||void 0===e||null===(r=e.plan)||void 0===r?void 0:r.planOrder,confirm_order_weeks:h,delivered_order_weeks:p,last_four_weeks_deliver_orders:g}}),(function(e){return{fetchDashboard:function(t){return e(function(){return{type:Hi.FETCH_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))(Qi),Yi=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(v.a)(this,i),(n=t.call(this,e)).loadMoreOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=n.state,l=i.fromDate,a=i.toDate,o=i.orderType,r=(i.payment_method,i.logistic_id),s=n.props,d=s.fetchAllOrders,c=s.orderList,u=s.orderMeta,v=s.location;if(0===e||(null===u||void 0===u?void 0:u.total_count)>(null===c||void 0===c?void 0:c.length)){var j={pathname:null===v||void 0===v?void 0:v.pathname,offset:e,limit:t,payment_status:"complete"};l&&(j.created_from=f()(l).startOf("day").utc().format()),a&&(j.created_to=f()(a).endOf("day").utc().format()),o&&"all"!==o&&(j.order_type=o),r&&"all"!==r&&(j.logistic_id=r),d&&d(j)}},n.selectDateFrom=function(e){if(null!==n.state.toDate&&f()(e).isAfter(f()(n.state.toDate)))return n.setState({error:"From date should not be greater than to date"}),!1;n.setState({fromDate:e,error:null})},n.selectDateTo=function(e){if(null!==n.state.fromDate&&f()(e).isBefore(f()(n.state.fromDate)))return n.setState({error:"To date should not be less than from date"}),!1;n.setState({toDate:e,error:null})},n.handleChange=function(e){return function(t){var i,l=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;n.setState(Object(u.a)({},e,l))}},n.onFilterOrder=function(){n.setState({error:null}),n.loadMoreOrders()},n.reset=function(){n.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",logistic_id:"",awbNumber:"",error:null},(function(){n.onFilterOrder()}))},n.onShowPrintPreview=function(){n.props.history.push("/app/ManifestPickup/")},n.onDeselectAll=function(){var e=n.props,t=e.printSelection,i=e.selectOrders;i&&i(t,!1)};var l=null===e||void 0===e?void 0:e.filter;return n.state={fromDate:(null===l||void 0===l?void 0:l.created_from)&&f()(null===l||void 0===l?void 0:l.created_from).toDate()||null,toDate:(null===l||void 0===l?void 0:l.created_to)&&f()(null===l||void 0===l?void 0:l.created_to).toDate()||null,orderType:(null===l||void 0===l?void 0:l.order_type)||"all",logistic_id:(null===l||void 0===l?void 0:l.logistic_id)||""},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.printSelection,i=e.selectOrders;this.loadMoreOrders(),i&&i(t,!1)}},{key:"render",value:function(){var e=this,t=this.props,i=t.orderList,l=t.orderMeta,a=t.loading,o=t.logistics,r=t.filter,s=t.printSelection,d=t.selectOrders;this.state.logistic_id;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between pb-1",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Manifest"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Manifest"}),Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Manifest"})})]})]})})})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Filter"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:"row order_filter",children:[Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.fromDate,onChange:this.selectDateFrom,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"From",maxDate:new Date,isClearable:!0}),!this.state.fromDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.toDate,onChange:this.selectDateTo,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"To",maxDate:new Date,isClearable:!0}),!this.state.toDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.orderType,onChange:this.handleChange("orderType"),children:[Object(n.jsx)("option",{value:"all",children:"All Shipments"}),Object(n.jsx)("option",{value:"individual",children:"Individual"}),Object(n.jsx)("option",{value:"bulk",children:"Bulk"})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.logistic_id,onChange:this.handleChange("logistic_id"),children:[Object(n.jsx)("option",{value:"",children:"Select Partner"}),o&&o.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},t)}))]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-4",children:Object(n.jsxs)("div",{className:"filter_btns d-flex align-items-start",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",onClick:this.onFilterOrder,style:{width:80},children:"Search"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-icon-text",onClick:this.reset,style:{width:80},children:"Reset"})]})})]})}),this.state.error&&Object(n.jsx)("div",{className:"mt-1",style:{color:"red"},children:this.state.error})]})]})})}),Object(n.jsx)(Le,{headings:[{text:"No.",style:{textAlign:"center"}},"AWB Number","Created by","Shipment Date","Payment Mode","Delivery partner","Estimated TAT","Status","Action"],showSelectAll:!0,totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),rowData:i,renderRow:function(t,i){return Object(n.jsx)(wt,Object(M.a)({id:t,index:i,showSelect:!0},e.props))},showSearch:!1,loading:a,filter:r,loadMore:this.loadMoreOrders,actionBtnText:"Manifest Preview",showActionBtn:(null===s||void 0===s?void 0:s.length)>0,onClickAction:this.onShowPrintPreview,onClickDeselectAction:this.onDeselectAll,onSelectAll:d,selectedList:s})]})}}]),i}(l.Component),qi=(Object(p.b)((function(e,t){var i,n,l,a,o=t.location,r=null===(i=e.logistics)||void 0===i?void 0:i.data,s=null===o||void 0===o?void 0:o.pathname,d=null===(n=e.order)||void 0===n?void 0:n.filters[s],c=(null===(l=e.order)||void 0===l?void 0:l.boards)[JSON.stringify(d||{})];return{filter:d,orderList:null===c||void 0===c?void 0:c.list,orderMeta:null===c||void 0===c?void 0:c.meta,loading:null===c||void 0===c?void 0:c.loading,logistics:r,printSelection:null===(a=e.order)||void 0===a?void 0:a.printSelection}}),(function(e){return{fetchAllOrders:function(t){return e(he(t))},selectOrders:function(t,i){return e(_e(t,i))}}}))(Yi),Object(p.b)((function(e,t){var i,n=t.id,l=null===(i=e.order)||void 0===i?void 0:i.orders;return{orderId:n,order:n&&l&&l[n]}}))((function(e){var t=e.index,i=void 0===t?0:t,l=e.order,a=null===l||void 0===l?void 0:l.customer_details,o=null===l||void 0===l?void 0:l.product_details;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:i+1}),Object(n.jsx)("td",{children:null===l||void 0===l?void 0:l.ewaybill_number}),Object(n.jsxs)("td",{children:[(null===a||void 0===a?void 0:a.first_name)?"".concat(null===a||void 0===a?void 0:a.first_name," ").concat((null===a||void 0===a?void 0:a.last_name)||""):null===a||void 0===a?void 0:a.email," "]}),Object(n.jsxs)("td",{style:{textAlign:"center"},children:["\u20b9 ",parseFloat((null===o||void 0===o?void 0:o.selling_price)||0).toFixed(2)]}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===l||void 0===l?void 0:l.payment_method}),Object(n.jsxs)("td",{style:{textAlign:"center"},children:[parseFloat((null===o||void 0===o?void 0:o.weight)||0).toFixed(2)," kg"]})]})}))),Ki=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).onGoBack=function(){n.props.history.goBack()},n.pageRef=a.a.createRef(),n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.printSelection,i=e.history;console.log("this.props",i),(null===t||void 0===t?void 0:t.length)||null===i||void 0===i||i.replace("/app/Manifest")}},{key:"render",value:function(){var e=this,t=this.props,i=t.printSelection,l=t.orders,a=t.loggedInUser,o=(null===a||void 0===a?void 0:a.first_name)?"".concat(null===a||void 0===a?void 0:a.first_name," ").concat((null===a||void 0===a?void 0:a.last_name)||"").trim():null===a||void 0===a?void 0:a.email,r=null===i||void 0===i?void 0:i.map((function(e){return e&&l&&l[e]})),s=Object(Ae.a)(new Set(null===r||void 0===r?void 0:r.map((function(e){var t;if((null===e||void 0===e||null===(t=e.available_logistic)||void 0===t?void 0:t.length)>0){var i,n=String(null===(i=e.available_logistic[0])||void 0===i?void 0:i.name).trim();return n=(n=n.replace(new RegExp("[0-9]+ KG","i"),"").trim()).replace(new RegExp("[0-9]+KG","i"),"").trim()}})))),d=Object(Ae.a)(new Set(null===r||void 0===r?void 0:r.map((function(e){var t=null===e||void 0===e?void 0:e.customer_details,i=null===t||void 0===t?void 0:t.pickup_address,n="".concat(null===i||void 0===i?void 0:i.line1).trim();return n="".concat(n," ").concat(null===i||void 0===i?void 0:i.line2).trim(),n="".concat(n," ").concat(null===i||void 0===i?void 0:i.city).trim(),n="".concat(n," ").concat(null===i||void 0===i?void 0:i.state).trim(),n="".concat(n," ").concat(null===i||void 0===i?void 0:i.postcode).trim()}))));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between pb-1",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsx)("div",{children:Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Manifest Pickup"})})}),Object(n.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(n.jsx)(Di.a,{pageStyle:zi,trigger:function(){return Object(n.jsxs)("button",{className:"btn btn-primary my-2 btn-icon-text",type:"button",children:[Object(n.jsx)("i",{className:"dripicons dripicons-print mr-2"}),"Print Manifest"]})},documentTitle:"Manifest - ".concat(f()().format("DD-MMM-YY")),content:function(){return e.pageRef.current}}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text ml-3",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-1"}),"Back"]})]})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)("div",{className:"card",ref:this.pageRef,children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-lg-6",style:{width:"50%"},children:[Object(n.jsxs)("p",{className:"font-size-16",children:[Object(n.jsx)("strong",{children:"Seller Name:"})," ",o]}),Object(n.jsxs)("p",{className:"font-size-16",children:[Object(n.jsx)("strong",{children:"Seller Contact No:"})," ",(null===a||void 0===a?void 0:a.mobile_number)||"-"]}),Object(n.jsxs)("p",{className:"font-size-16",children:[Object(n.jsx)("strong",{children:"Seller Address: "})," ",(null===d||void 0===d?void 0:d.length)>0?null===d||void 0===d?void 0:d.map((function(e,t){return e&&"".concat(e).concat((null===d||void 0===d?void 0:d.length)-1!==t?", ":"")})):"-"]})]}),Object(n.jsxs)("div",{className:"col-lg-6",style:{width:"50%",textAlign:"right"},children:[Object(n.jsxs)("p",{className:"font-size-16",children:[Object(n.jsx)("strong",{children:"Manifest No.: "})," ",Date.now()]}),Object(n.jsxs)("p",{className:"font-size-16",children:[Object(n.jsx)("strong",{children:"Logistics Channel: "})," ",(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((function(e,t){return e&&"".concat(e).concat((null===s||void 0===s?void 0:s.length)-1!==t?", ":"")})):"-"]}),Object(n.jsxs)("p",{className:"font-size-16",children:[Object(n.jsx)("strong",{children:"Order Quantity: "})," ",(null===i||void 0===i?void 0:i.length)||0," items"]}),Object(n.jsxs)("p",{className:"font-size-16",children:[Object(n.jsx)("strong",{children:"Pickup Date: "})," ",f()().format("DD-MM-YY")]})]}),Object(n.jsx)("div",{className:"col-lg-12 mt-3 mb-4",children:Object(n.jsx)(De,{className:"table table-striped table-bordered dt-responsive nowrap action_icons",headingData:["No.","Tracking Number","Customer Name",{text:"Shipment Value",style:{textAlign:"center"}},{text:"Mode",style:{textAlign:"center"}},"Weight"],rowData:i,renderRowItem:function(e,t){return Object(n.jsx)(qi,{id:e,index:t})}})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-8",style:{width:"70%"},children:Object(n.jsx)("p",{className:"font-size-16",children:Object(n.jsx)("strong",{children:"Courier Signature:"})})}),Object(n.jsxs)("div",{className:"col-lg-4",style:{width:"30%"},children:[Object(n.jsx)("p",{className:"font-size-16",children:Object(n.jsx)("strong",{children:"Dispatch Person's Name:"})}),Object(n.jsx)("p",{className:"font-size-16",children:Object(n.jsx)("strong",{children:"Dispatch Stamp:"})}),Object(n.jsx)("p",{className:"font-size-16",children:Object(n.jsx)("strong",{children:"Dispatch Date:"})})]})]})]})})})})]})}}]),i}(l.Component),zi="\n    @media all {\n        .page-break {\n            display: none;\n        }\n    }\n\n    @media print {\n        html, body {\n            height: initial !important;\n            overflow: initial !important;\n            -webkit-print-color-adjust: exact;\n        }\n    }\n\n    @media print {\n        .page-break {\n            height: 25rem;\n            display: block;\n            page-break-before: auto;\n        }\n    }\n\n    @page {\n        size: auto;\n        margin: 20mm;\n    }\n",Vi=(Object(p.b)((function(e){var t,i,n,l;return{loggedInUser:null===(t=e.loggedInUser)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data,orders:null===(n=e.order)||void 0===n?void 0:n.orders,printSelection:(null===(l=e.order)||void 0===l?void 0:l.printSelection)||[]}}),(function(e){return{}}))(Ki),{FETCH_ALL_REQUEST:"FETCH_ALL_REACH_US_REQUEST",FETCH_ALL_SUCCESS:"FETCH_ALL_REACH_US_SUCCESS",FETCH_ALL_FAIL:"FETCH_ALL_REACH_US_FAIL"}),Ji=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).loadMoreReachUsUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.props,n=i.list,a=i.meta,o=i.fetchReachUsUsers,r=l.state.searchText;if(r=r.trim(),0===e||(null===a||void 0===a?void 0:a.totalCount)>(null===n||void 0===n?void 0:n.length)){var s={offset:e,limit:t};r&&(s.text=r),o&&o(s)}},l.renderTableRow=function(e,t){var i=l.props.users,a=e&&i&&i[e];return a?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:t+1}),Object(n.jsx)("td",{children:null===a||void 0===a?void 0:a.name}),Object(n.jsx)("td",{children:null===a||void 0===a?void 0:a.email}),Object(n.jsx)("td",{children:null===a||void 0===a?void 0:a.number}),Object(n.jsx)("td",{children:null===a||void 0===a?void 0:a.company_name}),Object(n.jsx)("td",{style:{textAlign:"center"},children:null===a||void 0===a?void 0:a.location}),Object(n.jsx)("td",{style:{textAlign:"center"},children:(null===a||void 0===a?void 0:a.createdAt)?f()(null===a||void 0===a?void 0:a.createdAt).format("DD MMM YYYY"):"-"})]},"".concat(e,"_").concat(t)):Object(n.jsx)(n.Fragment,{})},l.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";l.setState({searchText:e.trim()},l.loadMoreReachUsUsers)},l.state={searchText:""},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMoreReachUsUsers()}},{key:"render",value:function(){var e=this.props,t=e.list,i=e.meta,l=e.loading;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Reach Us"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Reach Us"}),Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:" Reach Us"})})]})]})})})})}),Object(n.jsx)(Le,{headings:["No.","Name","Email","Phone number","Company Name","Location","Creation date"],rowData:t,renderRow:this.renderTableRow,totalEntries:null===i||void 0===i?void 0:i.totalCount,onSearch:this.onSearch,loading:l,loadMore:this.loadMoreReachUsUsers})]})}}]),i}(l.Component),Xi=(Object(p.b)((function(e){var t,i,n=null===(t=e.reachUs)||void 0===t?void 0:t.filter,l=null===(i=e.reachUs)||void 0===i?void 0:i.users,a=JSON.stringify(n||{}),o=e.reachUs[a];return{users:l,list:null===o||void 0===o?void 0:o.list,meta:null===o||void 0===o?void 0:o.meta,loading:null===o||void 0===o?void 0:o.loading}}),(function(e){return{fetchReachUsUsers:function(t){return e(function(e){return{type:Vi.FETCH_ALL_REQUEST,payload:Object(M.a)(Object(M.a)({},e||{}),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}}(t))}}}))(Ji),i(65)),$i=i.n(Xi),Zi={showAllOrders:!1,dashboard:{name:"Dashboard",show:!1,download:!1,editable:!1},upload_data:{name:"Upload data",show:!1,download:!1,editable:!1,master:{name:"Master Data",show:!1,download:!1,editable:!1},courier_partner:{name:"Courier Partner",show:!1,download:!1,editable:!1}},order:{name:"Shipment",show:!1,download:!1,editable:!1,ticket_dashboard:{name:"Ticket List",show:!1,download:!1,editable:!1},order_dashboard:{name:"Shipment List",show:!1,download:!1,editable:!1},individual_order:{name:"Individual Shipment",show:!1,download:!1,editable:!1},bulk_order:{name:"Bulk Shipment Upload",show:!1,download:!1,editable:!1}},report:{name:"Reports",show:!1,download:!1,editable:!1,cod:{name:"COD Report",show:!1,download:!1,editable:!1},no_csv:{name:"No CSV Report",show:!1,download:!1,editable:!1},monthly:{name:"Monthly Report",show:!1,download:!1,editable:!1},user_usage:{name:"User Usage",show:!1,download:!1,editable:!1}},user_management:{name:"User Management",show:!1,download:!1,editable:!1},reach_us:{name:"Reach Us",show:!1,download:!1,editable:!1},department:{name:"Manage Department",show:!1,download:!1,editable:!1},plan:{name:"Manage Plan",show:!1,download:!1,editable:!1},manifest:{name:"Manifest",show:!1,download:!1,editable:!1},weight_discrepancy:{name:"Weight Discrepancy",show:!1,download:!1,editable:!1,weight_dispute:{name:"Weight Dispute",show:!1,download:!1,editable:!1},weight_dispute_upload:{name:"Weight Dispute Upload",show:!1,download:!1,editable:!1}},pin_code_search:{name:"Pin Code Search",show:!1,download:!1,editable:!1},role_management:{name:"Role Management",show:!1,download:!1,editable:!1},billing_and_wallet:{name:"Billing & Wallet",show:!1,download:!1,editable:!1,wallet:{name:"Wallet Details",show:!1,download:!1,editable:!1},invoice:{name:"Invoice Details",show:!1,download:!1,editable:!1}},remittance:{name:"Remittance",show:!1,download:!1,editable:!1,account_listing:{name:"Account Listing",show:!1,download:!1,editable:!1},confirmation_csv:{name:"Confirmation CSV",show:!1,download:!1,editable:!1}},global_password:{name:"Global Password",show:!1,download:!1,editable:!1},core_api_key:{name:"API key",show:!1,download:!1,editable:!1}},en=Object(p.b)((function(e){return{}}),(function(e){return{}}))((function(e){var t=e.section,i=void 0===t?{}:t,l=e.handleChange,a=function(e){return function(t){"show"!==e||t||Object.keys(i).map((function(e){"boolean"===typeof i[e]&&(i[e]=!1)})),l&&l(Object(M.a)(Object(M.a)({},i),{},Object(u.a)({},e,t)))}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:null===i||void 0===i?void 0:i.name}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)($i.a,{onChange:a("show"),checked:null===i||void 0===i?void 0:i.show,uncheckedIcon:!1,checkedIcon:!1,onColor:"#86d3ff",onHandleColor:"#2693e6",boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",height:20,width:48}),Object(n.jsx)("span",{className:"pl-2",children:"Show /Hide"})]})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)($i.a,{onChange:a("download"),checked:(null===i||void 0===i?void 0:i.show)&&(null===i||void 0===i?void 0:i.download),disabled:!(null===i||void 0===i?void 0:i.show),uncheckedIcon:!1,checkedIcon:!1,onColor:"#86d3ff",onHandleColor:"#2693e6",boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",height:20,width:48}),Object(n.jsx)("span",{className:"pl-2",children:"Download"})]})})]})})})),tn=function(e){var t=e.section,i=void 0===t?{}:t,l=e.handleChange,a=function(e){return function(t){var n=Object(M.a)(Object(M.a)({},i),{},Object(u.a)({},e,t));if("show"!==e||t)if("show"===e||"editable"===e||"download"===e)Object.keys(n).map((function(i){var l=n[i];"object"===typeof l&&(l[e]=t)}));else{var a=!0,o=!0,r=!0;Object.keys(n).map((function(e){var t=n[e];"object"===typeof t&&(a=a&&(null===t||void 0===t?void 0:t.show),o=a&&o&&(null===t||void 0===t?void 0:t.download),r=a&&r&&(null===t||void 0===t?void 0:t.editable))})),n=Object(M.a)(Object(M.a)({},n),{},{show:a,download:o,editable:r})}else Object.keys(n).map((function(e){var t=n[e];"boolean"===typeof n[e]?n[e]=!1:"object"===typeof t&&Object.keys(t).map((function(e){"boolean"===typeof t[e]&&(t[e]=!1)}))}));l&&l(n)}};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"th-bg",children:[Object(n.jsx)("th",{children:null===i||void 0===i?void 0:i.name}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)($i.a,{onChange:a("show"),checked:null===i||void 0===i?void 0:i.show,uncheckedIcon:!1,checkedIcon:!1,onColor:"#86d3ff",onHandleColor:"#2693e6",boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",height:20,width:48}),Object(n.jsx)("span",{className:"pl-2",children:"Show / Hide"})]})}),Object(n.jsx)("th",{children:Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)($i.a,{onChange:a("download"),checked:(null===i||void 0===i?void 0:i.download)&&(null===i||void 0===i?void 0:i.show),disabled:!(null===i||void 0===i?void 0:i.show),uncheckedIcon:!1,checkedIcon:!1,onColor:"#86d3ff",onHandleColor:"#2693e6",boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",height:20,width:48}),Object(n.jsx)("span",{className:"pl-2",children:"Download"})]})})]})}),Object(n.jsx)("tbody",{children:Object.keys(i).map((function(e){return e&&"object"===typeof i[e]&&Object(n.jsx)(en,{section:i[e],handleChange:a(e)},e)}))})]})},nn=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(v.a)(this,i),(n=t.call(this,e)).setDefault=function(){var e=n.props.role,t=!0,i=Object.assign({},Zi,null===e||void 0===e?void 0:e.permissions);Object.keys(i).map((function(e){var n=i[e];"boolean"===typeof n&&"show"===n||"download"===n?t=t&&n:"object"===typeof n&&Object.keys(n).map((function(e){"boolean"===typeof n[e]&&"show"===e||"download"===e?t=t&&n[e]:"object"===typeof n[e]&&Object.keys(n[e]).map((function(i){("boolean"===typeof n[e][i]&&"show"===i||"download"===i)&&(t=t&&n[e][i])}))}))})),n.setState({name:(null===e||void 0===e?void 0:e.name)||"",show:t,permissions:i})},n.handleChange=function(e){return function(t){var i=t.target.value;n.setState(Object(u.a)({},e,i))}},n.handleSectionChange=function(e){return function(t){var i=n.props,l=i.role,a=i.creating,o=n.state.permissions,r=!0;(null===l||void 0===l?void 0:l.updating)||a||(o=Object(M.a)(Object(M.a)({},o),{},Object(u.a)({},e,t)),Object.keys(o).map((function(e){var t=o[e];"boolean"===typeof t&&"show"===t||"download"===t?r=r&&t:"object"===typeof t&&Object.keys(t).map((function(e){"boolean"===typeof t[e]&&"show"===e||"download"===e?r=r&&t[e]:"object"===typeof t[e]&&Object.keys(t[e]).map((function(i){("boolean"===typeof t[e][i]&&"show"===i||"download"===i)&&(r=r&&t[e][i])}))}))})),n.setState({show:r,permissions:o}))}},n.handleAllSectionChange=function(e){var t=n.props,i=t.role,l=t.creating,a=n.state.permissions;(null===i||void 0===i?void 0:i.updating)||l||(Object.keys(a).map((function(t){var i=a[t];"boolean"===typeof i||"object"===typeof i&&Object.keys(i).map((function(t){"boolean"===typeof i[t]?i[t]=e:"object"===typeof i[t]&&Object.keys(i[t]).map((function(n){"boolean"===typeof i[t][n]&&(i[t][n]=e)}))}))})),n.setState({show:e,permissions:a}))},n.hasError=function(){var e=n.state,t=e.name,i=(e.permissions,""),l=!1;return t||(i="Please enter role name",l=!0),n.setState({nameErr:i}),l},n.onSaveRole=function(e){if(e.preventDefault(),!n.hasError()){var t=n.props,i=t.roleId,l=t.createRole,a=t.updateRole,o=(t.history,n.state),r={name:o.name,permissions:o.permissions};i?(r._id=i,a(r)):l(r)}},n.onGoBack=function(){n.props.history.replace("/app/role")};var l=e.role;return n.state={name:(null===l||void 0===l?void 0:l.name)||"",show:!1,permissions:Object.assign({},Zi,null===l||void 0===l?void 0:l.permissions),nameErr:""},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.roleId,i=e.role,n=e.fetchRole;t&&!i&&n&&n(t),this.setDefault()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props,n=i.role,l=i.creating,a=i.history;!(null===(t=e.role)||void 0===t?void 0:t._id)&&(null===n||void 0===n?void 0:n._id)&&this.setDefault(),e.creating&&!l&&a.replace("/app/role")}},{key:"render",value:function(){var e,t=this,i=this.props,l=i.roleId,a=i.role,o=i.creating,r=this.state,s=r.name,d=r.permissions,c=r.nameErr;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between pb-1",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{className:"main-content-title tx-24 mg-b-5",children:[l?"Edit":"Create"," Role"]}),Object(n.jsx)(we,{title:["Role Management","".concat(l?"Edit":"Create"," Role")]})]})}),Object(n.jsxs)("div",{className:"page-title-right",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",disabled:(null===a||void 0===a?void 0:a.updating)||o,onClick:this.onSaveRole,children:(null===a||void 0===a?void 0:a.updating)||o?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("samp",{className:"spinner-border spinner-border-sm mr-2",role:"status"}),Object(n.jsxs)("span",{className:"visually-hidden",children:[l?"Saving":"Creating","..."]})]}):"".concat(l?"Save":"Create"," Role")}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-2"}),"Back"]})]})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("form",{action:"#",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 pt-3",children:[Object(n.jsxs)("div",{className:"row align-items-center",children:[Object(n.jsx)("div",{className:"col-md-3 pr-0",children:Object(n.jsxs)("label",{htmlFor:"",children:["Role Name ",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]})}),Object(n.jsx)("div",{className:"col-md-6 pl-0",children:Object(n.jsx)(I,{value:s,onChange:this.handleChange("name"),errorText:c})})]}),Object(n.jsxs)("div",{className:"row align-items-center pt-3",children:[Object(n.jsx)("div",{className:"col-md-3 pr-0",children:Object(n.jsx)("label",{htmlFor:"",children:"Permission"})}),Object(n.jsxs)("div",{className:"col-md-6 pl-0 d-flex",children:[Object(n.jsx)($i.a,{onChange:this.handleAllSectionChange,checked:this.state.show,uncheckedIcon:!1,checkedIcon:!1,onColor:"#86d3ff",onHandleColor:"#2693e6",boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",height:20,width:48}),Object(n.jsx)("span",{className:"pl-2",children:"Allow all (show / download)"})]})]}),Object(n.jsxs)("div",{className:"row align-items-center pt-3",children:[Object(n.jsx)("div",{className:"col-md-3 pr-0",children:Object(n.jsx)("label",{htmlFor:"",children:"Show all orders"})}),Object(n.jsx)("div",{className:"col-md-6 pl-0 d-flex",children:Object(n.jsx)($i.a,{onChange:this.handleSectionChange("showAllOrders"),checked:null===(e=this.state.permissions)||void 0===e?void 0:e.showAllOrders,uncheckedIcon:!1,checkedIcon:!1,onColor:"#86d3ff",onHandleColor:"#2693e6",boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",height:20,width:48})})]})]})})})}),Object(n.jsx)("div",{className:"col-md-12 mb-4",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Permission to roles"}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("table",{className:"table table-striped table-bordered dt-responsive nowrap editrole_tbl",children:Object.keys(d).map((function(e){return"object"===typeof d[e]&&Object(n.jsx)(tn,{section:d[e],handleChange:t.handleSectionChange(e)},e)}))})})]})})]})})})]})}}]),i}(l.Component),ln=(Object(p.b)((function(e,t){var i,n,l=t.match,a=null===l||void 0===l||null===(i=l.params)||void 0===i?void 0:i.id,o=e.role.roles[a],r=(null===(n=e.role)||void 0===n?void 0:n.boards)[JSON.stringify({})];return{roleId:a,role:o,creating:null===r||void 0===r?void 0:r.creating}}),(function(e){return{fetchRole:function(t){return e(function(e){return{type:it.FETCH_REQUEST,payload:e}}(t))},createRole:function(t){return e(function(e){return{type:it.CREATE_REQUEST,payload:e}}(t))},updateRole:function(t){return e(lt(t))}}}))(nn),Object(p.b)((function(e,t){var i,n=t.id,l=null===(i=e.users)||void 0===i?void 0:i.usages;return{userId:n,mUser:n&&l&&l[n]}}),(function(e){return{}}))((function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=i.index,a=void 0===l?0:l,o=(i.userId,i.mUser),r=(i.history,o.usage_detail),s=void 0===r?{}:r;if(!o)return Object(n.jsx)(n.Fragment,{});return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:a+1}),Object(n.jsx)("td",{children:(null===o||void 0===o||null===(e=o.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.name)||"Client"}),Object(n.jsxs)("td",{children:[null===o||void 0===o?void 0:o.first_name," ",null===o||void 0===o?void 0:o.last_name]}),Object(n.jsx)("td",{children:(null===s||void 0===s?void 0:s.total_order_count)||0}),Object(n.jsx)("td",{children:parseFloat((null===s||void 0===s?void 0:s.total_amount)||0).toFixed(2)}),Object(n.jsx)("td",{children:(null===s||void 0===s?void 0:s.last_order_date)?f()(null===s||void 0===s?void 0:s.last_order_date).format("DD MMM YYYY"):"-"}),Object(n.jsx)("td",{children:(null===o||void 0===o?void 0:o.created_at)?f()(o.created_at).format("D MMM YYYY, h:mm a"):"-"})]},a)}))),an=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(v.a)(this,i),(n=t.call(this,e)).loadMore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=n.state,l=i.searchText,a=i.fromDate,o=i.toDate,r=n.props,s=r.location,d=r.meta,c=r.list,u=r.fetchAllUsersUsage;if(l=l.trim(),0===e||(null===d||void 0===d?void 0:d.total_count)>(null===c||void 0===c?void 0:c.length)){var v={pathname:null===s||void 0===s?void 0:s.pathname,offset:e,limit:t};l&&(v.text=l),a&&(v.created_from=f()(a).startOf("day").utc().format()),o&&(v.created_to=f()(o).endOf("day").utc().format()),u&&u(v)}},n.selectDateFrom=function(e){if(null!==n.state.toDate&&f()(e).isAfter(f()(n.state.toDate)))return n.setState({error:"From date should not be greater than to date"}),!1;console.log("date",e),n.setState({fromDate:e,error:null})},n.selectDateTo=function(e){if(null!==n.state.fromDate&&f()(e).isBefore(f()(n.state.fromDate)))return n.setState({error:"To date should not be less than from date"}),!1;n.setState({toDate:e,error:null})},n.onFilterOrder=function(){n.setState({error:null}),n.loadMore()},n.onReset=function(){n.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",logistic_id:"",error:null,searchText:""},n.onFilterOrder)},n.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({searchText:e.trim()},n.loadMore)},n.onDownload=function(){var e=n.state,t=e.searchText,i=e.fromDate,l=e.toDate,a={};(t=t.trim())&&(a.text=t),i&&(a.created_from=f()(i).startOf("day").utc().format()),l&&(a.created_to=f()(l).endOf("day").utc().format()),n.setState({downloading:!0}),Y()({method:"GET",url:"".concat(K.USERS_URL,"/usage-download"),params:a,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){console.log("res.data",e,typeof e.data),Pe()(e.data,"user-usage-".concat(f()().format("DD-MM-YYYY"),".xlsx")),n.setState({downloading:!1})})).catch((function(e){L("error","Error in Download file"),console.log("onDownloadUsage ",e),n.setState({downloading:!1})}))};var l=e.filter;return n.state={searchText:(null===l||void 0===l?void 0:l.text)||"",fromDate:(null===l||void 0===l?void 0:l.created_from)&&f()(null===l||void 0===l?void 0:l.created_from).toDate()||null,toDate:(null===l||void 0===l?void 0:l.created_to)&&f()(null===l||void 0===l?void 0:l.created_to).toDate()||null,error:null,downloading:!1},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMore()}},{key:"render",value:function(){var e,t,i,l,o=this,r=this.state,s=r.searchText,d=r.downloading,c=this.props,u=c.list,v=c.meta,j=c.loading,b=c.filter,m=c.loggedInUser,h=(null===v||void 0===v?void 0:v.total_amount)||0,p=(null===v||void 0===v?void 0:v.total_individual_count)||0,O=(null===v||void 0===v?void 0:v.total_bulk_upload_count)||0,g=(null===v||void 0===v?void 0:v.total_bulk_order_count)||0,x=(null===m||void 0===m||null===(e=m.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.permissions)||{};return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"User Usage"}),Object(n.jsx)(we,{title:["Reports","User Usage"]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card ttl_amt",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/rupee.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:parseFloat(h).toFixed(2)}),Object(n.jsx)("p",{className:"mb-0",children:"Total Amount"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card indivisual_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/indivisual.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:p}),Object(n.jsx)("p",{className:"mb-0",children:"Individual Shipments"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card bulk_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/bulk.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{className:"mb-0",children:[O,"(",g,")"]}),Object(n.jsx)("p",{className:"mb-0",children:"Bulk Upload"})]})]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Filter"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"row order_filter",children:[Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.fromDate,onChange:this.selectDateFrom,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"From",isClearable:!0}),!this.state.fromDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.toDate,onChange:this.selectDateTo,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"To",isClearable:!0}),!this.state.toDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("div",{className:"filter_btns d-flex align-items-start",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",onClick:this.onFilterOrder,style:{width:80},children:"Search"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-icon-text",onClick:this.onReset,style:{width:80},children:"Reset"})]})}),(null===x||void 0===x||null===(i=x.report)||void 0===i||null===(l=i.user_usage)||void 0===l?void 0:l.download)&&(null===v||void 0===v?void 0:v.total_count)>=1&&Object(n.jsx)("div",{className:"col-md-4 col-sm-5",children:Object(n.jsx)("div",{className:"filter_btns d-flex align-items-start justify-content-end",children:Object(n.jsx)("button",{className:"btn btn-link ml-2 btn-icon-text",onClick:this.onDownload,disabled:d,children:d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"bx bx-loader bx-spin"}),Object(n.jsx)("span",{children:"Downloading"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"fa fa-download mr-2","aria-hidden":"true"}),Object(n.jsx)("span",{children:"Download"})]})})})})]})}),this.state.error&&Object(n.jsx)("div",{className:"mt-1",style:{color:"red"},children:this.state.error})]})]})})}),Object(n.jsx)(Le,{headings:["No","User Type","Name","Total shipments","Total amount",{text:"Last shipment date",style:{}},{text:"Created at",style:{}}],filter:b,searchPlaceholder:"Search by name",defaultSearchText:s,onSearch:this.onSearch,totalEntries:null===v||void 0===v?void 0:v.total_count,rowData:u,loadMore:this.loadMore,loading:j,renderRow:function(e,t){return Object(n.jsx)(ln,{id:e,index:t,history:o.props.history})}})]})}}]),i}(l.Component),on=(Object(p.b)((function(e,t){var i,n,l,a,o=t.location,r=null===o||void 0===o?void 0:o.pathname,s=null===(i=e.users)||void 0===i?void 0:i.filters[r],d=(null===(n=e.users)||void 0===n?void 0:n.usageBoards)[JSON.stringify(s||{})];return{filter:s,list:null===d||void 0===d?void 0:d.list,meta:null===d||void 0===d?void 0:d.meta,loading:null===d||void 0===d?void 0:d.loading,loggedInUser:null===(l=e.loggedInUser)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data}}),(function(e){return{fetchAllUsersUsage:function(t){return e(function(e){return{type:Je.FETCH_ALL_USAGE_REQUEST,payload:Object(M.a)(Object(M.a)({},e||{}),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||30})}}(t))}}}))(an),Object(p.b)((function(e,t){var i,n=t.id,l=null===(i=e.order)||void 0===i?void 0:i.orders;return{orderId:n,order:n&&l&&l[n]}}),(function(e){return{}}))((function(){var e,t,i,a,o,r,s,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=c.index,v=void 0===u?0:u,j=c.orderId,b=c.order,m=Object(l.useState)({isLoading:!1}),h=Object(H.a)(m,2),p=h[0],O=h[1],g=p.isLoading;if(!b)return Object(n.jsx)(n.Fragment,{});var x,_,E=function(e){var t,i={user_id:null===b||void 0===b||null===(t=b.created_by)||void 0===t?void 0:t._id};(null===b||void 0===b?void 0:b.bulk_id)?i.bulk_id=null===b||void 0===b?void 0:b.bulk_id:i.order_id=j,g||(O({isLoading:!0}),Y()({method:"GET",url:K.ORDER_INVOICE_DOWNLOAD,params:i,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){var t;console.log("res.data",e),Pe()(e.data,"invoice-".concat(null===b||void 0===b||null===(t=b.invoice)||void 0===t?void 0:t.invoice_number,".pdf")),O({isLoading:!1})})).catch((function(e){L("error","Error in Download file"),console.log("onDownloadOrder ",e),O({isLoading:!1})})))},N=null===b||void 0===b?void 0:b.transaction_id,y=Array.isArray(null===b||void 0===b?void 0:b.orderStatus)&&b.orderStatus.length>0&&b.orderStatus[0],S=Array.isArray(null===y||void 0===y?void 0:y.scan_detail)&&(null===(e=y.scan_detail)||void 0===e?void 0:e.length)>0&&y.scan_detail[y.scan_detail.length-1],C=Array.isArray(null===y||void 0===y?void 0:y.scan_detail)&&(null===(t=y.scan_detail)||void 0===t?void 0:t.length)>0&&(null===y||void 0===y?void 0:y.scan_detail.find((function(e){var t,i;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toLowerCase().includes("delivered"))&&!(null===e||void 0===e||null===(i=e.status)||void 0===i?void 0:i.toLowerCase().includes("undelivered"))}))),w=(null===b||void 0===b?void 0:b.comments)||[],T=b.available_logistic[0].tat_score,A=(null===C||void 0===C?void 0:C.updated_date)?null===C||void 0===C?void 0:C.updated_date:f()(),R=(null===N||void 0===N?void 0:N.created_at)&&f()(f.a.utc(null===N||void 0===N?void 0:N.created_at).format("DD-MM-YYYY"),"DD-MM-YYYY"),k=f()(f.a.utc(A).format("DD-MM-YYYY"),"DD-MM-YYYY"),D=(R&&f()(R).add(Number(T),"days"),f.a.duration(k.diff(R)).asDays());return"UNDELIVERED"===String(null===S||void 0===S?void 0:S.status).trim().toUpperCase()||"UNDELIVERED"===String(null===S||void 0===S?void 0:S.status_description).trim().toUpperCase()||"UNDELIVERED"===String(null===b||void 0===b?void 0:b.latest_order_status).trim().toUpperCase()||N&&Number(D)>Number(T)?_="#f8d7da":(null===w||void 0===w?void 0:w.length)>0&&(_="#fff3cd"),(N||(null===b||void 0===b?void 0:b.ewaybill_number))&&Array.isArray(null===b||void 0===b?void 0:b.available_logistic)&&(null===b||void 0===b||null===(i=b.available_logistic)||void 0===i?void 0:i.length)>0&&(x=null===b||void 0===b?void 0:b.available_logistic[0]),Object(n.jsxs)("tr",{style:{background:_},children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:v+1}),Object(n.jsxs)("td",{children:[null===b||void 0===b?void 0:b.ewaybill_number,Object(n.jsx)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:(null===b||void 0===b?void 0:b.bulk_id)?"warning":"primary",children:(null===b||void 0===b?void 0:b.bulk_id)?"Bulk":"Individual"})]}),Object(n.jsx)("td",{style:{letterSpacing:1},children:(null===b||void 0===b?void 0:b.order_date)&&f()(b.order_date).format("D MMM YYYY, h:mm:ss a")}),Object(n.jsxs)("td",{style:{textTransform:"cod"===(null===b||void 0===b?void 0:b.payment_method)?"uppercase":"capitalize"},children:[null===b||void 0===b?void 0:b.payment_method,Object(n.jsx)("span",{className:"ml-1",children:(null===b||void 0===b?void 0:b.action_done)?Object(n.jsx)("i",{className:"fas fa-check-double"}):(null===b||void 0===b?void 0:b.sent_to_am)&&Object(n.jsx)("i",{className:"fas fa-check"})})]}),Object(n.jsx)("td",{style:{textTransform:"lowercase"},children:(null===(a=x)||void 0===a?void 0:a.name)||"-"}),Object(n.jsx)("td",{children:(null===(o=x)||void 0===o||null===(r=o.price)||void 0===r?void 0:r.day)?"".concat(null===(s=x)||void 0===s||null===(d=s.price)||void 0===d?void 0:d.day," days"):"-"}),Object(n.jsx)("td",{style:{textAlign:"center"},children:Object(n.jsx)("samp",{className:"".concat(g?void 0:"pointer"),"data-title":g?void 0:"Download Invoice",onClick:!g&&E,children:g?Object(n.jsx)("i",{className:"bx bx-loader bx-spin"}):Object(n.jsx)("i",{className:"fa fa-download","aria-hidden":"true"})})})]},v)}))),rn=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n,l;Object(v.a)(this,i),(l=t.call(this,e)).loadMore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=l.state,n=i.fromDate,a=i.toDate,o=l.props,r=o.userId,s=o.fetchAllOrders,d=o.list,c=o.meta,u=o.location;if(0===e||(null===c||void 0===c?void 0:c.total_count)>(null===d||void 0===d?void 0:d.length)){var v={pathname:null===u||void 0===u?void 0:u.pathname,offset:e,limit:t,payment_status:"complete",created_by:r};n&&(v.created_from=f()(n).startOf("day").utc().format()),a&&(v.created_to=f()(a).endOf("day").utc().format()),s&&s(v)}},l.selectDateFrom=function(e){if(null!==l.state.toDate&&f()(e).isAfter(f()(l.state.toDate)))return l.setState({error:"From date should not be greater than to date"}),!1;l.setState({fromDate:e,error:null})},l.selectDateTo=function(e){if(null!==l.state.fromDate&&f()(e).isBefore(f()(l.state.fromDate)))return l.setState({error:"To date should not be less than from date"}),!1;l.setState({toDate:e,error:null})},l.onFilterOrder=function(){l.setState({error:null}),l.loadMore()},l.reset=function(){l.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",logistic_id:"",awbNumber:"",error:null},l.onFilterOrder)},l.onGoBack=function(){l.props.history.replace("/app/userusage")};var a=null===e||void 0===e?void 0:e.filter;return l.state={fromDate:(null===a||void 0===a?void 0:a.created_from)&&f()(null===a||void 0===a?void 0:a.created_from).toDate()||null,toDate:(null===a||void 0===a?void 0:a.created_to)&&f()(null===a||void 0===a?void 0:a.created_to).toDate()||null,error:null,filter:JSON.stringify({pathname:null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.pathname}),order:null},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.userId,i=e.fetchUserUsageRequest;t&&i&&i(t),this.loadMore()}},{key:"render",value:function(){var e=this,t=this.props,i=t.mUser,l=void 0===i?{}:i,o=t.list,r=t.meta,s=t.loading,d=t.filter,c=(null===r||void 0===r?void 0:r.total_amount)||0,u=(null===r||void 0===r?void 0:r.total_individual_count)||0,v=(null===r||void 0===r?void 0:r.total_bulk_upload_count)||0,j=(null===r||void 0===r?void 0:r.total_bulk_order_count)||0;return Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsx)("div",{children:Object(n.jsxs)("h2",{className:"main-content-title tx-24 mg-b-5",children:[null===l||void 0===l?void 0:l.first_name," Usage Report"]})})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:this.onGoBack,children:[Object(n.jsx)("i",{className:"fa fa-arrow-circle-left mr-2"}),"Back"]})})]})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card ttl_amt",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/rupee.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:parseFloat(c).toFixed(2)}),Object(n.jsx)("p",{className:"mb-0",children:"Total Amount"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card indivisual_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/indivisual.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:u}),Object(n.jsx)("p",{className:"mb-0",children:"Individual Shipments"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card bulk_orders",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/bulk.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{className:"mb-0",children:[v,"(",j,")"]}),Object(n.jsx)("p",{className:"mb-0",children:"Bulk Upload"})]})]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Filter"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:"row order_filter",children:[Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.fromDate,onChange:this.selectDateFrom,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"From",isClearable:!0}),!this.state.fromDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.toDate,onChange:this.selectDateTo,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"To",isClearable:!0}),!this.state.toDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-4",children:Object(n.jsxs)("div",{className:"filter_btns d-flex align-items-start",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",onClick:this.onFilterOrder,style:{width:80},children:"Search"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-icon-text",onClick:this.reset,style:{width:80},children:"Reset"})]})})]})}),this.state.error&&Object(n.jsx)("div",{className:"mt-1",style:{color:"red"},children:this.state.error})]})]})})}),Object(n.jsx)(Le,{headings:["No.","AWB Number","Shipment Date","Payment Mode","Delivery partner","Estimated TAT","Action"],showSearch:!1,filter:d,totalEntries:(null===r||void 0===r?void 0:r.totalCount)||(null===r||void 0===r?void 0:r.total_count),rowData:o,loadMore:this.loadMore,loading:s,renderRow:function(t,i){return Object(n.jsx)(on,{id:t,index:i,history:e.props.history,showOrderDetails:!1,showStatus:!1,showRefresh:!1,showCancel:!1,showTicket:!1,showCreateRTO:!1})}})]})}}]),i}(l.Component),sn=(Object(p.b)((function(e,t){var i,n,l,a,o=t.location,r=t.match,s=null===o||void 0===o?void 0:o.pathname,d=null===r||void 0===r||null===(i=r.params)||void 0===i?void 0:i.id,c=null===(n=e.users)||void 0===n?void 0:n.usages,u=d&&c&&c[d],v=null===(l=e.order)||void 0===l?void 0:l.filters[s],j=(null===(a=e.order)||void 0===a?void 0:a.boards)[JSON.stringify(v||{})];return{filter:v,userId:d,mUser:u,list:null===j||void 0===j?void 0:j.list,meta:null===j||void 0===j?void 0:j.meta,loading:null===j||void 0===j?void 0:j.loading}}),(function(e){return{fetchUserUsageRequest:function(t){return e(function(e){return{type:Je.FETCH_USER_USAGE_REQUEST,payload:{user_id:e}}}(t))},fetchAllOrders:function(t){return e(he(t))}}}))(rn),Object(p.b)((function(e,t){var i,n=t.id,l=null===(i=e.order)||void 0===i?void 0:i.orders;return{orderId:n,order:n&&l&&l[n]}}),(function(e){return{}}))((function(){var e,t,i,l,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o.index,s=void 0===r?0:r,d=(o.orderId,o.order),c=void 0===d?{}:d;if(!c)return Object(n.jsx)(n.Fragment,{});console.log("order",c);var u=c.product_details,v=void 0===u?{}:u,j=c.created_by,b=void 0===j?{}:j,m=c.invoice,h=void 0===m?{}:m,p=(c.transaction_id,c.available_logistic),O=void 0===p?[]:p,g=c.rto_init,x=c.orderStatus,_=void 0===x?[]:x,E=c.delivery_date,N=Array.isArray(O)&&O.length>0?O[0]:{},y=null===N||void 0===N?void 0:N.price,S=0,C=0;g?(S=2*(null===y||void 0===y?void 0:y.total_value),C=.18*(null===y||void 0===y?void 0:y.total_value)*2):(S=(null===y||void 0===y?void 0:y.total_value)+((null===y||void 0===y?void 0:y.cod_charges)||0),C=null===y||void 0===y?void 0:y.tax);var w,T,A,R,k,D=[];Array.isArray(null===(e=_[0])||void 0===e?void 0:e.scan_detail)&&(null===(t=_[0])||void 0===t?void 0:t.scan_detail.length)>0&&((D=Object(Ae.a)(null===(w=_[0])||void 0===w?void 0:w.scan_detail)).length>1&&(null===(T=D[0])||void 0===T?void 0:T.updated_date)&&(null===(A=D[D.length-1])||void 0===A?void 0:A.updated_date)&&f()(null===(R=D[0])||void 0===R?void 0:R.updated_date).isBefore(null===(k=D[D.length-1])||void 0===k?void 0:k.updated_date)&&D.reverse());return Object(n.jsxs)("tr",{style:{whiteSpace:"nowrap"},children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:s+1}),Object(n.jsxs)("td",{children:[null===b||void 0===b?void 0:b.first_name," ",null===b||void 0===b?void 0:b.last_name]}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{style:{width:500,overflow:"hidden",textOverflow:"ellipsis"},"data-title":null===b||void 0===b||null===(i=b.bank_detail)||void 0===i?void 0:i.gst_address,children:null===b||void 0===b||null===(l=b.bank_detail)||void 0===l?void 0:l.gst_address})}),Object(n.jsx)("td",{children:null===b||void 0===b||null===(a=b.bank_detail)||void 0===a?void 0:a.gst_number}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:null===b||void 0===b?void 0:b.mobile_number}),Object(n.jsx)("td",{children:null===b||void 0===b?void 0:b.email}),Object(n.jsx)("td",{children:null===h||void 0===h?void 0:h.invoice_number}),Object(n.jsx)("td",{children:E&&f()(E).format("DD/MM/YYYY")||"-"}),Object(n.jsx)("td",{children:null===c||void 0===c?void 0:c.ewaybill_number}),Object(n.jsx)("td",{children:null===v||void 0===v?void 0:v.product_name}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:parseFloat(S||0).toFixed(2)}),Object(n.jsx)("td",{children:parseFloat(C||0).toFixed(2)}),Object(n.jsx)("td",{children:parseFloat((S||0)+(C||0)).toFixed(2)}),Object(n.jsx)("td",{})]},s)}))),dn=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(v.a)(this,i),(n=t.call(this,e)).loadMoreOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=n.state,l=i.fromDate,a=i.toDate,o=i.orderType,r=(i.payment_method,i.logistic_id),s=n.props,d=s.fetchAllOrders,c=s.orderList,u=s.orderMeta,v=s.location;if(0===e||(null===u||void 0===u?void 0:u.total_count)>(null===c||void 0===c?void 0:c.length)){var j={pathname:null===v||void 0===v?void 0:v.pathname,offset:e,limit:t,order_status:"delivered",payment_status:"complete"};l&&(j.delivery_from=f()(l).startOf("day").utc().format()),a&&(j.delivery_to=f()(a).endOf("day").utc().format()),o&&"all"!==o&&(j.order_type=o),r&&"all"!==r&&(j.logistic_id=r),d&&d(j)}},n.selectDateFrom=function(e){if(null!==n.state.toDate&&f()(e).isAfter(f()(n.state.toDate)))return n.setState({error:"From date should not be greater than to date"}),!1;n.setState({fromDate:e,error:null})},n.selectDateTo=function(e){if(null!==n.state.fromDate&&f()(e).isBefore(f()(n.state.fromDate)))return n.setState({error:"To date should not be less than from date"}),!1;n.setState({toDate:e,error:null})},n.handleChange=function(e){return function(t){var i,l=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;n.setState(Object(u.a)({},e,l))}},n.onFilterOrder=function(){n.setState({error:null}),n.loadMoreOrders()},n.onDownloadOrder=function(){var e=n.state,t=e.fromDate,i=e.toDate,l=n.props,a=l.downloadInvoiceOrders,o=l.location,r={pathname:null===o||void 0===o?void 0:o.pathname,order_status:"delivered",payment_status:"complete"};t&&(r.delivery_from=f()(t).startOf("day").utc().format()),i&&(r.delivery_to=f()(i).endOf("day").utc().format()),a&&a(r)},n.reset=function(){n.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",logistic_id:"",awbNumber:"",error:null},n.onFilterOrder)},n.onShowPrintPreview=function(){n.props.history.push("/app/ManifestPickup/")},n.onDeselectAll=function(){var e=n.props,t=e.printSelection,i=e.selectOrders;i&&i(t,!1)};var l=null===e||void 0===e?void 0:e.filter;return n.state={fromDate:(null===l||void 0===l?void 0:l.created_from)&&f()(null===l||void 0===l?void 0:l.created_from).toDate()||null,toDate:(null===l||void 0===l?void 0:l.created_to)&&f()(null===l||void 0===l?void 0:l.created_to).toDate()||null,orderType:(null===l||void 0===l?void 0:l.order_type)||"all",logistic_id:(null===l||void 0===l?void 0:l.logistic_id)||""},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMoreOrders()}},{key:"render",value:function(){var e=this,t=this.props,i=t.orderList,l=t.orderMeta,a=t.loading,o=t.filter,r=t.downloading,s=(null===l||void 0===l?void 0:l.total_amount)||0,d=(null===l||void 0===l?void 0:l.total_tax)||0,c=(null===l||void 0===l?void 0:l.total_amount_with_tax)||0;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between pb-1",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Invoice Details"}),Object(n.jsx)(we,{title:["Billing & Wallet","Invoice Details"]})]})})})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card ttl_amt",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/rupee.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:parseFloat(c).toFixed(2)}),Object(n.jsx)("p",{className:"mb-0",children:"Total Amount with GST"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card ttl_amt",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/rupee.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:parseFloat(s).toFixed(2)}),Object(n.jsx)("p",{className:"mb-0",children:"Total Amount"})]})]})}),Object(n.jsx)("div",{className:"col-xl-3",children:Object(n.jsxs)("div",{className:"card flex-row align-items-center common_card ttl_amt",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"/images/rupee.png"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"mb-0",children:parseFloat(d).toFixed(2)}),Object(n.jsx)("p",{className:"mb-0",children:"Total GST Amount"})]})]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Filter"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"row order_filter",children:[Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.fromDate,onChange:this.selectDateFrom,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"From",maxDate:new Date,isClearable:!0}),!this.state.fromDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{children:[Object(n.jsx)(St.a,{selected:this.state.toDate,onChange:this.selectDateTo,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"To",maxDate:new Date,isClearable:!0}),!this.state.toDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("div",{className:"filter_btns d-flex align-items-start",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",onClick:this.onFilterOrder,style:{width:80},children:"Search"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-icon-text",onClick:this.reset,style:{width:80},children:"Reset"})]})}),((null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count))>=1&&Object(n.jsx)("div",{className:"col-md-4 col-sm-5",children:Object(n.jsx)("div",{className:"filter_btns d-flex align-items-start justify-content-end",children:Object(n.jsx)("button",{className:"btn btn-link ml-2 btn-icon-text",onClick:this.onDownloadOrder,disabled:r,children:r?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"bx bx-loader bx-spin"}),Object(n.jsx)("span",{children:"Downloading"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"fa fa-download mr-2","aria-hidden":"true"}),Object(n.jsx)("span",{children:"Download"})]})})})})]})}),this.state.error&&Object(n.jsx)("div",{className:"mt-1",style:{color:"red"},children:this.state.error})]})]})})}),Object(n.jsx)(Le,{headings:["No","Party Name","Address","GST No.","State Name","Contact Person","Contact No.","E-mail","Invoice No.","Invoice Date","AWB No.","Item Name","Description","Amount","GST @ 18%","Total with GST","Narration"],showSearch:!1,totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),rowData:i,renderRow:function(t,i){return Object(n.jsx)(sn,Object(M.a)({id:t,index:i,showSelect:!0},e.props))},loading:a,filter:o,loadMore:this.loadMoreOrders})]})}}]),i}(l.Component),cn=(Object(p.b)((function(e,t){var i,n,l,a=t.location,o=null===(i=e.logistics)||void 0===i?void 0:i.data,r=null===a||void 0===a?void 0:a.pathname,s=null===(n=e.order)||void 0===n?void 0:n.filters[r],d=(null===(l=e.order)||void 0===l?void 0:l.boards)[JSON.stringify(s||{})];return{filter:s,orderList:null===d||void 0===d?void 0:d.list,orderMeta:null===d||void 0===d?void 0:d.meta,loading:null===d||void 0===d?void 0:d.loading,downloading:null===d||void 0===d?void 0:d.downloading,logistics:o}}),(function(e){return{fetchAllOrders:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:me.FETCH_ALL_INVOICE_ORDERS_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||100})}}(t))},downloadInvoiceOrders:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:me.DOWNLOAD_ALL_INVOICE_ORDERS_REQUEST,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||100})}}(t))}}}))(dn),function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).onClickClose=function(){var e=l.props.handelModal;l.setState({planName:"",nameErr:"",active:!1,isLoading:!1}),"function"===typeof e&&e()},l.hasError=function(){var e,t=l.state.planName;return(null===t||void 0===t||null===(e=t.trim())||void 0===e?void 0:e.length)<=0&&(l.setState({nameErr:"Please enter plan name"}),!0)},l.onClickSave=function(){var e=l.props,t=e.planId,i=e.createPlan,n=e.updatePlan,a=l.state,o=a.planName,r=a.active,s={planName:o=o.trim(),active:r=!!r};l.hasError()||(l.setState({isLoading:!0}),t?(s.id=t,"function"===typeof n&&n(s)):"function"===typeof i&&i(s))},l.handelChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n;l.setState((n={},Object(u.a)(n,e,t?i.target.checked:i.target.value),Object(u.a)(n,"nameErr",""),n)),console.log(l.state.planName,"8888")}},l.renderFooter=function(){var e=l.props.planId,t=l.state.isLoading;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:l.onClickClose,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:l.onClickSave,disabled:t,children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:" Saving..."})]}):e?"Save changes":"Add Plan"})]})},l.state={planName:"",active:!1,nameErr:"",isLoading:!1},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e,t=this.props.plan;t&&this.setState({planName:null===t||void 0===t?void 0:t.planName,active:null===t||void 0===t||null===(e=t.attributes)||void 0===e?void 0:e.active})}},{key:"componentDidUpdate",value:function(e){var t,i,n=this.props.plan;n&&(null===e||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.id)!==(null===n||void 0===n?void 0:n.id)&&this.setState({planName:null===n||void 0===n?void 0:n.planName,active:null===n||void 0===n||null===(i=n.attributes)||void 0===i?void 0:i.active});!this.props.loading&&e.loading&&this.state.isLoading&&this.onClickClose()}},{key:"render",value:function(){var e=this.props,t=e.show,i=e.planId,l=this.state,a=l.planName,o=l.active,r=l.nameErr,s=i?"Edit Plan":"Add Plan";return Object(n.jsx)(Q,{show:t,handleClose:this.onClickClose,title:s,footerComponent:this.renderFooter,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)(I,{containerClassName:"form-group text-left",labelClassName:"text-capitalize",labelText:"Plan Name",placeholder:"Plan Name",value:a,onChange:this.handelChange("planName"),errorText:r,isRequired:!0})}),Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsx)("div",{className:"form-check",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",value:"",checked:o,onChange:this.handelChange("active",!0)}),"Status"]})})})]})})}}]),i}(l.Component)),un=Object(p.b)((function(e,t){var i,n,l,a=t.planId;return{plan:a&&(null===e||void 0===e||null===(i=e.plan)||void 0===i?void 0:i.plans)&&(null===e||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.plans[a]),loading:null===e||void 0===e||null===(l=e.plan)||void 0===l?void 0:l.loading}}),(function(e){return{createPlan:function(t){return e(function(e){return{type:at.CREATE_REQUEST,payload:e}}(t))},updatePlan:function(t){return e(function(e){return{type:at.UPDATE_REQUEST,payload:e}}(t))}}}))(cn),vn=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var l;return Object(v.a)(this,i),(l=t.call(this,e)).fetchPlans=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,i=l.props.fetchPlans;"function"===typeof i&&i({offset:e,limit:t})},l.loadMorePlans=function(){var e=l.props,t=e.planOrder,i=void 0===t?[]:t,n=e.planMeta,a=null===n||void 0===n?void 0:n.totalCount;(null===i||void 0===i?void 0:i.length)<a&&l.fetchPlans(null===i||void 0===i?void 0:i.length,a)},l.handelPlanModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;l.setState({showPlanModal:e,planId:t})},l.onDeletePlan=function(e){var t=l.props,i=t.deletePlan;t.plan;"function"===typeof i&&(i(e),l.handleConfirmModal())},l.renderTableRows=function(e,t){var i,a,o=l.props.plans[e];return o&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center",width:"70px"},children:t+1}),Object(n.jsx)("td",{children:null===o||void 0===o?void 0:o.planName}),Object(n.jsx)("td",{className:(null===o||void 0===o||null===(i=o.attributes)||void 0===i?void 0:i.active)?"greenColor":"redColor",children:(null===o||void 0===o||null===(a=o.attributes)||void 0===a?void 0:a.active)?"Active":"Deactive"}),Object(n.jsxs)("td",{style:{textAlign:"center",width:"120px"},children:[Object(n.jsx)("span",{onClick:function(){return l.handelPlanModal(!0,(null===o||void 0===o?void 0:o._id)||(null===o||void 0===o?void 0:o.id))},children:Object(n.jsx)(te.a,{content:"Edit",children:Object(n.jsx)("i",{className:"bx bxs-pencil"})})}),Object(n.jsx)("span",{className:"ml-2",onClick:function(){return l.setActivePlanId((null===o||void 0===o?void 0:o._id)||(null===o||void 0===o?void 0:o.id))},children:Object(n.jsx)(te.a,{content:"Delete",children:Object(n.jsx)("i",{className:"dripicons dripicons-cross"})})})]})]},"".concat(e,"_").concat(t))},l.onSearch=function(e){l.setState({searchText:e})},l.setActivePlanId=function(e){l.setState({activePlanId:e}),l.handleConfirmModal()},l.handleConfirmModal=function(){var e=!l.state.showConfirmModal;e?l.setState({showConfirmModal:e}):l.setState({showConfirmModal:e,activePlanId:null})},l.renderFooter=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:l.handleConfirmModal,children:"Close"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return l.onDeletePlan(l.state.activePlanId)},children:"Yes"})]})},l.state={planId:void 0,showPlanModal:!1,searchText:"",showConfirmModal:!1,activePlanId:null},l}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.fetchPlans()}},{key:"componentDidUpdate",value:function(e){var t,i=this.props.planOrder;(null===(t=e.planOrder)||void 0===t?void 0:t.length)!==(null===i||void 0===i?void 0:i.length)&&this.loadMorePlans()}},{key:"render",value:function(){var e,t,i,l=this,o=this.props,r=o.plans,s=o.planOrder,d=o.planMeta,c=this.state,u=c.showPlanModal,v=c.planId,j=c.searchText,b=c.activePlanId,m=null===d||void 0===d?void 0:d.totalCount;j&&(m=null===(i=s=null===(t=s)||void 0===t?void 0:t.filter((function(e){var t,i,n=null===(t=r[e])||void 0===t||null===(i=t.planName)||void 0===i?void 0:i.toLowerCase();return e&&(null===n||void 0===n?void 0:n.includes(j.toLowerCase()))})))||void 0===i?void 0:i.length);var h=null;return b&&(h=b&&r&&r[b]),Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Manage Plan"}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Plan"}),Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"#",children:"Manage Plan"})})]})]})}),Object(n.jsx)("div",{className:"page-title-right",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:function(){return l.handelPlanModal(!0)},children:[Object(n.jsx)("i",{className:"fe fe-plus mr-2"})," Add Plan"]})})]})})}),Object(n.jsx)(Le,{title:"Manage Plan",headings:["No.","Plan Name","Status","Action"],totalEntries:m,rowData:s||[],renderRow:this.renderTableRows,onSearch:this.onSearch,filter:{searchText:j},searchPlaceholder:"Search by plan name"}),Object(n.jsx)(un,{show:u,handelModal:this.handelPlanModal,planId:v}),Object(n.jsxs)(Q,{show:this.state.showConfirmModal,handleClose:this.handleConfirmModal,title:"Confirm",footerComponent:this.renderFooter,children:["Do you want to delete ",Object(n.jsx)("b",{children:null===(e=h)||void 0===e?void 0:e.planName})," plan ?"]})]})}}]),i}(l.Component),jn=(Object(p.b)((function(e){var t,i,n;return{plans:null===e||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.plans,planOrder:null===e||void 0===e||null===(i=e.plan)||void 0===i?void 0:i.planOrder,planMeta:null===e||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.meta}}),(function(e){return{fetchPlans:function(t){return e(ot(t))},deletePlan:function(t){return e(function(e){return{type:at.DELETE_REQUEST,id:e}}(t))}}}))(vn),i(490)),bn=i(488),mn=function(e){var t=Object(l.useState)({file:null}),i=Object(H.a)(t,2),a=i[0],o=i[1],r=Object(p.c)();Object(l.useEffect)((function(){(null===e||void 0===e?void 0:e.show)||o({})}),[null===e||void 0===e?void 0:e.show]);return Object(n.jsxs)(G.a,{show:null===e||void 0===e?void 0:e.show,onHide:null===e||void 0===e?void 0:e.onHide,backdrop:"static",keyboard:!0,animation:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Raise Dispute"})}),Object(n.jsxs)(G.a.Body,{children:[Object(n.jsx)(gi,{label:"References Or Supporting Document",file:a.file,onChooseFile:function(e){var t,i,n=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(i=t.files)||void 0===i?void 0:i[0];if(n){var l,a,r,s,d,c,u,v,j=null===n||void 0===n||null===(l=n.name)||void 0===l||null===(a=l.split)||void 0===a||null===(r=a.call(l,"."))||void 0===r?void 0:r[(null===n||void 0===n||null===(s=n.name)||void 0===s||null===(d=s.split)||void 0===d||null===(c=d.call(s,"."))||void 0===c?void 0:c.length)-1];"pdf"===(j=null===(u=j)||void 0===u||null===(v=u.toLowerCase)||void 0===v?void 0:v.call(u))||"png"===j||"jpeg"===j||"jpg"===j?o({file:n}):L("error","Upload pdf, png, jpeg or jpg format file only!")}},isRequired:!0}),"Are you sure to raise weight dispute AWB Number ",null===e||void 0===e?void 0:e.ewaybill_number," order?"]}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)("button",{className:"btn btn-primary",variant:"secondary",onClick:function(){if(a.file){var t,i=new FormData;i.set("model_id",null===e||void 0===e?void 0:e.orderId),i.set("onModel","RaiseDispute"),i.set("files",null===a||void 0===a?void 0:a.file);var n={_id:null===e||void 0===e?void 0:e.orderId,data:i};r(function(){return{type:me.RAISE_DISPUTE_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(n)),null===e||void 0===e||null===(t=e.onHide)||void 0===t||t.call(e)}else L("warning","Please choose a file!")},children:"Yes"}),Object(n.jsx)("button",{className:"btn btn-secondary",variant:"secondary",onClick:null===e||void 0===e?void 0:e.onHide,children:"Close"})]})]})},hn=function(e){var t=Object(l.useState)({remark:"",remarkErr:""}),i=Object(H.a)(t,2),a=i[0],o=i[1],r=a.remark,s=a.remarkErr;return Object(n.jsxs)(G.a,{show:null===e||void 0===e?void 0:e.show,onHide:null===e||void 0===e?void 0:e.handleClose,backdrop:"static",keyboard:!0,animation:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsxs)(G.a.Title,{children:[(null===e||void 0===e?void 0:e.accept)?"Accept":"Reject"," Weight Dispute"]})}),Object(n.jsx)(G.a.Body,{children:(null===e||void 0===e?void 0:e.accept)?"Are you sure to accept weight dispute AWB Number ".concat(null===e||void 0===e?void 0:e.ewaybill_number," order?"):Object(n.jsx)(I,{style:{height:100},labelText:"Please add your rejection remarks for the AWB Number ".concat(null===e||void 0===e?void 0:e.ewaybill_number),placeholder:"Enter your comment...",value:r,onChange:function(e){return o((function(t){var i;return Object(M.a)(Object(M.a)({},t),{},{remark:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value,remarkErr:""})}))},cols:"3",isRequired:!0,errorText:s})}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)("button",{className:"btn btn-primary",variant:"secondary",onClick:function(){var t,i,n,l;(null===e||void 0===e?void 0:e.accept)||(null===r||void 0===r||null===(t=r.trim)||void 0===t?void 0:t.call(r))?(null===e||void 0===e||null===(i=e.settleDispute)||void 0===i||i.call(e,{remark:null===r||void 0===r||null===(n=r.trim)||void 0===n?void 0:n.call(r)}),null===e||void 0===e||null===(l=e.handleClose)||void 0===l||l.call(e)):o((function(e){return Object(M.a)(Object(M.a)({},e),{},{remarkErr:"Please enter reason for reject"})}))},children:(null===e||void 0===e?void 0:e.accept)?"Yes":"Save"}),Object(n.jsx)("button",{className:"btn btn-secondary",variant:"secondary",onClick:null===e||void 0===e?void 0:e.handleClose,children:"Close"})]})]})},pn=function(e){var t,i,l,a,o,r=(null===e||void 0===e?void 0:e.order)||{},s=null===r||void 0===r?void 0:r.weight_dispute,d=(null===r||void 0===r?void 0:r.product_details)||{},c=d.length,u=void 0===c?0:c,v=d.breadth,j=void 0===v?0:v,b=d.height,m=void 0===b?0:b,h=Number((null===r||void 0===r||null===(t=r.product_details)||void 0===t?void 0:t.weight)||0),p=Number(u)*Number(j)*Number(m)/5e3;h<p&&(h=p);var O=Number(null===s||void 0===s?void 0:s.changed_weight)||0;return Object(n.jsxs)(G.a,{show:null===e||void 0===e?void 0:e.show,onHide:null===e||void 0===e?void 0:e.onHide,backdrop:"static",keyboard:!0,animation:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Weight Dispute Details"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-xl-6 form-group",children:[Object(n.jsx)("strong",{children:"AWB Number"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:null===r||void 0===r?void 0:r.ewaybill_number})]}),Object(n.jsxs)("div",{className:"col-xl-6 form-group",children:[Object(n.jsx)("strong",{children:"Client Name"}),Object(n.jsxs)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:[null===r||void 0===r||null===(i=r.created_by)||void 0===i?void 0:i.first_name," ",null===r||void 0===r||null===(l=r.created_by)||void 0===l?void 0:l.last_name]})]}),Object(n.jsxs)("div",{className:"col-xl-6 form-group",children:[Object(n.jsx)("strong",{children:"Client Manifested Weight (KG)"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:parseFloat(h).toFixed(2)})]}),Object(n.jsxs)("div",{className:"col-xl-6 form-group",children:[Object(n.jsx)("strong",{children:"Measured Weight (KG)"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:parseFloat(O).toFixed(2)})]}),Object(n.jsxs)("div",{className:"col-xl-6 form-group",children:[Object(n.jsx)("strong",{children:"Charged Date & Time"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:(null===s||void 0===s?void 0:s.transaction_id)?f()(null===s||void 0===s||null===(a=s.transaction_id)||void 0===a?void 0:a.created_at).format("D MMM YYYY, h:mm:ss a"):"-"})]}),Object(n.jsxs)("div",{className:"col-xl-6 form-group",children:[Object(n.jsx)("strong",{children:"Additional Charge Deducted from Wallet"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:(null===s||void 0===s?void 0:s.transaction_id)?parseFloat(null===s||void 0===s||null===(o=s.transaction_id)||void 0===o?void 0:o.total).toFixed(2):"-"})]}),Object(n.jsxs)("div",{className:"col-xl-6 form-group",children:[Object(n.jsx)("strong",{children:"Delivery Partner"}),Object(n.jsx)("div",{className:"mt-1",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:(null===r||void 0===r?void 0:r.courier_name)||"-"})]}),Object(n.jsxs)("div",{className:"col-md-12 form-group",children:[Object(n.jsx)("strong",{children:"Remark"}),Object(n.jsx)("div",{className:"mt-1 redColor",style:{color:"#a06e0f",fontWeight:500,fontSize:"14px"},children:null===s||void 0===s?void 0:s.remark})]})]})}),Object(n.jsx)(G.a.Footer,{children:Object(n.jsx)("button",{className:"btn btn-secondary",variant:"secondary",onClick:null===e||void 0===e?void 0:e.onHide,children:"Close"})})]})},On=Object(p.b)((function(e,t){var i,n,l,a,o=t.id,r=null===e||void 0===e||null===(i=e.loggedInUser)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data,s=null===(l=e.order)||void 0===l?void 0:l.printSelection,d=null===(a=e.order)||void 0===a?void 0:a.orders;return{orderId:o,order:o&&d&&d[o],printSelection:s,loggedInUser:r}}),(function(e){return{settleDispute:function(t){return e(function(){return{type:me.DISPUTE_SETTLE_REQUEST,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))}}}))((function(e){var t,i,a,o,r,s,d=e.index,c=void 0===d?0:d,u=e.orderId,v=e.order,j=(e.history,e.printSelection,e.loggedInUser),b=(e.showTicketStatus,Object(B.a)(e,["index","orderId","order","history","printSelection","loggedInUser","showTicketStatus"])),m=Object(l.useState)({showDisputeRaisedModel:!1,showDisputeSettledModel:!1,accept:!1,remark:""}),h=Object(H.a)(m,2),p=h[0],O=h[1];if(!v)return Object(n.jsx)(n.Fragment,{});var g=p.showDisputeRaisedModel,x=p.showDisputeSettledModel,_=p.showWeightDisputeDetails,E=p.accept,N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];O({showDisputeSettledModel:!0,accept:e="boolean"===typeof e&&e})},y=function(){O((function(e){return Object(M.a)(Object(M.a)({},e),{},{showDisputeRaisedModel:!1,showDisputeSettledModel:!1,showWeightDisputeDetails:!1,remark:""})}))},S=v.product_details,C=void 0===S?{}:S,w=v.weight_dispute,T=void 0===w?{}:w,A=C.length,R=void 0===A?0:A,k=C.breadth,D=void 0===k?0:k,L=C.height,U=void 0===L?0:L,P=Number((null===C||void 0===C?void 0:C.weight)||0),F=Number(R)*Number(D)*Number(U)/5e3;P<F&&(P=F);var I=Number(null===T||void 0===T?void 0:T.changed_weight)||0,G="mismatch";(null===v||void 0===v?void 0:v.isLoading)?G="loading...":(null===T||void 0===T?void 0:T.raised)&&(G=(null===T||void 0===T?void 0:T.settled)?(null===T||void 0===T?void 0:T.accepted)?"accepted":"rejected":"verification pending");var Q=(null===j||void 0===j||null===(t=j.role)||void 0===t||null===(i=t._id)||void 0===i?void 0:i.permissions)||{};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("tr",{className:(null===T||void 0===T?void 0:T.settled)?"pointer":"",onClick:(null===T||void 0===T?void 0:T.settled)&&function(){O({showWeightDisputeDetails:!0})},children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:c+1}),Object(n.jsx)("td",{style:{letterSpacing:1},children:(null===v||void 0===v?void 0:v.order_date)&&f()(v.order_date).format("D MMM YYYY, h:mm:ss a")}),Object(n.jsxs)("td",{style:{whiteSpace:"nowrap"},children:[null===v||void 0===v?void 0:v.ewaybill_number,(null===T||void 0===T?void 0:T.remark)&&Object(n.jsx)(Ke.a,{className:"ml-1",style:{color:"#fff",fontSize:12},variant:"primary",children:"R"})]}),Object(n.jsx)("td",{children:null===v||void 0===v||null===(a=v.created_by)||void 0===a?void 0:a.first_name}),Object(n.jsx)("td",{children:parseFloat(P).toFixed(2)}),Object(n.jsx)("td",{children:parseFloat(I).toFixed(2)}),Object(n.jsx)("td",{children:(null===T||void 0===T?void 0:T.transaction_id)?f()(null===T||void 0===T||null===(o=T.transaction_id)||void 0===o?void 0:o.created_at).format("D MMM YYYY, h:mm:ss a"):"-"}),Object(n.jsx)("td",{children:(null===T||void 0===T?void 0:T.transaction_id)?parseFloat(null===T||void 0===T||null===(r=T.transaction_id)||void 0===r?void 0:r.total).toFixed(2):"-"}),Object(n.jsx)("td",{style:{textTransform:"lowercase"},children:(null===v||void 0===v?void 0:v.courier_name)||"-"}),Object(n.jsx)("td",{style:{textAlign:"center",minWidth:150},children:(null===T||void 0===T?void 0:T.attachment_id)?Object(n.jsx)("span",{className:"btn-link",onClick:function(){var e=T.attachment_id;Y()({method:"GET",url:"".concat(K.ATTACHMENTS_DOWNLOAD,"/").concat(null===e||void 0===e?void 0:e._id),responseType:"arraybuffer"}).then((function(t){var i,n,l,a,o=null===e||void 0===e?void 0:e.filename,r=null===o||void 0===o||null===(i=o.split)||void 0===i||null===(n=i.call(o,"."))||void 0===n?void 0:n[(null===o||void 0===o||null===(l=o.split)||void 0===l||null===(a=l.call(o,"."))||void 0===a?void 0:a.length)-1];Pe()(t.data,"References Document.".concat(r))})).catch((function(e){console.log("onDownloadOrder ",e)}))},children:Object(n.jsx)(te.a,{content:"Download Document",children:Object(n.jsx)("button",{className:"btn btn-link",children:Object(n.jsx)("i",{className:"fa fa-file-download fa-2x mr-2 btn-link","aria-hidden":"true"})})})}):"-"}),Object(n.jsx)("td",{className:(null===v||void 0===v?void 0:v.isLoading)||(null===T||void 0===T?void 0:T.accepted)?"greenColor":(null===T||void 0===T?void 0:T.raised)&&!(null===T||void 0===T?void 0:T.settled)?"warning":"redColor",style:{textTransform:"lowercase"},children:G}),Object(n.jsx)("td",{style:{textAlign:"center",minWidth:150},children:(null===T||void 0===T?void 0:T.transaction_id)&&!(null===T||void 0===T?void 0:T.settled)&&(f()(null===T||void 0===T?void 0:T.created_at).add(7,"days").startOf("days").isSameOrAfter(f()(),"days")&&(!(null===T||void 0===T?void 0:T.raised)&&(null===j||void 0===j?void 0:j._id)===((null===v||void 0===v||null===(s=v.created_by)||void 0===s?void 0:s._id)||(null===v||void 0===v?void 0:v.created_by))||(null===Q||void 0===Q?void 0:Q.showAllOrders))||(null===T||void 0===T?void 0:T.raised)&&(null===Q||void 0===Q?void 0:Q.showAllOrders))?Object(n.jsx)(n.Fragment,{children:(null===v||void 0===v?void 0:v.isLoading)?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("i",{className:"bx bx-loader bx-spin"})}):(null===T||void 0===T?void 0:T.raised)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"mr-2",onClick:function(){return N(!0)},children:Object(n.jsx)(te.a,{content:"Accept",children:Object(n.jsx)("i",{className:"mdi mdi-thumb-up font-size-24","aria-hidden":"true"})})}),Object(n.jsx)("span",{onClick:N,children:Object(n.jsx)(te.a,{content:"Reject",children:Object(n.jsx)("i",{className:"mdi mdi-thumb-down font-size-24","aria-hidden":"true"})})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("button",{className:"btn btn-primary view_btn",onClick:function(){O({showDisputeRaisedModel:!0})},children:"Raise Dispute"})})}):"-"})]},c),(null===T||void 0===T?void 0:T.raised)&&!(null===T||void 0===T?void 0:T.settled)&&Object(n.jsx)(hn,{show:x,accept:E,handleClose:y,settleDispute:function(e){var t,i=e.remark;return null===b||void 0===b||null===(t=b.settleDispute)||void 0===t?void 0:t.call(b,{_id:u,accepted:E,remark:i})},ewaybill_number:null===v||void 0===v?void 0:v.ewaybill_number}),!(null===T||void 0===T?void 0:T.raised)&&Object(n.jsx)(mn,{show:g,onHide:y,orderId:u,ewaybill_number:null===v||void 0===v?void 0:v.ewaybill_number}),(null===T||void 0===T?void 0:T.settled)&&Object(n.jsx)(pn,{show:_,onHide:y,order:v})]})})),gn=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(v.a)(this,i),(n=t.call(this,e)).tabs=[{eventKey:"Mismatches",title:"Mismatches"},{eventKey:"DisputeRaise",title:"DisputeRaise"},{eventKey:"DisputeSettled",title:"DisputeSettled"},{eventKey:"OldMismatches",title:"Archived Data"}],n.loadMoreOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=n.state,l=i.currentTab,a=i.fromDate,o=i.toDate,r=i.orderType,s=i.payment_method,d=(i.payment_status,i.logistic_id),c=i.plan,u=i.created_by,v=i.awbNumber,j=n.props,b=j.fetchAllOrders,m=j.orderList,h=j.orderMeta,p=j.location;if(0===e||(null===h||void 0===h?void 0:h.total_count)>(null===m||void 0===m?void 0:m.length)){var O={pathname:null===p||void 0===p?void 0:p.pathname,offset:e,limit:t,payment_status:"complete",weight_dispute:!0};"Mismatches"===l&&(O.weight_dispute_created_from=f()().subtract(7,"days").startOf("days").utc().format()),"OldMismatches"===l&&(O.weight_dispute_created_to=f()().subtract(7,"days").startOf("days").utc().format()),"DisputeRaise"===l&&(O.weight_dispute_raised=!0),"DisputeSettled"===l&&(O.weight_dispute_settled=!0),a&&(O.created_from=f()(a).startOf("day").utc().format()),o&&(O.created_to=f()(o).endOf("day").utc().format()),r&&"all"!==r&&(O.order_type=r),s&&"all"!==s&&(O.payment_method=s),d&&"all"!==d&&(O.logistic_id=d),c&&(O.plan=c),u&&"all"!==u&&(O.created_by=u),v&&(O.awb=v.trim().toUpperCase()),b&&b(O)}},n.selectDateFrom=function(e){if(null!==n.state.toDate&&f()(e).isAfter(f()(n.state.toDate)))return n.setState({error:"From date should not be greater than to date"}),!1;n.setState({fromDate:e,error:null})},n.selectDateTo=function(e){if(null!==n.state.fromDate&&f()(e).isBefore(f()(n.state.fromDate)))return n.setState({error:"To date should not be less than from date"}),!1;n.setState({toDate:e,error:null})},n.handleAWB=function(e){var t;n.setState({awbNumber:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},n.handleOrderType=function(e){var t;n.setState({orderType:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})},n.onFilterOrder=function(){n.setState({error:null}),n.loadMoreOrders()},n.handleChange=function(e){return function(t){var i,l,a,o=n.state.currentTab,r=null!==(i=null!==(l=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==l?l:null===t||void 0===t?void 0:t.value)&&void 0!==i?i:t;n.setState(Object(u.a)({},e,r),(function(){"currentTab"===e&&o!==r&&n.loadMoreOrders()}))}},n.reset=function(){n.setState({fromDate:null,toDate:null,orderType:"",payment_method:"",payment_status:"complete",logistic_id:"",plan:"",created_by:"",awbNumber:"",error:null},n.onFilterOrder)},n.state={orderIdKey:"awb",orderId:null,filterByDate:null,currentTab:"Mismatches",fromDate:null,toDate:null},n}return Object(j.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.printSelection,i=e.selectOrders,n=e.fetchAllCustomers,l=e.role,a=e.permissions;this.loadMoreOrders(),i&&i(t,!1),((null===a||void 0===a?void 0:a.showAllOrders)||"vendor"===(null===l||void 0===l?void 0:l.role_id))&&n&&n()}},{key:"render",value:function(){var e=this,t=this.props,i=t.orderList,l=t.orderMeta,a=t.loading,o=t.filter,r=t.plans,s=t.planOrder,d=t.logistics,c=t.customers,u=t.permissions,v=this.state.currentTab;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Weight Dispute"}),Object(n.jsx)(we,{title:["Weight Discrepancy","Weight Dispute"]})]})})})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-xl-12",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-title",children:"Filter"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:"row order_filter",children:[Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{className:"position-relative",children:[Object(n.jsx)(St.a,{selected:this.state.fromDate,onChange:this.selectDateFrom,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"From",maxDate:new Date,isClearable:!0}),!this.state.fromDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-3 col-6 datePicker",children:Object(n.jsxs)("label",{className:"position-relative",children:[Object(n.jsx)(St.a,{selected:this.state.toDate,onChange:this.selectDateTo,dateFormat:"dd/MM/yyyy",className:"form-control",placeholderText:"To",maxDate:new Date,isClearable:!0}),!this.state.toDate&&Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"bx bx-calendar-alt"})})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",placeholder:"Order Type",value:this.state.orderType,onChange:this.handleOrderType,children:[Object(n.jsx)("option",{value:"all",children:"All Shipments"}),Object(n.jsx)("option",{value:"individual",children:"Individual"}),Object(n.jsx)("option",{value:"bulk",children:"Bulk"})]})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.payment_method,onChange:this.handleChange("payment_method"),children:[Object(n.jsx)("option",{value:"all",children:"All Payment Modes"}),Object(n.jsx)("option",{value:"cod",children:"COD"}),Object(n.jsx)("option",{value:"prepaid",children:"Prepaid"})]})}),(null===d||void 0===d?void 0:d.length)&&Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.logistic_id,onChange:this.handleChange("logistic_id"),children:[Object(n.jsx)("option",{value:"all",children:"All Partners"}),d&&d.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},t)}))]})}),(null===u||void 0===u?void 0:u.showAllOrders)&&Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsxs)("select",{className:"form-control",value:this.state.plan,onChange:this.handleChange("plan"),children:[Object(n.jsx)("option",{value:"",children:"All Plan"}),Array.isArray(s)&&s.map((function(e,t){var i=e&&r[e],l=null===i||void 0===i?void 0:i.planName;return Object(n.jsx)("option",{value:e,children:l},t)}))]})}),Array.isArray(c)&&c.length>0&&Object(n.jsx)("div",{className:"col-md-3 col-sm-3 col-12",children:Object(n.jsx)(Ze.a,{placeholder:"All Users",defaultValue:this.state.created_by&&c.find((function(t){return t.value===e.state.created_by})),value:this.state.created_by&&c.find((function(t){return t.value===e.state.created_by})),options:c,isClearable:!0,onChange:this.handleChange("created_by")})}),Object(n.jsx)("div",{className:"col-md-3 col-sm-5",children:Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter AWB number",onChange:this.handleAWB,value:this.state.awbNumber,autoComplete:"on"})}),Object(n.jsx)("div",{className:"col-md-2 col-sm-4",children:Object(n.jsxs)("div",{className:"filter_btns d-flex align-items-start",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2 btn-icon-text",onClick:this.onFilterOrder,style:{width:80},children:"Search"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-icon-text",onClick:this.reset,style:{width:80},children:"Reset"})]})})]})}),this.state.error&&Object(n.jsx)("div",{className:"mt-1",style:{color:"red"},children:this.state.error})]})]})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("div",{className:"card-body weight-discrepancy",children:Object(n.jsx)(jn.a,{id:"noanim-tab-example",activeKey:v,onSelect:this.handleChange("currentTab"),transition:!1,children:this.tabs.map((function(t){return Object(n.jsx)(bn.a,{eventKey:t.eventKey,title:t.title,children:Object(n.jsx)(Le,{showSearch:!1,headings:[{text:"No.",style:{textAlign:"center"}},"Manifested Date","AWB Number","Client Name","Client Manifested Weight (KG)","Measured Weight (KG)","Charged Date & Time","Additional Charge Deducted from Wallet","Delivery Partner",{text:"References",style:{textAlign:"center"}},"Status","Action"],totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),rowData:i,renderRow:function(e,t){return Object(n.jsx)(On,{id:e,index:t})},loading:a,filter:o,loadMore:e.loadMoreOrders})})}))})})})})})]})}}]),i}(l.Component),xn=(Object(p.b)((function(e,t){var i,n,l,a,o,r,s,d,c,u,v,j,b,m,h=t.location,p=null===h||void 0===h?void 0:h.pathname,O=null===(i=e.users)||void 0===i?void 0:i.users,g=null===(n=e.users)||void 0===n||null===(l=n.customerList)||void 0===l?void 0:l.map((function(e){var t;return{value:e,label:null===(t=O[e])||void 0===t?void 0:t.email}})),x=null===(a=e.logistics)||void 0===a?void 0:a.data,f=null===(o=e.order)||void 0===o?void 0:o.filters[p],_=(null===(r=e.order)||void 0===r?void 0:r.boards)[JSON.stringify(f||{})],E=null===_||void 0===_?void 0:_.list,N=null===_||void 0===_?void 0:_.meta,y=null===_||void 0===_?void 0:_.loading,S=null===_||void 0===_?void 0:_.error,C=null===(s=e.order)||void 0===s?void 0:s.printSelection,w=null===e||void 0===e||null===(d=e.loggedInUser)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.data,T=(null===w||void 0===w?void 0:w.visible_plans)||[],A=null===w||void 0===w||null===(u=w.role)||void 0===u?void 0:u._id,R=(null===A||void 0===A?void 0:A.active)&&(null===A||void 0===A?void 0:A.permissions)||{},k=(null===w||void 0===w?void 0:w.selected_partners)||[];!(null===R||void 0===R?void 0:R.showAllOrders)&&(null===k||void 0===k?void 0:k.length)>0&&(x=null===(m=x)||void 0===m?void 0:m.filter((function(e){return k.includes(null===e||void 0===e?void 0:e._id)})));var D=null===e||void 0===e||null===(v=e.plan)||void 0===v?void 0:v.planOrder;return Array.isArray(D)&&(null===T||void 0===T?void 0:T.length)>0&&(D=T),{filter:f,orderList:E,orderMeta:N,loading:y,error:S,logistics:x,customers:g,printSelection:C,role:A,permissions:R,plans:null===e||void 0===e||null===(j=e.plan)||void 0===j?void 0:j.plans,planOrder:null===e||void 0===e||null===(b=e.plan)||void 0===b?void 0:b.planOrder}}),(function(e){return{fetchAllOrders:function(t){return e(he(t))},fetchAllCustomers:function(t){return e(Xe(t))}}}))(gn),function(){var e,t,i,a,o,r,s,d,c,u,v,j,b,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=m.id,O=m.index,g=Object(l.useState)({loading:!1}),x=Object(H.a)(g,2),_=x[0],E=x[1],N=Object(p.d)((function(e){var t,i;return null===(t=e.weightDispute)||void 0===t||null===(i=t.files)||void 0===i?void 0:i[h]})),y=Object(p.d)((function(e){var t,i;return null===(t=e.loggedInUser)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data})),S=(null===y||void 0===y||null===(e=y.role)||void 0===e||null===(t=e._id)||void 0===t?void 0:t.permissions)||{};if(!N)return Object(n.jsx)(n.Fragment,{});var C=function(){if(!_.loading){var e=null===N||void 0===N?void 0:N.attachment_id,t=null===e||void 0===e?void 0:e._id,i=null===e||void 0===e?void 0:e.filename;E((function(e){return Object(M.a)(Object(M.a)({},e),{},{loading:!0})})),Y()({method:"GET",url:"".concat(K.ATTACHMENTS_DOWNLOAD,"/").concat(t),contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"}).then((function(e){Pe()(e.data,i),E((function(e){return Object(M.a)(Object(M.a)({},e),{},{loading:!1})}))})).catch((function(e){console.error("There is some error while uploading a file!",e),L("error","There is some error while downloading a file!"),E((function(e){return Object(M.a)(Object(M.a)({},e),{},{loading:!1})}))}))}},w=null===N||void 0===N||null===(i=N.logistic_ids)||void 0===i?void 0:i.filter((function(e){return null===e||void 0===e?void 0:e.name})),T=null===(r=w=null===(a=w)||void 0===a||null===(o=a.map)||void 0===o?void 0:o.call(a,(function(e){return null===e||void 0===e?void 0:e.name})))||void 0===r||null===(s=r.join)||void 0===s?void 0:s.call(r);return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:O+1}),Object(n.jsx)("td",{children:null===N||void 0===N||null===(d=N.attachment_id)||void 0===d?void 0:d.filename}),Object(n.jsx)("td",{children:T||"-"}),Object(n.jsx)("td",{children:(null===N||void 0===N||null===(c=N.created_by)||void 0===c?void 0:c.first_name)||(null===N||void 0===N||null===(u=N.created_by)||void 0===u?void 0:u.email)}),Object(n.jsx)("td",{style:{letterSpacing:"0.8px"},children:(null===N||void 0===N?void 0:N.created_at)?f()(null===N||void 0===N?void 0:N.created_at).format("D MMM YYYY, h:mm a"):"-"}),Object(n.jsx)("td",{style:{textAlign:"center",letterSpacing:"0.8px"},children:(null===S||void 0===S||null===(v=S.weight_discrepancy)||void 0===v||null===(j=v.weight_dispute_upload)||void 0===j?void 0:j.download)&&(null===N||void 0===N?void 0:N.attachment_id)&&(null===N||void 0===N||null===(b=N.attachment_id)||void 0===b?void 0:b._id)?Object(n.jsx)(n.Fragment,{children:_.loading?Object(n.jsx)("span",{className:"mr-2",children:Object(n.jsx)("i",{className:"bx bx-loader bx-spin"})}):Object(n.jsx)("span",{onClick:C,children:Object(n.jsx)(te.a,{content:"Download file",children:Object(n.jsx)("i",{className:"bx bxs-download"})})})}):"-"})]},"".concat(h,"_").concat(O))}),fn={FETCH_ALL_CSV:"FETCH_ALL_CSV",FETCH_ALL_CSV_SUCCESS:"FETCH_ALL_CSV_SUCCESS",FETCH_ALL_CSV_FAIL:"FETCH_ALL_CSV_FAIL",UPLOAD_FILE:"UPLOAD_FILE",UPLOAD_FILE_SUCCESS:"UPLOAD_FILE_SUCCESS",UPLOAD_FILE_FAILURE:"UPLOAD_FILE_FAILURE"},_n=function(e){var t,i,a,o=e.show,r=void 0!==o&&o,s=e.handleClose,d=void 0===s?function(){}:s,c=(Object(B.a)(e,["show","handleClose"]),Object(l.useState)({file:null,logistic_id:null})),u=Object(H.a)(c,2),v=u[0],j=u[1],b=Object(l.useState)({}),m=Object(H.a)(b,2),h=m[0],O=m[1],g=Object(l.useRef)(),x=Object(p.c)(),f=(Object(p.d)((function(e){return null===e||void 0===e?void 0:e.weightDispute}))||{}).loading,_=Object(p.d)((function(e){var t,i;return null===(t=e.loggedInUser)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data})),E=(null===_||void 0===_||null===(t=_.role)||void 0===t||null===(i=t._id)||void 0===i?void 0:i.permissions)||{},N=Object(p.d)((function(e){var t;return null===(t=e.logistics)||void 0===t?void 0:t.data})),y=(null===_||void 0===_?void 0:_.selected_partners)||[];if(!(null===E||void 0===E?void 0:E.showAllOrders)&&(null===y||void 0===y?void 0:y.length)>0)N=null===(a=N)||void 0===a?void 0:a.filter((function(e){return y.includes(null===e||void 0===e?void 0:e._id)}));else if(null===_||void 0===_?void 0:_.user_type){var S,C=null===_||void 0===_?void 0:_.user_type;N=null===(S=N)||void 0===S?void 0:S.filter((function(e){return(null===C||void 0===C?void 0:C._id)===(null===e||void 0===e?void 0:e._id)}))}Object(l.useEffect)((function(){return function(){var e;r||(j({}),O({})),r&&(null===(e=g.current)||void 0===e?void 0:e.loading)&&!f&&d&&d()}(),function(){return g.current={loading:f}}}),[r,f]);return Object(n.jsxs)(G.a,{show:r,onHide:d,backdrop:"static",keyboard:!0,animation:!0,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{children:"Upload a file"})}),Object(n.jsxs)(G.a.Body,{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("label",{htmlFor:"courierPartner",children:["Select Logistic Partner",Object(n.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(n.jsxs)("select",{name:"",id:"courierPartner",className:"form-control ".concat(!!(null===h||void 0===h?void 0:h.logistic_id)&&"is-invalid"),value:v.logistic_id,onChange:function(e){O({}),j((function(t){var i;return Object(M.a)(Object(M.a)({},t),{},{logistic_id:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value})}))},disabled:f,children:[Object(n.jsx)("option",{value:"",children:"Select Logistic Partner"}),N&&N.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},t)}))]}),!!(null===h||void 0===h?void 0:h.logistic_id)&&Object(n.jsx)("div",{className:"invalid-feedback",children:null===h||void 0===h?void 0:h.logistic_id})]}),r&&Object(n.jsx)(gi,{file:v.file,onChooseFile:function(e){var t,i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];if(i){var n,l,a,o,r,s,d=null===i||void 0===i||null===(n=i.name)||void 0===n||null===(l=n.split)||void 0===l||null===(a=l.call(n,"."))||void 0===a?void 0:a[(null===i||void 0===i||null===(o=i.name)||void 0===o||null===(r=o.split)||void 0===r||null===(s=r.call(o,"."))||void 0===s?void 0:s.length)-1];"xls"===d||"xlsx"===d?j((function(e){return Object(M.a)(Object(M.a)({},e),{},{file:i})})):L("error","Upload xls or xlsx format file only!")}},disabled:f,acceptInput:".xls, .xlsx"})]}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)("button",{className:"btn btn-primary",variant:"secondary",onClick:function(){if(!f&&!function(){var e="",t=!1;return v.logistic_id||(e="Please select logistic partner",t=!0),v.file||(L("warning","Please choose a file!"),t=!0),O({logistic_id:e}),t}()){var e=new FormData;e.set("model_id",123456789),e.set("onModel","Order"),(null===v||void 0===v?void 0:v.file)&&e.set("files",null===v||void 0===v?void 0:v.file),(null===v||void 0===v?void 0:v.logistic_id)&&e.set("logistic_ids",JSON.stringify([null===v||void 0===v?void 0:v.logistic_id])),x(function(){return{type:fn.UPLOAD_FILE,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},logistic_id:arguments.length>1?arguments[1]:void 0}}(e,null===v||void 0===v?void 0:v.logistic_id))}},disabled:f,children:f?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Uploading..."})]}):"Submit"}),Object(n.jsx)("button",{className:"btn btn-secondary",variant:"secondary",onClick:d,disabled:f,children:"Close"})]})]})},En=i(214),Nn=i.n(En),yn=function(e){var t,i=e.show,l=void 0!==i&&i,a=e.handleClose,o=void 0===a?function(){}:a,r=e.errors,s=void 0===r?[]:r,d=e.logistic_id,c=Object(p.d)((function(e){var t;return null===(t=e.logistics)||void 0===t?void 0:t.data})),u=null===c||void 0===c||null===(t=c.find)||void 0===t?void 0:t.call(c,(function(e){return(null===e||void 0===e?void 0:e._id)===d}));return Object(n.jsxs)(G.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",show:l&&(null===s||void 0===s?void 0:s.length)>0,onHide:o,children:[Object(n.jsx)(G.a.Header,{closeButton:!0,children:Object(n.jsx)(G.a.Title,{id:"contained-modal-title-vcenter",children:"Bulk Upload Validation Error"})}),Object(n.jsx)(G.a.Body,{children:Object(n.jsx)(De,{id:"table-to-xls",className:"table table-striped table-bordered dt-responsive nowrap action_icons",headingData:["Row No.","AWB Number","Logistic partner","Reason"],rowData:s||[],renderRowItem:function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{textAlign:"center"},children:null===e||void 0===e?void 0:e.row_number}),Object(n.jsx)("td",{children:(null===e||void 0===e?void 0:e.ewaybill_number)||"-"}),Object(n.jsx)("td",{children:(null===u||void 0===u?void 0:u.name)||"-"}),Object(n.jsx)("td",{children:null===e||void 0===e?void 0:e.message})]},t)}})}),Object(n.jsxs)(G.a.Footer,{children:[Object(n.jsx)(Nn.a,{id:"table-xls-button",className:"btn btn-primary",table:"table-to-xls",filename:"WeightDisputeUploadCsvError-".concat(f()().format("DD-MM-YY")),sheet:"tablexls",buttonText:"Download as XLS"}),Object(n.jsx)(Fe.a,{className:"btn btn-secondary ml-2",onClick:o,children:"Close"})]})]})},Sn=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(v.a)(this,i);for(var n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={showUploadFileModal:!1,showUploadErrorModal:!1,errors:null},e.loadMore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=e.props,l=n.fetchAllWeightDisputeCsv,a=n.list,o=n.meta,r=n.location;if(0===t||(null===o||void 0===o?void 0:o.total_count)>(null===a||void 0===a?void 0:a.length)){var s={pathname:null===r||void 0===r?void 0:r.pathname,offset:t,limit:i};null===l||void 0===l||l(s)}},e.handleUploadModal=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t="boolean"===typeof t&&t,e.setState({showUploadFileModal:t})},e.handleUploadErrorModal=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t="boolean"===typeof t&&t,e.setState((function(e){return{showUploadErrorModal:t,errors:t?null===e||void 0===e?void 0:e.errors:null}}))},e}return Object(j.a)(i,[{key:"componentDidMount",value:function(){this.loadMore()}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.isUploading,n=t.uploadingError;(null===e||void 0===e?void 0:e.isUploading)&&!i&&n&&this.setState({showUploadErrorModal:!0,errors:null===n||void 0===n?void 0:n.errors,logistic_id:null===n||void 0===n?void 0:n.logistic_id})}},{key:"render",value:function(){var e=this,t=this.props,i=t.list,l=t.meta,a=t.loading,o=this.state,r=o.showUploadFileModal,s=o.showUploadErrorModal,d=o.errors,c=o.logistic_id;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[Object(n.jsx)("div",{className:"page-header",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"main-content-title tx-24 mg-b-5",children:"Weight Dispute Upload"}),Object(n.jsx)(we,{title:["Weight Discrepancy","Weight Dispute Upload"]})]})}),Object(n.jsxs)("div",{className:"page-title-right",children:[Object(n.jsxs)("a",{href:"/WeightDisputeCSV_Sample.xlsx",className:"btn btn-primary btn-icon-text mr-2",children:[Object(n.jsx)("i",{className:"fa fa-download mr-2","aria-hidden":"true"}),Object(n.jsx)("span",{children:"Sample File"})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary my-2 btn-icon-text",onClick:function(){return e.handleUploadModal(!0)},children:[Object(n.jsx)("i",{className:"dripicons dripicons-upload mr-2",style:{lineHeight:0}}),Object(n.jsx)("span",{children:"Upload Here"})]})]})]})})}),Object(n.jsx)(Le,{headings:["No.","File name","Logistic partner","Uploaded by","Uploaded date","Action"],showSearch:!1,totalEntries:(null===l||void 0===l?void 0:l.totalCount)||(null===l||void 0===l?void 0:l.total_count),rowData:i,loading:a,renderRow:function(e,t){return Object(n.jsx)(xn,{id:e,index:t})}}),Object(n.jsx)(_n,{show:r,handleClose:this.handleUploadModal}),Object(n.jsx)(yn,{show:s,errors:d,logistic_id:c,handleClose:this.handleUploadErrorModal})]})}}]),i}(l.Component),Cn=(Object(p.b)((function(e,t){var i,n,l,a,o,r,s,d=t.location,c=null===d||void 0===d?void 0:d.pathname,u=null===(i=e.weightDispute)||void 0===i||null===(n=i.filters)||void 0===n?void 0:n[c],v=(null===(l=e.weightDispute)||void 0===l?void 0:l.boards)[JSON.stringify(u||{})],j=null===v||void 0===v?void 0:v.list,b=null===v||void 0===v?void 0:v.meta,m=null===v||void 0===v?void 0:v.loading,h=null===v||void 0===v?void 0:v.error,p=null===(a=e.weightDispute)||void 0===a?void 0:a.loading,O=null===(o=e.weightDispute)||void 0===o?void 0:o.error;return{loggedInUser:null===e||void 0===e||null===(r=e.loggedInUser)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.data,list:j,meta:b,loading:m,error:h,isUploading:p,uploadingError:O}}),(function(e){return{fetchAllWeightDisputeCsv:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:fn.FETCH_ALL_CSV,payload:Object(M.a)(Object(M.a)({},e),{},{offset:(null===e||void 0===e?void 0:e.offset)||0,limit:(null===e||void 0===e?void 0:e.limit)||100})}}(t))}}}))(Sn),function(e){return document.documentElement.scrollTop=0,Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(c.b,{path:"/app/Dashboard",exact:!0,component:Wi}),Object(n.jsx)(c.b,{path:"/app/editProfile",exact:!0,component:Ri})]})}),wn=function(e){return Object(n.jsx)("div",{className:e.showSideBar?"main-content open":"main-content",children:Object(n.jsx)("div",{className:"page-content",children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)(Cn,{loggedInUser:e.loggedInUser})})})})},Tn=function(e){return Object(n.jsx)("footer",{className:e.showSideBar?"footer open":"footer",children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-sm-12 text-center",children:"Copyright 2022 Rights Reserved"})})})})},An=i(133);var Rn=Object(c.g)((function(e){var t=e.history,i=e.children;return Object(l.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),Object(n.jsx)(l.Fragment,{children:i})})),kn=function(e){var t=e.show,i=void 0!==t&&t,a=e.handleClose,o=void 0===a?function(){}:a,r=Object(B.a)(e,["show","handleClose"]),s=Object(l.useState)({new_password:"",confirm_password:"",old_password_err:"",new_password_err:"",confirm_password_err:"",isLoading:!1}),d=Object(H.a)(s,2),c=d[0],v=d[1];Object(l.useEffect)((function(){!1===i&&v({new_password:"",confirm_password:""}),!(null===r||void 0===r?void 0:r.loading)&&c.isLoading&&((null===r||void 0===r?void 0:r.error)?v(Object(M.a)(Object(M.a)({},c),{},{isLoading:!1})):o())}),[i]);var j=function(e){return function(t){var i,n=null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value;v(Object(M.a)(Object(M.a)({},c),{},Object(u.a)({},e,n)))}},b=c.new_password,m=c.confirm_password,h=c.new_password_err,p=c.confirm_password_err,O=c.isLoading;return Object(n.jsx)(Q,{show:i,title:"Change Global Password",handleClose:o,children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("form",{className:"needs-validation",noValidate:!0,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)(I,{labelText:"New Password",value:b,onChange:j("new_password"),disabled:O,isPasswordText:!0,errorText:h,isRequired:!0})}),Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)(I,{labelText:"Confirm Password",value:m,onChange:j("confirm_password"),disabled:O,isPasswordText:!0,errorText:p,isRequired:!0})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 text-center pb-2 pt-2",children:Object(n.jsx)("div",{className:"button-items",children:Object(n.jsx)("button",{type:"button",className:"btn  btn-primary",onClick:function(){if(!function(){var e=c.new_password,t=c.confirm_password,i="",n="",l=!1;return e?k(e)||(l=!0,i="Password at least 4 characters"):(l=!0,i="Please enter new password"),t||(l=!0,n="Please enter confirm password"),e&&t&&e!==t&&(l=!0,L("error","New password and Confirm password not same")),v(Object(M.a)(Object(M.a)({},c),{},{new_password_err:i,confirm_password_err:n})),l}()){var e={password:c.new_password};v(Object(M.a)(Object(M.a)({},c),{},{isLoading:!0})),Y()({method:"POST",url:K.RESET_GLOBAL_PASSWORD_URL,data:e}).then((function(e){var t,i,n,l,a=e.data;!0!==(null===a||void 0===a||null===(t=a.meta)||void 0===t?void 0:t.success)&&200!==(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.status)?L("error",(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.message)||(null===a||void 0===a?void 0:a.message)):L("success",(null===a||void 0===a||null===(l=a.meta)||void 0===l?void 0:l.message)||(null===a||void 0===a?void 0:a.message));o()})).catch((function(e){console.log("change global password error",e),v(Object(M.a)(Object(M.a)({},c),{},{isLoading:!1})),L("error","Error in updating global password"),o()}))}},disabled:O,children:O?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{className:"visually-hidden",children:"Saving..."})]}):"Submit"})})})})]})})})})},Dn=function(e){Object(m.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(v.a)(this,i);for(var n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={redirectToLogin:!1,showSideBar:!0,showChangePassword:!1},e.loadMoreOrders=function(){var t=e.props.fetchAllOrders,i={payment_status:"complete",weight_dispute:!0,weight_dispute_created_from:f()().subtract(7,"days").startOf("days").utc().format()};t&&t(i)},e.logOut=function(){e.setState({redirectToLogin:!0}),localStorage.clear(),e.props.logOut()},e.toggleSideBar=function(){e.setState({showSideBar:!e.state.showSideBar})},e.closeSideBar=function(){window.innerWidth<=991&&e.setState({showSideBar:!1})},e.handleChangePasswordModal=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t="boolean"===typeof t&&t,e.setState({showChangePassword:t})},e}return Object(j.a)(i,[{key:"componentDidMount",value:function(){(0,this.props.getLoggedInUser)(Object(P.a)(localStorage.getItem("jwt")).user._id)}},{key:"render",value:function(){var e=this.props,t=e.loggedInUser,i=e.orderMeta,l=this.state,a=l.redirectToLogin,o=l.showSideBar,r=l.showChangePassword;return a?Object(n.jsx)(c.a,{to:"/login"}):Object(n.jsxs)("div",{id:"layout-wrapper",children:[Object(n.jsxs)(Rn,{children:[Object(n.jsx)(ie,{loggedInUser:t,logOut:this.logOut,handleChangePasswordModal:this.handleChangePasswordModal,toggleSideBar:this.toggleSideBar,showSideBar:o,history:this.props.history}),Object(n.jsx)(ne,{logOut:this.logOut,showSideBar:o,loggedInUser:t,closeSideBar:this.closeSideBar,totalWeightDisputeCount:null===i||void 0===i?void 0:i.total_count}),Object(n.jsx)(wn,{showSideBar:o,loggedInUser:t}),Object(n.jsx)(Tn,{showSideBar:o})]}),Object(n.jsx)(kn,{show:r,handleClose:this.handleChangePasswordModal}),Object(n.jsxs)(An.a,{children:[Object(n.jsx)("script",{src:"/js/metisMenu.min.js"}),Object(n.jsx)("script",{src:"/js/simplebar.min.js"}),Object(n.jsx)("script",{src:"/js/app.js"})]})]})}}]),i}(l.Component),Ln=Object(p.b)((function(e){var t,i,n,l={payment_status:"complete",weight_dispute:!0,weight_dispute_created_from:f()().subtract(7,"days").startOf("days").utc().format()},a=JSON.stringify(l),o=(null===(t=e.order)||void 0===t?void 0:t.boards)[a],r=null===o||void 0===o?void 0:o.meta;return{loggedInUser:null===e||void 0===e||null===(i=e.loggedInUser)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data,orderMeta:r}}),(function(e){return{getLoggedInUser:function(t){return e(Ne(t))},logOut:function(){return e({type:O.LOGOUT_SUCCESS})}}}))(Dn),Un=function(e){var t=e.component,i=Object(B.a)(e,["component"]);return Object(n.jsx)(c.b,Object(M.a)(Object(M.a)({},i),{},{render:function(e){return F()?Object(n.jsx)(t,Object(M.a)({},e)):Object(n.jsx)(c.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Pn=(i(456),i(457),function(e){var t=e.show,i=void 0!==t&&t,a=e.handleClose,o=void 0===a?function(){}:a,r=(Object(B.a)(e,["show","handleClose"]),Object(l.useState)({isLoading:!1,name:"",number:"",email:"",query:"",location:"",isAgree:!1,name_err:"",number_err:"",email_err:"",query_err:""})),s=Object(H.a)(r,2),d=s[0],c=s[1],v=d.isLoading,j=d.name,b=d.number,m=d.email,h=d.query,p=d.location,O=d.isAgree;Object(l.useEffect)((function(){i||c({isLoading:!1,name:"",number:"",email:"",query:"",location:"",isAgree:!1,name_err:"",number_err:"",email_err:"",query_err:""})}),[i]);var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){var n,l=t?i.target.checked:i.target.value;"number"===e&&(l=l.replace(/[^0-9]/g,"")),c(Object(M.a)(Object(M.a)({},d),{},(n={},Object(u.a)(n,e,l),Object(u.a)(n,"name_err",""),Object(u.a)(n,"number_err",""),Object(u.a)(n,"email_err",""),Object(u.a)(n,"query_err",""),n)))}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Q,{show:i,title:"Contact Here",handleClose:o,children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d112239.27765807435!2d76.89750291640625!3d28.465165299999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390d19129a8774a9%3A0xa89ae8c88974106f!2sKCS%20Electrical%20Traders%20%26%20Engineering!5e0!3m2!1sen!2sin!4v1661666764704!5m2!1sen!2sin",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",style:{border:"0px",height:150,width:"100%"}}),Object(n.jsxs)("div",{className:"col-lg-12 text-center",children:[Object(n.jsx)("h1",{style:{fontSize:23},children:"KCS Electrical Traders and Engineering"}),Object(n.jsxs)("p",{style:{fontSize:14},children:[Object(n.jsx)("i",{className:"fa fa-home","aria-hidden":"true"}),Object(n.jsx)("span",{className:"pl-2",children:"360(old 79/4) 301-3rd Floor Anamica enclave, Near kalyani hospital, MG road, gurgaon-122001"})]}),Object(n.jsx)("p",{children:Object(n.jsxs)("a",{href:"tel:09810959039",children:[Object(n.jsx)("i",{className:"fa fa-phone","aria-hidden":"true",style:{transform:" rotate(75deg)"}}),Object(n.jsx)("span",{className:"pl-2",children:"+91 - 9810959039"})]})}),Object(n.jsx)("p",{children:Object(n.jsxs)("a",{href:"mailto:sales@kcs-electrical.com",children:[Object(n.jsx)("i",{className:"fa fa-envelope","aria-hidden":"true"}),Object(n.jsx)("span",{className:"pl-2",children:"sales@kcs-electrical.com"})]})})]}),Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsxs)("form",{action:"#",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Name",placeholder:"Enter your name",isRequired:!0,value:j,onChange:g("name"),errorText:d.name_err,disabled:v})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Number",placeholder:"Enter your number",isRequired:!0,value:b,onChange:g("number"),errorText:d.number_err,disabled:v})}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Email",placeholder:"Enter your email",isRequired:!0,value:m,onChange:g("email"),errorText:d.email_err,disabled:v})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)(I,{containerClassName:"form-group",labelText:"Query",placeholder:"Write your query here",isRequired:!0,value:h,onChange:g("query"),errorText:d.query_err,disabled:v})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12",children:Object(n.jsx)("div",{className:"form-check",children:Object(n.jsxs)("label",{className:"form-check-label",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",value:"",checked:O,onChange:g("isAgree",!0),disabled:v}),Object(n.jsx)("span",{children:"I agree to the Terms and conditions and Privacy Policy"})]})})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 text-center",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary text-white",onClick:function(){if(!function(){var e=!1,t="",i="",n="",l="";return j||(t="Please enter your name",e=!0),b?T(b)||(i="Please enter valid number",e=!0):(i="Please enter your number",e=!0),m?w(m)||(n="Please enter valid email",e=!0):(n="Please enter your email",e=!0),h||(l="Please enter your company name",e=!0),p||(e=!0),c(Object(M.a)(Object(M.a)({},d),{},{name_err:t,number_err:i,email_err:n,query_err:l})),e}()){c(Object(M.a)(Object(M.a)({},d),{},{isLoading:!0}));var e=JSON.stringify({name:j,email:m,mobile_no:b,query:h});Y()({url:"https://easycontent-dev.ibism.com/api/v1/mail",method:"POST",data:e,headers:{"Content-Type":"application/json"}}).then((function(e){L("success","Thanks for reaching out to us. Our executive will get back to you shortly."),o()})).catch((function(e){L("error","There is some error while sending data!"),console.log("GET IN TOUCH ",e),c(Object(M.a)(Object(M.a)({},d),{},{isLoading:!1}))}))}},disabled:v||!O,children:v?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"}),Object(n.jsx)("span",{className:"visually-hidden",children:"  Saving..."})]}):"Submit"})})})]})})]})})})}),Fn=function(e){var t=Object(l.useState)(!1),i=Object(H.a)(t,2),a=(i[0],i[1],Object(l.useState)(!1)),o=Object(H.a)(a,2),r=o[0],d=o[1],c=function(){d(!r)},u=Object(l.useState)(!1),v=Object(H.a)(u,2),j=v[0];v[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("header",{style:{zIndex:10,height:70,width:"100%",position:"fixed",backgroundColor:"white"},children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-2",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)(s.c,{to:"/",children:Object(n.jsx)("img",{src:"/img/logo.jpeg",alt:"LOGO",className:"mt-2"})})})}),Object(n.jsx)("div",{className:"col-lg-10",children:Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light pl-0 pr-0",children:Object(n.jsxs)("div",{className:"row w-100 mobile_header_row",children:[Object(n.jsx)("div",{className:"col-lg-10",children:Object(n.jsx)("nav",{className:"navbar text-uppercase pl-0 pr-0",children:Object(n.jsx)("div",{className:"".concat(j?"navbar-collapse customcollapse":"navbar-collapse"),children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(s.c,{className:"nav-link",to:"/",exact:!0,children:"Home"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(s.c,{className:"nav-link",to:"/AboutUs",exact:!0,children:"About Us"})}),Object(n.jsx)("li",{className:"nav-item mb-1",children:Object(n.jsx)(s.c,{className:"nav-link",to:"/Service",exact:!0,children:"Services"})}),Object(n.jsx)("li",{className:"nav-item mb-1",children:Object(n.jsx)(s.c,{className:"nav-link",to:"/Products",exact:!0,children:"Products"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",href:"/#clients",children:"Clients"})}),Object(n.jsx)("li",{className:"nav-item mb-1",children:Object(n.jsx)(s.c,{className:"nav-link",to:"/Gallery",exact:!0,children:"Gallery"})}),Object(n.jsx)("li",{className:"nav-item mb-1",children:Object(n.jsx)("a",{className:"nav-link",href:"#webp",onClick:c,children:"Contact Us"})})]})})})}),Object(n.jsx)("div",{className:"col-lg-2",children:Object(n.jsx)("div",{className:"d-flex justify-content-between pt-2 align-items-center flex ",children:Object(n.jsx)("div",{className:"login_signup d-flex text-capitalize",children:Object(n.jsx)(s.c,{to:"/login",className:"theme_bg_color nav-link text-white",children:"log in"})})})})]})})})]})})}),Object(n.jsx)(Pn,{show:r,handleClose:c})]})},In=function(e,t){var i=Object(l.useState)(!1),a=Object(H.a)(i,2),o=a[0],r=a[1],d=function(){r(!o)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("footer",{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"theme_bg_color p-sm-5 p-3 mb-3 contact_position",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-sm-4 mb-sm-0 mb-2",children:Object(n.jsx)("h2",{children:"Contact Details"})}),Object(n.jsx)("div",{className:"col-sm-4 mb-sm-0 mb-2",children:Object(n.jsxs)("div",{className:"phoneIcon",children:["0981-0959039",Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:"(10:00 AM to 7:00 PM) - Monday to Saturday"})]})}),Object(n.jsx)("div",{className:"col-sm-4 mb-sm-0 mb-2",children:Object(n.jsxs)("div",{className:"phoneIcon whatsAppIcon",children:["+91-9810959039",Object(n.jsx)("span",{children:" (24X7X365)"}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:"Call & WhatsApp"})]})})]})})}),Object(n.jsxs)("div",{className:"col-lg-4 col-md-12 col-12 mt-3",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"../img/logo.jpeg",alt:""})}),Object(n.jsxs)("p",{className:"pl-0 text-white",children:[Object(n.jsx)("strong",{children:"Services available in :"}),Object(n.jsx)("br",{}),"Gurugram, Delhi, Ghaziabad, Faridabad, Noida"]})]}),Object(n.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-3 col-5 mt-5",children:Object(n.jsxs)("ul",{className:"pl-0",children:[Object(n.jsx)("li",{children:Object(n.jsx)(s.c,{to:"/",target:"_blank",rel:"noopener noreferrer",className:"text-white nav-link",children:"Home"})}),Object(n.jsx)("li",{children:Object(n.jsx)(s.c,{to:"/AboutUs",rel:"noopener noreferrer",className:"text-white nav-link",children:"About Us"})}),Object(n.jsx)("li",{children:Object(n.jsx)(s.c,{to:"#",rel:"noopener noreferrer",className:"text-white nav-link",children:"Gallery"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://www.google.com/maps/dir//kcs+electrical/data=!4m6!4m5!1m1!4e2!1m2!1m1!1s0x390d19129a8774a9:0xa89ae8c88974106f?sa=X&ved=2ahUKEwjygLrrzOn5AhUNR2wGHddODiYQ9Rd6BAgDEAQ",className:"text-white nav-link",children:"Get Direction"})})]})}),Object(n.jsx)("div",{className:"col-lg-3 col-md-5 col-sm-5 col-7 mt-5",children:Object(n.jsxs)("ul",{className:"pl-0",children:[Object(n.jsx)("li",{children:Object(n.jsx)(s.c,{to:"#",rel:"noopener noreferrer",className:"text-white nav-link",children:"Service"})}),Object(n.jsx)("li",{children:Object(n.jsx)(s.c,{to:"#",rel:"noopener noreferrer",className:"text-white nav-link",children:"Products"})}),Object(n.jsx)("li",{children:Object(n.jsx)(s.c,{to:"#",rel:"noopener noreferrer",className:"text-white nav-link",children:"Clients"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",onClick:d,rel:"noopener noreferrer",className:"text-white nav-link",children:"Contact Us"})})]})}),Object(n.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-4 col-12 mt-5 footer_add",children:[Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:"tel:09810959039",className:"text-white",children:"+91 9810959039"})}),Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:"mailto:sales@kcs-electrical.com",className:"text-white",children:"sales@kcs-electrical.com"})}),Object(n.jsx)("div",{className:"address text-white",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Office address :"}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"pl-0",children:" 360(old 79/4) 301-3rd Floor Anamica enclave, Near kalyani hospital, MG road, gurgaon-122001"})]})}),Object(n.jsxs)("div",{className:"text-white",style:{cursor:"pointer"},children:[Object(n.jsx)("a",{href:"https://www.facebook.com/",className:"text-white",target:"_blank",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"mdi mdi-facebook","aria-hidden":"true"})," \xa0 \xa0 "]})}),Object(n.jsx)("a",{href:"https://twitter.com/",className:"text-white",target:"_blank",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"mdi mdi-twitter","aria-hidden":"true"})," \xa0 \xa0 "]})}),Object(n.jsx)("a",{href:"https://www.instagram.com/",className:"text-white",target:"_blank",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"mdi mdi-instagram","aria-hidden":"true"})," \xa0 \xa0 "]})})]}),Object(n.jsx)("div",{className:"text-white mapicon mt-3",children:Object(n.jsxs)("a",{href:"https://www.google.com/maps/place/KCS+Electrical+Traders+%26+Engineering/@28.4651653,77.0353899,17z/data=!3m1!4b1!4m5!3m4!1s0x390d19129a8774a9:0xa89ae8c88974106f!8m2!3d28.4651333!4d77.0375253",target:"_blank",className:"text-white",children:[Object(n.jsx)("span",{className:"bg-white",children:Object(n.jsx)("img",{src:"img/mapicon.png",alt:""})}),"  \xa0 Visit our Office"]})})]})]})})}),Object(n.jsx)("section",{className:"bg-black pt-4 pb-2",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 text-white text-center",children:Object(n.jsx)("p",{children:"Copyright 2022 \xa9 KCS Electrical Traders & Engineering. All Rights Reserved"})})})})}),Object(n.jsx)(Pn,{show:o,handleClose:d})]})},Mn=function(e){var t=e.children;return Object(n.jsx)("div",{children:Object(n.jsxs)(Rn,{children:[Object(n.jsx)(Fn,{}),Object(n.jsx)("div",{style:{paddingTop:70},children:t}),Object(n.jsx)(In,{}),Object(n.jsxs)(An.a,{children:[Object(n.jsx)("link",{href:"/css/mainstyle.css",rel:"stylesheet",type:"text/css"}),Object(n.jsx)("link",{href:"/css/991max.css",rel:"stylesheet",type:"text/css"}),Object(n.jsx)("link",{href:"/css/767max.css",rel:"stylesheet",type:"text/css"}),Object(n.jsx)("link",{href:"/css/575max.css",rel:"stylesheet",type:"text/css"})]})]})})},Hn=i(69),Bn=i.n(Hn),Gn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Bn.a,Object(M.a)(Object(M.a)({},{dots:!1,infinite:!0,fade:!0,autoplay:!0,speed:500,autoplaySpeed:4e3,cssEase:"linear",pauseOnHover:!0,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(n.jsx)("article",{className:"home_banner common_banner banner1",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-lg-7 col-md-12 col-sm-12 home_banner_text",children:["        ",Object(n.jsx)("h1",{className:"text-white display-4",children:Object(n.jsx)("strong",{children:"Timely work completion services."})}),Object(n.jsx)("p",{className:"text-white",children:"We agrees to prosecute the Work and to require all trade contractors to prosecute the Work in a timely and proper method and manne"})]})})})}),Object(n.jsx)("article",{className:"home_banner common_banner banner2",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-lg-6 col-md-12 col-sm-12 home_banner_text",children:["        ",Object(n.jsx)("h1",{className:"text-white display-4",children:Object(n.jsx)("strong",{children:"Clients satisfaction"})}),Object(n.jsx)("p",{className:"text-white",children:"Our client satisfaction that determines how happy customers are with our products, services, and capabilities"})]})})})}),Object(n.jsx)("article",{className:"home_banner common_banner banner3",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-lg-7 col-md-12 col-sm-12 home_banner_text",children:["        ",Object(n.jsx)("h1",{className:"text-white display-4",children:Object(n.jsx)("strong",{children:"Qualities assurance"})}),Object(n.jsx)("p",{className:"text-white",children:"Maintenance of a desired level of quality in a service or product, especially by means of attention to every stage of the process of delivery or production."})]})})})}),Object(n.jsx)("article",{className:"home_banner common_banner banner4",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-lg-7 col-md-12 col-sm-12 home_banner_text",children:["        ",Object(n.jsx)("h1",{className:"text-white display-4",children:Object(n.jsx)("strong",{children:"Our vision"})}),Object(n.jsx)("p",{className:"text-white",children:"We deeply recognize the needs of our Clients who are constantly searching for the latest technologies and new ways of thinking to make the best project decisions"})]})})})})]}))})},Qn=function(){return Object(n.jsx)("section",{className:"featuresbg",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-12 logistics_content mb-2",children:[Object(n.jsx)("h4",{className:"heading_fs",children:"KCS Introduction"}),Object(n.jsx)("p",{children:"KCS Electrical Engineers is a complete Electrical Engineering firm. We are a brand which ensures inimitable services to our clients. KCS Electrical strives for nothing but the best."}),Object(n.jsx)("p",{children:"   KCS Electrical came into existence in the year 2006. KCS Electrical is a brainchild of qualified engineers sharing common goals and professional acumen in their respective domains. We work with our clients as partners to cater all their requirements in a simple and cost effective manner."}),Object(n.jsx)("p",{children:"Our forte was in Electrical Engineering projects. We now provide a complete gamut of services for Electrical Turnkey projects, Electrical Engineering consultancy."}),Object(n.jsx)("p",{children:"Our personnel management strategies focus on building human resource and creating an environment where talent can be procreated. Client satisfaction is our motto and we are a perfect blend of employee talent, technical expertise and modern technology."})]})})})})},Wn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("section",{className:"featuresbg pt-5",id:"services",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-lg-12 text-center pt-4",children:Object(n.jsx)("h4",{className:"heading_fs mb-5 pb-2",children:"Electrical Turnkey Projects"})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-3 col-12 d-flex text-center",children:Object(n.jsx)("div",{className:"features_common mb-4",children:Object(n.jsxs)("div",{className:"align-self",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:70,height:70},src:"img/coverage.png",alt:""})}),Object(n.jsx)("p",{children:"Structure and foundation design"})]})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-6 col-12 d-flex text-center",children:Object(n.jsx)("div",{className:"features_common mb-4",children:Object(n.jsxs)("div",{className:"align-self",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:70,height:70},src:"img/operation.png",alt:""})}),Object(n.jsx)("p",{children:"PCC and MCC operation"})]})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-6 col-12 d-flex text-center",children:Object(n.jsx)("div",{className:"features_common mb-4",children:Object(n.jsxs)("div",{className:"align-self",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:70,height:70},src:"img/power_distribution.png",alt:""})}),Object(n.jsx)("p",{children:"HT/LT Power distribution"})]})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-6 col-12 d-flex text-center",children:Object(n.jsx)("div",{className:"features_common mb-4",children:Object(n.jsxs)("div",{className:"align-self",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:150,height:70},src:"img/fire.png",alt:""})}),Object(n.jsx)("p",{children:"Fire fighting and smoke detection system"})]})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-6 col-12 d-flex text-center",children:Object(n.jsxs)("div",{className:"features_common mb-4",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:70,height:70},src:"img/circle_planning.png",alt:""})}),Object(n.jsx)("p",{children:"Planning for line routing  "})]})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-6 col-12 d-flex text-center",children:Object(n.jsxs)("div",{className:"features_common mb-4",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:70,height:70},src:"img/voltage.png",alt:""})}),Object(n.jsx)("p",{children:" HV works of OH cum U/G up to 11 KV and above"})]})}),Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-6 col-12 d-flex text-center",children:Object(n.jsxs)("div",{className:"features_common mb-4",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:100,height:70},src:"img/hv.png",alt:""})}),Object(n.jsx)("p",{children:"Construction, Cable-laying and Energisation of all types of transmission lines"})]})}),Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-6 col-12 d-flex text-center",children:Object(n.jsxs)("div",{className:"features_common mb-4",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:100,height:70},src:"img/pressure.png",alt:""})}),Object(n.jsx)("p",{children:"Cable system design including analysis and calculation for cable support and pressure maintenance systems"})]})}),Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-6 col-12 d-flex text-center",children:Object(n.jsxs)("div",{className:"features_common mb-4",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:100,height:70},src:"img/pipe.png",alt:""})}),Object(n.jsx)("p",{children:"Duct work involving Trenching, Directional Boring and Manholes"})]})}),Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-6 col-12 d-flex text-center",children:Object(n.jsxs)("div",{className:"features_common mb-4",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:100,height:70},src:"img/power_cable.png",alt:""})}),Object(n.jsx)("p",{children:"High voltage power cable and accessories supply"})]})}),Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-6 col-12 d-flex text-center",children:Object(n.jsx)("div",{className:"features_common mb-4",children:Object(n.jsxs)("div",{className:"align-self",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:100,height:70},src:"img/transmission.png",alt:""})}),Object(n.jsx)("p",{children:"Construction, Erection, Testing & Commissioning of all types of HV overhead transmission lines and structures of 11 KV and above"})]})})}),Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-6 col-12 d-flex text-center",children:Object(n.jsx)("div",{className:"features_common mb-4",children:Object(n.jsxs)("div",{className:"align-self",children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("img",{style:{width:100,height:70},src:"img/chillers.png",alt:""})}),Object(n.jsx)("p",{children:"Operations and maintenance of chillers and Main L.T. Panels & Distribution boards"})]})})})]})]})})})},Yn=["img/C1.png","img/C3.png","img/C4.png","img/C23.svg","img/C9.jpeg","img/C18.jpeg","img/C20.png","img/C26.jpeg","img/C28.png","img/C7.jpeg","img/C8.png","img/C12.png","img/C13.jpeg","img/C10.webp","img/C11.png","img/C14.png","img/C15.png","img/C2.png","img/C5.jpeg","img/C6.jpeg","img/C16.png","img/C17.png","img/C19.png","img/C21.png","img/C22.jpeg","img/C24.png","img/C25.png","img/C27.png"],qn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("section",{className:"partnersbg pt-5",id:"clients",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-12 text-center pt-4 pb-4",children:Object(n.jsx)("h5",{className:"heading_fs",children:"Our Clients"})}),Object(n.jsx)("div",{className:"col-lg-12 text-center",children:Object(n.jsx)(Bn.a,Object(M.a)(Object(M.a)({},{dots:!0,infinite:!0,slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!1,cssEase:"linear",pauseOnHover:!0,responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:Yn.map((function(e){return Object(n.jsx)("div",{className:"item client-carousel",children:Object(n.jsx)("div",{className:"client-carousel-img",children:Object(n.jsx)("img",{style:{height:100,width:200},src:e,alt:""})})})}))}))})]})})})})},Kn=["img/P7.jpeg","img/P8.jpeg","img/P6.jpeg","img/P23.jpeg","img/P11.jpeg","img/P13.jpg","img/P17.png","img/P5.webp"],zn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("section",{className:"partnersbg bg-white pt-5",id:"products",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-12 text-center pt-4 pb-4",children:Object(n.jsx)("h5",{className:"heading_fs",children:"Our Top Products"})}),Object(n.jsx)("div",{className:"col-lg-12 text-center",children:Object(n.jsx)(Bn.a,Object(M.a)(Object(M.a)({},{dots:!0,infinite:!0,slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,arrows:!1,cssEase:"linear",pauseOnHover:!0,responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:Kn.map((function(e){return Object(n.jsx)("div",{className:"item client-carousel",children:Object(n.jsx)("div",{className:"client-carousel-img",children:Object(n.jsx)("img",{style:{width:200,height:150},src:e,alt:""})})})}))}))})]})})})})},Vn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:"pt-5",children:[Object(n.jsx)("h4",{className:"heading_fs text-center pb-3",children:"Reach Us"}),Object(n.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d112239.27765807435!2d76.89750291640625!3d28.465165299999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390d19129a8774a9%3A0xa89ae8c88974106f!2sKCS%20Electrical%20Traders%20%26%20Engineering!5e0!3m2!1sen!2sin!4v1661666764704!5m2!1sen!2sin",className:"teamImg",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",style:{border:"0px"}})]})})},Jn=["img/51.jpeg","img/52.jpeg","img/53.jpeg","img/54.jpeg","img/55.jpeg","img/56.jpeg","img/57.jpeg","img/58.jpeg","img/59.jpeg","img/60.jpeg","img/61.jpeg","img/62.jpeg","img/63.jpeg","img/64.jpeg","img/65.jpeg","img/66.jpeg","img/67.jpeg","img/68.jpeg","img/69.jpeg","img/70.jpeg","img/71.jpeg","img/72.jpeg","img/73.jpeg","img/74.jpeg","img/2.jpeg","img/3.jpeg","img/4.jpeg","img/5.jpeg","img/6.jpeg","img/7.jpeg","img/8.jpeg","img/9.jpeg","img/10.jpeg","img/12.jpeg","img/13.jpeg","img/14.jpeg","img/16.jpeg","img/18.jpeg","img/19.jpeg","img/20.jpeg","img/21.jpeg","img/22.jpeg","img/23.jpeg","img/24.jpeg","img/25.jpeg","img/26.jpeg","img/27.jpeg","img/28.jpeg","img/29.jpeg","img/30.jpeg","img/31.jpeg","img/32.jpeg","img/33.jpeg","img/34.jpeg","img/35.jpeg","img/36.jpeg","img/37.jpeg","img/38.jpeg","img/39.jpeg","img/40.jpeg","img/41.jpeg","img/42.jpeg","img/43.jpeg","img/44.jpeg","img/45.jpeg","img/46.jpeg","img/47.jpeg","img/48.jpeg"],Xn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("section",{className:"partnersbg pt-5",id:"gallery",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-12 text-center pt-4 pb-4",children:Object(n.jsx)("h5",{className:"heading_fs",children:"Gallery"})}),Object(n.jsx)("div",{className:"col-lg-12 text-center",children:Object(n.jsx)(Bn.a,Object(M.a)(Object(M.a)({},{dots:!0,infinite:!0,slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplaySpeed:1e3,arrows:!1,cssEase:"linear",pauseOnHover:!0,responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:Jn.map((function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("img",{style:{width:200,height:200},src:e,alt:""})})}))}))})]})})})})},$n=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Mn,{children:[Object(n.jsx)(Gn,{}),Object(n.jsx)(Qn,{}),Object(n.jsx)(Wn,{}),Object(n.jsx)(qn,{}),Object(n.jsx)(zn,{}),Object(n.jsx)(Xn,{}),Object(n.jsx)(Vn,{})]})})};i(473);var Zn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Mn,{children:[Object(n.jsx)("div",{className:"about",children:Object(n.jsx)("div",{className:"aboutBox",children:Object(n.jsx)("div",{className:"col-lg-12","data-aos":"fade-up","data-aos-duration":"3000",children:Object(n.jsxs)("div",{className:"bannerText",children:[Object(n.jsx)("h1",{children:"About us"}),Object(n.jsxs)("p",{children:["KCS Electrical is a complete Electrical Engineering firm. We are a brand which ensures inimitable services to our clients. KCS Electrical strives for nothing but the best.",Object(n.jsx)("br",{}),"KCS Electrical came into existence in the year 2006. KCS Electrical is a brainchild of qualified engineers sharing common goals and professional acumen in their respective domains. We work with our clients as partners to cater all their requirements in a simple and cost effective manner.",Object(n.jsx)("br",{}),"Our forte was in Electrical Engineering projects. We now provide a complete gamut of services for Electrical Turnkey projects, Electrical Engineering consultancy. Our personnel management strategies focus on building human resource and creating an environment where talent can be procreated. Client satisfaction is our motto and we are a perfect blend of employee talent, technical expertise and modern technology."]})]})})})}),Object(n.jsx)("div",{className:"vision",children:Object(n.jsx)("div",{className:"visionBox",children:Object(n.jsx)("div",{className:"col-lg-12","data-aos":"fade-up","data-aos-duration":"3000",children:Object(n.jsxs)("div",{className:"bannerText",children:[Object(n.jsx)("h1",{children:"Our Vision"}),Object(n.jsxs)("p",{children:["To be the impeccable Electrical Engineering company in India.",Object(n.jsx)("br",{}),"Our Vision is to deeply recognize the needs of our Clients who are constantly searching for the latest technologies and new ways of thinking to make the best project decisions. We continuously develop our knowledge and expertise and apply them in helping our Clients in their business activities. With wide experience, we also develop new, efficient software tools that enable our Clients to strengthen their business opportunities. And, above all, we work together with our Clients and transfer our knowledge and experience through comprehensive training courses."]})]})})})}),Object(n.jsx)("div",{className:"satisfaction",children:Object(n.jsx)("div",{className:"satisfactionBox",children:Object(n.jsx)("div",{className:"row","data-aos":"fade-up","data-aos-duration":"3000",children:Object(n.jsxs)("div",{className:"bannerText",children:[Object(n.jsx)("h1",{children:"Client Satisfaction"}),Object(n.jsxs)("p",{children:["Your complete satisfaction is our mission. Our success will be measured in client satisfaction and in our ability to exceed our client's expectations. We strive to be a renowned name in the industry, through a continuous improvement program.",Object(n.jsx)("br",{}),"Being a customer centric organization, we at KCS Electrical know that the client satisfaction is directly proportional to the quality of the products. Client satisfaction and quality, both are our specialty. We have stuck to the stringent quality policy and have never compromised with it. We have a separate quality team which performs the quality test during the procurement of electrical goods from renowned suppliers and manufacturers, just to ensure the reliability of our products and client satisfaction"]})]})})})}),Object(n.jsx)("div",{className:"clientsLogo",children:Object(n.jsxs)("div",{className:"clientBox",children:[Object(n.jsxs)("div",{className:"row","data-aos":"fade-up","data-aos-duration":"3000",children:[Object(n.jsx)("div",{className:"col-lg-5 col-md-5 col",children:Object(n.jsx)("div",{className:"logo3 text-right",children:Object(n.jsx)("img",{src:"img/client-logo1.png",alt:"logo1"})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col",children:Object(n.jsx)("div",{className:"logo3 text-center",children:Object(n.jsx)("img",{src:"img/client-logo2.png",alt:"logo2"})})}),Object(n.jsx)("div",{className:"col-lg-5 col-md-5 col",children:Object(n.jsx)("div",{className:"logo3 text-left",children:Object(n.jsx)("img",{src:"img/client-logo3.png",alt:"logo3"})})})]}),Object(n.jsxs)("div",{className:"row","data-aos":"fade-up","data-aos-duration":"3000",children:[Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col",children:Object(n.jsx)("div",{className:"logo4 text-right",children:Object(n.jsx)("img",{src:"img/client-logo4.png",alt:"logo4"})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col",children:Object(n.jsx)("div",{className:"logo4 text-center",children:Object(n.jsx)("img",{src:"img/client-logo5.png",alt:"logo5"})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col",children:Object(n.jsx)("div",{className:"logo4 text-center",children:Object(n.jsx)("img",{src:"img/client-logo6.png",alt:"logo6"})})}),Object(n.jsx)("div",{className:"col-lg-4 col-md-4 col",children:Object(n.jsx)("div",{className:"logo4 text-left",children:Object(n.jsx)("img",{src:"img/client-logo7.png",alt:"logo7"})})})]}),Object(n.jsxs)("div",{className:"row","data-aos":"fade-up","data-aos-duration":"3000",children:[Object(n.jsx)("div",{className:"col-lg-5 col-md-5 col",children:Object(n.jsx)("div",{className:"logo3 text-right",children:Object(n.jsx)("img",{src:"img/client-logo8.png",alt:"logo8"})})}),Object(n.jsx)("div",{className:"col-lg-2 col-md-2 col",children:Object(n.jsx)("div",{className:"logo3 text-center",children:Object(n.jsx)("img",{src:"img/client-logo9.png",alt:"logo9"})})}),Object(n.jsx)("div",{className:"col-lg-5 col-md-5 col",children:Object(n.jsx)("div",{className:"logo3 text-left",children:Object(n.jsx)("img",{src:"img/client-logo10.png",alt:"logo10"})})})]})]})})]})})},el=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Mn,{children:Object(n.jsx)("section",{className:"career-pg",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-lg-12 pt-5 pb-5",children:[Object(n.jsx)("p",{children:"Our services include pre-planning due diligence, budget estimates, feasibility studies, as well as design and construction coordination"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Overhead Transmission System"}),Object(n.jsx)("li",{children:"Construction, Erection, Testing & Commissioning of all types of High Voltage overhead transmission lines and structures of 11 KV & above"}),Object(n.jsx)("li",{children:"Structure and foundation design"}),Object(n.jsx)("li",{children:"Planning for Line routing"}),Object(n.jsx)("li",{children:"Underground Transmission System"}),Object(n.jsx)("li",{children:"Construction, Cable-laying and Energisation of all types of transmission lines"}),Object(n.jsx)("li",{children:"Cable system design including analysis and calculation for cable support and pressure maintenance systems"}),Object(n.jsx)("li",{children:"Duct work involving Trenching, Directional Boring and Manholes"}),Object(n.jsx)("li",{children:"High voltage power cable and accessories supply"}),Object(n.jsx)("li",{children:"Electrical Domain Services Snapshot"}),Object(n.jsx)("li",{children:"HT/LT Power distribution"}),Object(n.jsx)("li",{children:"HV works of OH cum U/G up to 11 KV and above"}),Object(n.jsx)("li",{children:"PCC and MCC operation"}),Object(n.jsx)("li",{children:"Operations and maintenance of chillers"}),Object(n.jsx)("li",{children:"AHU handling"}),Object(n.jsx)("li",{children:"Precession air conditioning"}),Object(n.jsx)("li",{children:"Fire fighting and smoke detection system"}),Object(n.jsx)("li",{children:"Main L.T. Panels & Distribution boards"}),Object(n.jsx)("li",{children:"DG sets & associated accessories"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})})})})})})},tl={Transformer_and_AVR:[{image:"img/P7.jpeg",name:"Distribution Transformer",description:"",meta:{},alt:"transformer|distribution"},{image:"img/P31.webp",name:"HT Current Transformer",description:"Leveraging on our vast knowledge of this realm, we are betrothed in presenting an optimal quality series of Current Transformer.",meta:{},alt:"ht|current|transformer"},{image:"img/P32.png",name:"Potential Transformer",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P33.jpeg",name:"LT Current Transformer",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P34.jpeg",name:"Dry Transformer",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P35.webp",name:"Dry AVR",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P22.webp",name:"AVR Servo",description:"",meta:{},alt:"Potential|transformer"}],Panels:[{image:"img/P8.jpeg",name:"LT Panels",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P9.jpeg",name:"HT VCB Panels",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P10.jpeg",name:"HT CT PT Meter Panel Complete",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P36.jpeg",name:"HT Load Break Switch",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P42.png",name:"Load Break SF6 RMU",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P37.webp",name:"Capacitor Panel",description:"",meta:{},alt:"Potential|transformer"}],Cables:[{image:"img/P6.jpeg",name:"Amoured Cable",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P38.jpeg",name:"Flexible Wire",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P39.png",name:"Conductor",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P40.webp",name:"Flexible PVC Insulted Cable",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P12.jpeg",name:"HT/LT Cables",description:"",meta:{},alt:"Potential|transformer"}],Meters:[{image:"img/P23.jpeg",name:"Ampere Meter",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P4.jpg",name:"AE Meter",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P24.jpeg",name:"Volt Meter",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P25.png",name:"Dual Meter",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P26.jpeg",name:"Kilowatt Meter",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P27.jpeg",name:"Automatic Power Factor Relay",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P28.jpeg",name:"ABT Meter",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P29.png",name:"ABT Meter",description:"",meta:{},alt:"Secure HT CT Net Meter 0.2S"},{image:"img/P30.jpeg",name:"LT CT Meter",description:"",meta:{},alt:"Potential|transformer"}],Kits:[{image:"img/P11.jpeg",name:"Heat Shrinkable joint kits",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P14.jpeg",name:"Earthing Materials",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P19.jpeg",name:"Electronic Testing Instrument",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P20.jpeg",name:"Cable Lugs & Glands",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P21.png",name:"Electronic Controllers",description:"",meta:{},alt:"Potential|transformer"}],Earthing:[{image:"img/P13.jpg",name:"Chemical Earthing Electrode",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P41.jpeg",name:"Plates",description:"",meta:{},alt:"Potential|transformer"}],Cable_Trays:[{image:"img/P17.png",name:"Cable Tray",description:"",meta:{},alt:"Potential|transformer"}],Accessories:[{image:"img/P5.webp",name:"GI STRIP AND COPPER STRIP",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P16.jpeg",name:"PCC Pole and Overhead Line Material",description:"",meta:{},alt:"Potential|transformer"},{image:"img/P15.jpeg",name:"Earthing Copper Strip",description:"",meta:{},alt:"Potential|transformer"}]},il=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Mn,{children:[Object(n.jsx)("section",{className:"work-section pt-5 pb-5",id:"products",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-12 text-center text-white pt-3 pb-2",children:Object(n.jsx)("h4",{className:"heading_fs mr-5",children:"Our Top Products"})}),Object(n.jsxs)("div",{className:"col-lg-12",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-center text-white left_wrapper",children:[Object(n.jsxs)("div",{className:"d-flex inner_left_wrapper",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"com_css order-stroke position-relative",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("h6",{className:"text-right mr-2",children:"Panels"}),Object(n.jsx)("div",{className:"hex CreateOrder"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})}),Object(n.jsx)("div",{className:"com_css product-stroke position-relative",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("h6",{className:"text-right mr-2",children:"Cables"}),Object(n.jsx)("div",{className:"hex product-detail"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})})]}),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"position-relative",children:[Object(n.jsx)("div",{className:"hex large_hex",children:Object(n.jsxs)("div",{className:"large_hex_content",children:[Object(n.jsx)("img",{src:"img/P7.jpeg",className:"largeBox",style:{width:75,height:75}}),Object(n.jsx)("img",{src:"img/P7.jpeg",className:"largeBoxfff",style:{width:150,height:150,borderRadius:50}}),Object(n.jsx)("h5",{className:"mt-2",children:"Transformer and AVR"}),Object(n.jsx)("p",{children:"Something need to write here for broadcasting and attractive"})]})}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"track-stroke position-relative mobile-d-none",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("div",{className:"hex tracking_hex"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),Object(n.jsx)("h6",{className:"text-right ml-2",children:"Accessories & Others"})]})}),Object(n.jsx)("div",{className:"com_css pick-stroke position-relative mobile-d-none",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("div",{className:"hex pickup_hex"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),Object(n.jsx)("h6",{className:"text-right ml-2",children:"Cables Tray"})]})})]})]}),Object(n.jsxs)("div",{className:"d-flex justify-content-center text-white left_wrapper",children:[Object(n.jsx)("div",{className:"com_css compare-stroke position-relative",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("h6",{className:"text-right mr-2",children:"Meters"}),Object(n.jsx)("div",{className:"hex compare_hex"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})}),Object(n.jsx)("div",{className:"com_css select-stroke position-relative",children:Object(n.jsxs)("div",{className:"d-flex align-items-center flex-column-reverse",children:[Object(n.jsx)("h6",{className:"text-right select-desktop",children:"Kits"}),Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("h6",{className:"text-right select-mobile d-none",children:"Kits"}),Object(n.jsx)("div",{className:"hex select_hex"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})]})}),Object(n.jsx)("div",{className:"com_css pay-stroke position-relative",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("div",{className:"hex pay_hex"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),Object(n.jsx)("h6",{className:"text-right ml-2",children:"Earthing"})]})}),Object(n.jsx)("div",{className:"track-stroke position-relative d-none",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("div",{className:"hex tracking_hex"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})}),Object(n.jsx)("div",{className:"com_css pick-stroke position-relative d-none",children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("div",{className:"hex pickup_hex"}),Object(n.jsx)("svg",{style:{visibility:"hidden",position:"absolute"},width:"0",height:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(n.jsx)("defs",{children:Object(n.jsxs)("filter",{id:"goo",children:[Object(n.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8",result:"blur"}),Object(n.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),Object(n.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})})]})]})]})})}),Object(n.jsx)("div",{className:"mb-5",children:Object.keys(tl).map((function(e){var t=e.replace("_"," ");return console.log(t),Object(n.jsxs)("div",{className:"m-5",style:{position:"relative"},children:[Object(n.jsx)("h1",{className:"label",children:t}),tl[e].map((function(e){return Object(n.jsx)(nl,{img:e.image,name:e.name,alt:e.alt})}))]})}))})]})})},nl=function(e){var t=e.img,i=e.name,l=e.onClick;return Object(n.jsx)("div",{className:"projectlist-item-container",children:Object(n.jsxs)(ae.a,{onClick:l,className:"projectlist-item-card",children:[Object(n.jsx)("img",{className:"project-name",src:t,alt:i}),Object(n.jsx)("div",{className:"project-action",children:i})]})})},ll=i(217),al=["img/51.jpeg","img/52.jpeg","img/53.jpeg","img/54.jpeg","img/55.jpeg","img/56.jpeg","img/57.jpeg","img/58.jpeg","img/59.jpeg","img/60.jpeg","img/61.jpeg","img/62.jpeg","img/63.jpeg","img/64.jpeg","img/65.jpeg","img/66.jpeg","img/67.jpeg","img/68.jpeg","img/69.jpeg","img/70.jpeg","img/71.jpeg","img/72.jpeg","img/73.jpeg","img/74.jpeg","img/3.jpeg","img/2.jpeg","img/4.jpeg","img/5.jpeg","img/6.jpeg","img/7.jpeg","img/8.jpeg","img/9.jpeg","img/10.jpeg","img/12.jpeg","img/13.jpeg","img/14.jpeg","img/16.jpeg","img/18.jpeg","img/19.jpeg","img/20.jpeg","img/21.jpeg","img/22.jpeg","img/23.jpeg","img/24.jpeg","img/25.jpeg","img/26.jpeg","img/27.jpeg","img/28.jpeg","img/29.jpeg","img/30.jpeg","img/31.jpeg","img/32.jpeg","img/33.jpeg","img/34.jpeg","img/35.jpeg","img/36.jpeg","img/37.jpeg","img/38.jpeg","img/39.jpeg","img/40.jpeg","img/41.jpeg","img/42.jpeg","img/43.jpeg","img/44.jpeg","img/45.jpeg","img/46.jpeg","img/47.jpeg","img/48.jpeg"],ol=function(e){var t=e.src,i=e.onClick,l=e.index;return Object(n.jsx)(ae.a,{style:{margin:10,cursor:"pointer"},children:Object(n.jsx)("img",{onClick:function(){return i(l)},style:{border:"1px solid blue",borderRadius:10,width:200,height:200},src:t})})},rl=function(){var e=Object(l.useState)(0),t=Object(H.a)(e,2),i=t[0],a=t[1],o=Object(l.useState)(!1),r=Object(H.a)(o,2),s=r[0],d=r[1],c=Object(l.useCallback)((function(e){a(e),d(!0)}),[]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Mn,{children:[s&&Object(n.jsx)(ll.a,{src:al,currentIndex:i,disableScroll:!0,closeOnClickOutside:!0,onClose:function(){a(0),d(!1)}}),Object(n.jsx)("div",{className:"row relative p-5 mb-5",children:al.map((function(e,t){return Object(n.jsx)(ol,{src:e,onClick:c,index:t},t)}))})]})})},sl=function(){return Z(),Object(n.jsx)(a.a.Fragment,{children:Object(n.jsxs)(c.d,{children:[Object(n.jsx)(c.b,{exact:!0,path:"/",component:$n}),Object(n.jsx)(c.b,{exact:!0,path:"/Service",component:el}),Object(n.jsx)(c.b,{exact:!0,path:"/AboutUs",component:Zn}),Object(n.jsx)(c.b,{exact:!0,path:"/Products",component:il}),Object(n.jsx)(c.b,{exact:!0,path:"/Gallery",component:rl}),Object(n.jsx)(Un,{path:"/app/",component:Ln}),Object(n.jsx)(X,{})]})})},dl=i(56),cl={data:null,loading:!1,error:!1},ul=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SIGN_IN_REQUEST:return Object(M.a)(Object(M.a)({},e),{},{loading:!0,error:null});case O.SIGN_IN_SUCCESS:return Object(M.a)(Object(M.a)({},e),{},{data:t.payload,loading:!1});case O.SIGN_IN_FAIL:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,error:t.payload});default:return e}},vl={data:null,loading:!1,error:null},jl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl,t=arguments.length>1?arguments[1]:void 0,i=null===t||void 0===t?void 0:t.payload;switch(t.type){case Ee.CHANGE_PASSWORD_REQUEST:case Ee.ADD_ADDRESS_REQUEST:case Ee.GET_LOGGEDIN_USER:case Ee.UPDATE_USER_REQUEST:case Ee.UPDATE_ADDRESS_REQUEST:return Object.assign({},e,{error:!1,loading:!0});case Ee.GET_LOGGEDIN_USER_SUCCESS:case Ee.ADD_ADDRESS_SUCCESS:case Ee.UPDATE_USER_SUCCESS:case Ee.UPDATE_ADDRESS_SUCCESS:return Object.assign({},e,{data:Object.assign({},e.data,i),loading:!1});case Ee.GET_LOGGEDIN_USER_FAIL:case Ee.ADD_ADDRESS_FAIL:case Ee.UPDATE_USER_FAIL:case Ee.UPDATE_ADDRESS_FAIL:return Object.assign({},e,{error:i,loading:!1});default:return e}},bl={filters:{},orders:{},boards:{},orderList:[],meta:{},bulk:{orders:{},list:[],meta:{},loading:!1,error:!1},bulkOrders:{},bulkOrderList:[],bulkOrderMeta:{},loading:!1,error:!1,selectedPartners:{},selectAll:{},codReport:{reports:{},list:[],meta:{},loading:!1,error:null},printSelection:[]},ml=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},hl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},pl=function(){var e,t,i,n,l,a,o,r,s,d,c,v,j,b,m,h,p,O,g,x,f,_,E,N,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl,S=arguments.length>1?arguments[1]:void 0,C=null===S||void 0===S?void 0:S.payload;switch(S.type){case me.ORDER_PAY_REQUEST:return Object.assign({},y,{loading:!0,error:null});case be.UPDATE_ORDER_SUCCESS:return Object.assign({},y,{orders:Object.assign({},y.orders,Object(u.a)({},null===C||void 0===C||null===(e=C.data)||void 0===e?void 0:e._id,null===C||void 0===C?void 0:C.data))});case Ei.REMIT_REPORT_ORDERS_SUCCESS:return Object.assign({},y,{orders:Object.assign({},y.orders,ml(null===C||void 0===C?void 0:C.data))});case me.SEARCH_ALL_ORDERS_REQUEST:case me.FETCH_ALL_ORDERS_REQUEST:case me.FETCH_ALL_INVOICE_ORDERS_REQUEST:var w=Object.assign({},C),T=null===w||void 0===w?void 0:w.pathname;return null===C||void 0===C||delete C.pathname,null===w||void 0===w||delete w.pathname,null===w||void 0===w||delete w.offset,null===w||void 0===w||delete w.limit,N=JSON.stringify(Object.assign({},w)),Object.assign({},y,{filters:Object.assign({},y.filters,T&&Object(u.a)({},T,w)),boards:Object.assign({},y.boards,Object(u.a)({},N,Object.assign({},y.boards[N],{loading:!0,error:null})))});case me.FETCH_ALL_ORDERS_SUCCESS:N=JSON.stringify(Object.assign({},null===C||void 0===C?void 0:C.filter));var A=(null===C||void 0===C?void 0:C.data)||[],R=null===C||void 0===C?void 0:C.meta,k=(null===C||void 0===C?void 0:C.isReset)?[]:(null===y||void 0===y||null===(t=y.boards[N])||void 0===t?void 0:t.list)||[];return k=[].concat(Object(Ae.a)(k||[]),Object(Ae.a)(hl(A))),Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},ml(A)),boards:Object.assign({},y.boards,Object(u.a)({},N,Object.assign({},y.boards[N],{list:Object(Ae.a)(new Set(k)),meta:Object.assign({},null===y||void 0===y||null===(i=y.boards[N])||void 0===i?void 0:i.meta,R),loading:!1})))});case me.FETCH_ALL_ORDERS_FAIL:return N=JSON.stringify(Object.assign({},null===C||void 0===C?void 0:C.filter)),Object.assign({},y,{boards:Object.assign({},y.boards,Object(u.a)({},N,Object.assign({},y.boards[N],{error:S.payload,loading:!1})))});case me.FETCH_ORDER_REQUEST:return Object.assign({},y,{orders:Object.assign({},null===y||void 0===y?void 0:y.orders,Object(u.a)({},C,{error:!1,loading:!0}))});case me.FETCH_ORDER_SUCCESS:return Object.assign({},y,{orders:Object.assign({},null===y||void 0===y?void 0:y.orders,Object(u.a)({},null===C||void 0===C?void 0:C._id,null===C||void 0===C?void 0:C.data))});case me.FETCH_ORDER_FAIL:return Object.assign({},y,{orders:Object.assign({},null===y||void 0===y?void 0:y.orders,Object(u.a)({},null===C||void 0===C?void 0:C._id,{error:C,loading:!1}))});case me.FETCH_ALL_BULK_ORDERS_REQUEST:return Object.assign({},y,{bulk:Object.assign({},y.bulk,{loading:!0,error:!1})});case me.FETCH_ALL_BULK_ORDERS_SUCCESS:var D=(null===C||void 0===C?void 0:C.data)||[],L=(null===C||void 0===C?void 0:C.isReset)?[]:y.bulk.list;L=[].concat(Object(Ae.a)(L||[]),Object(Ae.a)(hl(D)));var U={};return D.forEach((function(e){U=Object.assign({},U,ml(null===e||void 0===e?void 0:e.orders))})),Object.assign({},y,{orders:Object.assign({},y.orders,U),bulk:Object.assign({},y.bulk,{orders:Object.assign({},y.bulk.orders,ml(D)),list:Object(Ae.a)(new Set(L)),meta:Object.assign({},y.bulk.meta,null===C||void 0===C?void 0:C.meta),loading:!1})});case me.FETCH_ALL_BULK_ORDERS_FAIL:return Object.assign({},y,{bulk:Object.assign({},y.bulk,{loading:!1,error:C})});case me.FETCH_BULK_ORDER_REQUEST:return Object.assign({},y,{bulk:Object.assign({},y.bulk,{orders:Object.assign({},y.bulk.orders,Object(u.a)({},C,{error:!1,loading:!0}))})});case me.FETCH_BULK_ORDER_SUCCESS:return E=(null===C||void 0===C||null===(n=C.data)||void 0===n?void 0:n._id)||(null===C||void 0===C||null===(l=C.data)||void 0===l?void 0:l.id),Object.assign({},y,{orders:Object.assign({},y.orders,ml((null===C||void 0===C||null===(a=C.data)||void 0===a?void 0:a.orders)||[])),bulk:Object.assign({},y.bulk,{orders:Object.assign({},y.bulk.orders,Object(u.a)({},E,null===C||void 0===C?void 0:C.data))})});case me.FETCH_BULK_ORDER_FAIL:return E=(null===C||void 0===C?void 0:C._id)||(null===C||void 0===C?void 0:C.id),Object.assign({},y,{bulk:Object.assign({},y.bulk,{orders:Object.assign({},y.bulk.orders,Object(u.a)({},E,{error:C,loading:!1}))})});case me.TRACK_ORDER_REQUEST:return E=null===S||void 0===S||null===(o=S.payload)||void 0===o?void 0:o.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!0})))});case me.TRACK_ORDER_SUCCESS:return Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},null===C||void 0===C||null===(r=C.data)||void 0===r?void 0:r._id,null===C||void 0===C?void 0:C.data))});case me.TRACK_ORDER_FAIL:return E=null===S||void 0===S||null===(s=S.payload)||void 0===s?void 0:s.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!1}))),error:null===C||void 0===C?void 0:C.meta});case me.CANCEL_ORDER_REQUEST:return E=null===S||void 0===S||null===(d=S.payload)||void 0===d?void 0:d.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!0})))});case me.CANCEL_ORDER_SUCCESS:return Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},null===C||void 0===C||null===(c=C.data)||void 0===c?void 0:c._id,null===C||void 0===C?void 0:C.data))});case me.CANCEL_ORDER_FAIL:return E=null===S||void 0===S||null===(v=S.payload)||void 0===v?void 0:v.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!1}))),error:null===C||void 0===C?void 0:C.meta});case me.CREATE_RTO_ORDER_REQUEST:return E=null===S||void 0===S||null===(j=S.payload)||void 0===j?void 0:j.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!0,isCreateRto:!0})))});case me.CREATE_RTO_ORDER_SUCCESS:return Object.assign({},y,{orders:Object.assign({},y.orders,Object(u.a)({},null===C||void 0===C||null===(b=C.data)||void 0===b?void 0:b._id,null===C||void 0===C?void 0:C.data))});case me.CREATE_RTO_ORDER_FAIL:return E=null===S||void 0===S||null===(m=S.payload)||void 0===m?void 0:m.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!1}))),error:null===C||void 0===C?void 0:C.meta});case me.SELECT_PARTNER:var P=S.payload.orderId,F={};if(P){var I,M=S.payload.partner,H=S.payload.choosePartner;"undefined"===typeof H&&(H=null===(I=y.selectedPartners[P])||void 0===I?void 0:I.choosePartner),F=Object(u.a)({},P,{partner:M,choosePartner:H,isBestPrice:S.payload.isBestPrice,isBestTat:S.payload.isBestTat})}var B,G=S.payload.bulkId,Q={};if(G)Q=Object(u.a)({},G,null===(B=S.payload)||void 0===B?void 0:B.selectAll);return Object.assign({},y,{selectedPartners:Object.assign({},y.selectedPartners,F),selectAll:Q});case me.SELECT_ORDER:var W=y.printSelection;return C.ids=null===C||void 0===C||null===(h=C.ids)||void 0===h?void 0:h.filter((function(e){var t;return null===(t=y.orders[e])||void 0===t?void 0:t.transaction_id})),W=(null===C||void 0===C?void 0:C.isSelected)?Object(Ae.a)(new Set([].concat(Object(Ae.a)(W),Object(Ae.a)((null===C||void 0===C?void 0:C.ids)||[])))):W.filter((function(e){var t;return!(null===C||void 0===C||null===(t=C.ids)||void 0===t?void 0:t.includes(e))})),Object.assign({},y,{printSelection:W});case me.DOWNLOAD_ALL_INVOICE_ORDERS_REQUEST:return null===C||void 0===C||delete C.pathname,null===C||void 0===C||delete C.offset,null===C||void 0===C||delete C.limit,N=JSON.stringify(Object.assign({},C)),Object.assign({},y,{boards:Object.assign({},y.boards,Object(u.a)({},N,Object.assign({},y.boards[N],{downloading:!0})))});case me.DOWNLOAD_ALL_INVOICE_ORDERS_SUCCESS:return N=JSON.stringify(Object.assign({},null===C||void 0===C?void 0:C.filter)),Object.assign({},y,{boards:Object.assign({},y.boards,Object(u.a)({},N,Object.assign({},y.boards[N],{downloading:!1})))});case me.FETCH_ALL_ORDERS_FAIL:return N=JSON.stringify(Object.assign({},null===C||void 0===C?void 0:C.filter)),Object.assign({},y,{boards:Object.assign({},y.boards,Object(u.a)({},N,Object.assign({},y.boards[N],{error:S.payload,downloading:!1})))});case me.RAISE_DISPUTE_REQUEST:return E=null===S||void 0===S||null===(p=S.payload)||void 0===p?void 0:p.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!0})))});case me.RAISE_DISPUTE_SUCCESS:return Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},null===C||void 0===C||null===(O=C.data)||void 0===O?void 0:O._id,null===C||void 0===C?void 0:C.data))});case me.RAISE_DISPUTE_FAIL:return E=null===S||void 0===S||null===(g=S.payload)||void 0===g?void 0:g.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!1}))),error:null===C||void 0===C?void 0:C.meta});case me.DISPUTE_SETTLE_REQUEST:return E=null===S||void 0===S||null===(x=S.payload)||void 0===x?void 0:x.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!0})))});case me.DISPUTE_SETTLE_SUCCESS:return Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},null===C||void 0===C||null===(f=C.data)||void 0===f?void 0:f._id,null===C||void 0===C?void 0:C.data))});case me.DISPUTE_SETTLE_FAIL:return E=null===S||void 0===S||null===(_=S.payload)||void 0===_?void 0:_.order_id,Object.assign({},y,{orders:Object.assign({},(null===y||void 0===y?void 0:y.orders)||{},Object(u.a)({},E,Object.assign({},(null===y||void 0===y?void 0:y.orders[E])||{},{isLoading:!1}))),error:null===C||void 0===C?void 0:C.meta});default:return y}},Ol={data:null,loading:!1,error:!1},gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol,t=arguments.length>1?arguments[1]:void 0,i=null===t||void 0===t?void 0:t.payload;switch(t.type){case be.CREATE_ORDER_REQUEST:case be.UPDATE_ORDER_REQUEST:return Object.assign({},e,{data:null,loading:!0,error:!1});case be.CREATE_ORDER_SUCCESS:case be.UPDATE_ORDER_SUCCESS:return Object.assign({},e,{data:null===i||void 0===i?void 0:i.data,loading:!1});case be.SELECT_COURIER_PARTNER:return Object.assign({},e,{selectedCourierPartner:i});case be.CREATE_ORDER_FAIL:case be.UPDATE_ORDER_FAIL:return Object.assign({},e,{loading:!1,error:i})}return e},xl={departments:{},departmentOrder:[],meta:{},loading:!1,error:null},fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},_l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},El=function(){var e,t,i,n,l,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xl,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case He.FETCH_REQUEST:case He.CREATE_REQUEST:case He.UPDATE_REQUEST:return Object.assign({},o,{loading:!0,error:null});case He.FETCH_SUCCESS:var s=(null===r||void 0===r||null===(e=r.payload)||void 0===e?void 0:e.data)||[],d=(null===r||void 0===r||null===(t=r.payload)||void 0===t?void 0:t.meta)||{},c=(null===r||void 0===r||null===(i=r.payload)||void 0===i?void 0:i.isReset)?[]:null===o||void 0===o?void 0:o.departmentOrder;return c=[].concat(Object(Ae.a)(c||[]),Object(Ae.a)(_l(s))),Object.assign({},o,{departments:Object.assign({},(null===o||void 0===o?void 0:o.departments)||{},fl(s)),departmentOrder:Object(Ae.a)(new Set(c)),meta:Object.assign({},(null===o||void 0===o?void 0:o.meta)||{},d),loading:!1});case He.CREATE_SUCCESS:return Object.assign({},o,{departments:Object.assign({},(null===o||void 0===o?void 0:o.departments)||{},fl([null===r||void 0===r?void 0:r.department])),departmentOrder:Object(Ae.a)(new Set([].concat(Object(Ae.a)(_l([null===r||void 0===r?void 0:r.department])||[]),Object(Ae.a)((null===o||void 0===o?void 0:o.departmentOrder)||[])))),meta:Object.assign({},(null===o||void 0===o?void 0:o.meta)||{},{count:((null===o||void 0===o||null===(n=o.meta)||void 0===n?void 0:n.count)||0)+1}),loading:!1});case He.UPDATE_SUCCESS:return Object.assign({},o,{departments:Object.assign({},(null===o||void 0===o?void 0:o.departments)||{},fl([null===r||void 0===r?void 0:r.department])),loading:!1});case He.DELETE_REQUEST:case He.DELETE_SUCCESS:return a=null===r||void 0===r?void 0:r.id,Object.assign({},o,{departments:Object.assign({},(null===o||void 0===o?void 0:o.departments)||{},Object(u.a)({},a,void 0)),departmentOrder:null===o||void 0===o||null===(l=o.departmentOrder)||void 0===l?void 0:l.filter((function(e){return e!==a}))});case He.CREATE_FAIL:case He.FETCH_FAIL:case He.UPDATE_FAIL:case He.DELETE_FAIL:return Object.assign({},o,{loading:!1,error:r.payload});default:return o}},Nl={plans:{},planOrder:[],meta:{},loading:!1,error:null},yl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},Sl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},Cl=function(){var e,t,i,n,l,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nl,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case at.FETCH_REQUEST:case at.CREATE_REQUEST:case at.UPDATE_REQUEST:return Object.assign({},o,{loading:!0,error:null});case at.FETCH_SUCCESS:var s=(null===r||void 0===r||null===(e=r.payload)||void 0===e?void 0:e.data)||[],d=(null===r||void 0===r||null===(t=r.payload)||void 0===t?void 0:t.meta)||{},c=(null===r||void 0===r||null===(i=r.payload)||void 0===i?void 0:i.isReset)?[]:null===o||void 0===o?void 0:o.planOrder;return c=[].concat(Object(Ae.a)(c||[]),Object(Ae.a)(Sl(s))),Object.assign({},o,{plans:Object.assign({},(null===o||void 0===o?void 0:o.plans)||{},yl(s)),planOrder:Object(Ae.a)(new Set(c)),meta:Object.assign({},(null===o||void 0===o?void 0:o.meta)||{},d),loading:!1});case at.CREATE_SUCCESS:return Object.assign({},o,{plans:Object.assign({},(null===o||void 0===o?void 0:o.plans)||{},yl([null===r||void 0===r?void 0:r.plan])),planOrder:Object(Ae.a)(new Set([].concat(Object(Ae.a)(Sl([null===r||void 0===r?void 0:r.plan])||[]),Object(Ae.a)((null===o||void 0===o?void 0:o.planOrder)||[])))),meta:Object.assign({},(null===o||void 0===o?void 0:o.meta)||{},{count:((null===o||void 0===o||null===(n=o.meta)||void 0===n?void 0:n.count)||0)+1}),loading:!1});case at.UPDATE_SUCCESS:return Object.assign({},o,{plans:Object.assign({},(null===o||void 0===o?void 0:o.plans)||{},yl([null===r||void 0===r?void 0:r.plan])),loading:!1});case at.DELETE_REQUEST:case at.DELETE_SUCCESS:return a=null===r||void 0===r?void 0:r.id,Object.assign({},o,{plans:Object.assign({},(null===o||void 0===o?void 0:o.plans)||{},Object(u.a)({},a,void 0)),planOrder:null===o||void 0===o||null===(l=o.planOrder)||void 0===l?void 0:l.filter((function(e){return e!==a}))});case at.CREATE_FAIL:case at.FETCH_FAIL:case at.UPDATE_FAIL:case at.DELETE_FAIL:return Object.assign({},o,{loading:!1,error:r.payload});default:return o}},wl={roles:{},boards:{},filters:{}},Tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},Al=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},Rl=function(){var e,t,i,n,l,a,o,r,s,d,c,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wl,j=arguments.length>1?arguments[1]:void 0,b=null===j||void 0===j?void 0:j.payload;switch(j.type){case it.CREATE_REQUEST:return c=JSON.stringify({}),Object.assign({},v,{boards:Object.assign({},v.boards,Object(u.a)({},c,Object.assign({},v.boards[c],{error:null,creating:!0})))});case it.CREATE_SUCCESS:return c=JSON.stringify({}),Object.assign({},v,{roles:Object.assign({},v.roles,Object(u.a)({},null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e._id,null===b||void 0===b?void 0:b.data)),boards:Object.assign({},v.boards,Object(u.a)({},c,Object.assign({},v.boards[c],{list:Object(Ae.a)(new Set([].concat(Object(Ae.a)((null===v||void 0===v||null===(t=v.boards[c])||void 0===t?void 0:t.list)||[]),[null===b||void 0===b||null===(i=b.data)||void 0===i?void 0:i._id]))),meta:Object.assign({},null===(n=v.boards[c])||void 0===n?void 0:n.meta,{totalCount:((null===(l=v.boards[c])||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.totalCount)||0)+1}),creating:!1})))});case it.CREATE_FAIL:return c=JSON.stringify({}),Object.assign({},v,{boards:Object.assign({},v.boards,Object(u.a)({},c,Object.assign({},v.boards[c],{error:b,creating:!1})))});case it.FETCH_All_REQUEST:var m=Object.assign({},b),h=null===m||void 0===m?void 0:m.pathname;return null===b||void 0===b||delete b.pathname,null===m||void 0===m||delete m.pathname,null===m||void 0===m||delete m.offset,null===m||void 0===m||delete m.limit,c=JSON.stringify(Object.assign({},m)),Object.assign({},v,{filters:Object.assign({},v.filters,h&&Object(u.a)({},h,m)),boards:Object.assign({},v.boards,Object(u.a)({},c,Object.assign({},v.boards[c],{loading:!0,error:null})))});case it.FETCH_All_SUCCESS:c=JSON.stringify(Object.assign({},null===b||void 0===b?void 0:b.filter));var p=null===b||void 0===b?void 0:b.meta,O=(null===b||void 0===b?void 0:b.isReset)?[]:(null===v||void 0===v||null===(o=v.boards[c])||void 0===o?void 0:o.list)||[];return O=[].concat(Object(Ae.a)(O||[]),Object(Ae.a)(Al(null===b||void 0===b?void 0:b.data))),Object.assign({},v,{roles:Object.assign({},v.roles,Tl(null===b||void 0===b?void 0:b.data)),boards:Object.assign({},v.boards,Object(u.a)({},c,Object.assign({},v.boards[c],{list:Object(Ae.a)(new Set(O)),meta:Object.assign({},null===(r=v.boards[c])||void 0===r?void 0:r.meta,p),loading:!1})))});case it.FETCH_All_FAIL:return c=JSON.stringify(Object.assign({},null===b||void 0===b?void 0:b.filter)),Object.assign({},v,{boards:Object.assign({},v.boards,Object(u.a)({},c,Object.assign({},v.boards[c],{error:b,loading:!1})))});case it.FETCH_REQUEST:return Object.assign({},v,{roles:Object.assign({},v.roles,Object(u.a)({},b,Object.assign({},v.roles[b],{error:null,loading:!0})))});case it.FETCH_SUCCESS:return Object.assign({},v,{roles:Object.assign({},v.roles,Object(u.a)({},null===b||void 0===b||null===(s=b.data)||void 0===s?void 0:s._id,null===b||void 0===b?void 0:b.data))});case it.FETCH_FAIL:return Object.assign({},v,{roles:Object.assign({},v.roles,Object(u.a)({},null===b||void 0===b?void 0:b.role_id,Object.assign({},v.roles[null===b||void 0===b?void 0:b.role_id],{error:b,loading:!1})))});case it.UPDATE_REQUEST:return Object.assign({},v,{roles:Object.assign({},v.roles,Object(u.a)({},null===b||void 0===b?void 0:b._id,Object.assign({},v.roles[null===b||void 0===b?void 0:b._id],{error:null,updating:!0})))});case it.UPDATE_SUCCESS:return Object.assign({},v,{roles:Object.assign({},v.roles,Object(u.a)({},null===b||void 0===b||null===(d=b.data)||void 0===d?void 0:d._id,null===b||void 0===b?void 0:b.data))});case it.UPDATE_FAIL:return Object.assign({},v,{roles:Object.assign({},v.roles,Object(u.a)({},null===b||void 0===b?void 0:b.role_id,Object.assign({},v.roles[null===b||void 0===b?void 0:b.role_id],{error:b,updating:!1})))});default:return v}},kl={filters:{},users:{},customerList:[],userOrder:[],meta:{},loading:!1,error:null,usages:{},usageBoards:{},usagesDetails:{},usageDetailsBoards:{}},Dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},Ll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},Ul=function(){var e,t,i,n,l,a,o,r,s,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kl,c=arguments.length>1?arguments[1]:void 0,v=null===c||void 0===c?void 0:c.payload;switch(c.type){case Je.CREATE_REQUEST:case Je.FETCH_ALL_REQUEST:case Je.FETCH_ALL_CUSTOMER_REQUEST:case Je.FETCH_REQUEST:case Je.UPDATE_REQUEST:return Object.assign({},d,{loading:!0,error:null});case Je.FETCH_ALL_CUSTOMER_SUCCESS:return Object.assign({},d,{users:Object.assign({},d.users||{},Dl(null===v||void 0===v?void 0:v.data)),customerList:Object(Ae.a)(new Set(Ll(null===v||void 0===v?void 0:v.data))),loading:!1});case Je.FETCH_ALL_SUCCESS:var j=(null===c||void 0===c||null===(e=c.payload)||void 0===e?void 0:e.data)||[],b=(null===c||void 0===c||null===(t=c.payload)||void 0===t?void 0:t.isReset)?[]:null===d||void 0===d?void 0:d.userOrder;return b=[].concat(Object(Ae.a)(b),Object(Ae.a)(Ll(j))),Object.assign({},d,{users:Object.assign({},(null===d||void 0===d?void 0:d.users)||{},Dl(j)),userOrder:Object(Ae.a)(new Set(b)),meta:Object.assign({},(null===d||void 0===d?void 0:d.meta)||{},(null===c||void 0===c||null===(i=c.payload)||void 0===i?void 0:i.meta)||{}),loading:!1});case Je.CREATE_SUCCESS:return Object.assign({},d,{users:Object.assign({},(null===d||void 0===d?void 0:d.users)||{},Dl([null===c||void 0===c?void 0:c.user])),userOrder:Object(Ae.a)(new Set([].concat(Object(Ae.a)(Ll([null===c||void 0===c?void 0:c.user])||[]),Object(Ae.a)((null===d||void 0===d?void 0:d.userOrder)||[])))),meta:Object.assign({},(null===d||void 0===d?void 0:d.meta)||{},{totalCount:((null===d||void 0===d||null===(n=d.meta)||void 0===n?void 0:n.totalCount)||0)+1}),loading:!1});case Je.UPDATE_SUCCESS:return Object.assign({},d,{users:Object.assign({},(null===d||void 0===d?void 0:d.users)||{},Dl([null===c||void 0===c?void 0:c.user])||{}),loading:!1});case Je.DELETE_REQUEST:case Je.DELETE_SUCCESS:return r=null===c||void 0===c?void 0:c.id,Object.assign({},d,{users:Object.assign({},(null===d||void 0===d?void 0:d.users)||{},Object(u.a)({},r,void 0)),userOrder:null===d||void 0===d||null===(l=d.userOrder)||void 0===l?void 0:l.filter((function(e){return e!==r}))});case Je.CREATE_FAIL:case Je.FETCH_FAIL:case Je.FETCH_ALL_CUSTOMER_FAIL:case Je.UPDATE_FAIL:case Je.DELETE_FAIL:return Object.assign({},d,{error:c.payload,loading:!1});case Je.FETCH_ALL_USAGE_REQUEST:var m=Object.assign({},v),h=null===m||void 0===m?void 0:m.pathname;return null===v||void 0===v||delete v.pathname,null===m||void 0===m||delete m.pathname,null===m||void 0===m||delete m.offset,null===m||void 0===m||delete m.limit,s=JSON.stringify(Object.assign({},m)),Object.assign({},d,{filters:Object.assign({},d.filters,h&&Object(u.a)({},h,m)),usageBoards:Object.assign({},d.usageBoards,Object(u.a)({},s,Object.assign({},d.usageBoards[s],{loading:!0,error:null})))});case Je.FETCH_ALL_USAGE_SUCCESS:s=JSON.stringify(Object.assign({},null===v||void 0===v?void 0:v.filter));var p=(null===v||void 0===v?void 0:v.data)||[],O=null===v||void 0===v?void 0:v.meta,g=(null===v||void 0===v?void 0:v.isReset)?[]:(null===(a=d.usageBoards[s])||void 0===a?void 0:a.list)||[];return g=[].concat(Object(Ae.a)(g||[]),Object(Ae.a)(Ll(p))),Object.assign({},d,{usages:Object.assign({},d.usages,Dl(p)),usageBoards:Object.assign({},d.usageBoards,Object(u.a)({},s,Object.assign({},d.usageBoards[s],{list:Object(Ae.a)(new Set(g)),meta:Object.assign({},null===(o=d.usageBoards[s])||void 0===o?void 0:o.meta,O),loading:!1})))});case Je.FETCH_ALL_USAGE_FAIL:return s=JSON.stringify(Object.assign({},null===v||void 0===v?void 0:v.filter)),Object.assign({},d,{usageBoards:Object.assign({},d.usageBoards,Object(u.a)({},s,Object.assign({},d.usageBoards[s],{error:c.payload,loading:!1})))});case Je.FETCH_USER_USAGE_REQUEST:return Object.assign({},d,{usages:Object.assign({},d.usages,Object(u.a)({},null===v||void 0===v?void 0:v.user_id,Object.assign({},d.usages[null===v||void 0===v?void 0:v.user_id],{loading:!0,error:null})))});case Je.FETCH_USER_USAGE_SUCCESS:return Object.assign({},d,{usages:Object.assign({},d.usages,Dl(null===v||void 0===v?void 0:v.data))});case Je.FETCH_USER_USAGE_FAIL:return Object.assign({},d,{usageBoards:Object.assign({},d.usageBoards,Object(u.a)({},null===v||void 0===v?void 0:v.user_id,Object.assign({},d.usageBoards[null===v||void 0===v?void 0:v.user_id],{error:c.payload,loading:!1})))});default:return d}},Pl={wallets:{},data:null,transactions:{},transactionList:[],chart:{credit:[],debit:[]},meta:null,loading:!1,error:null,remittance:{users:{},list:[],meta:{}}},Fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},Il=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},Ml=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Object(Ae.a)(new Array(12)).map((function(i,n){var l={total_amount:0,type:t},a=e.find((function(e){return t===(null===e||void 0===e?void 0:e.type)&&parseInt(null===e||void 0===e?void 0:e.month)-1===n}));return a&&(l=Object.assign({},l,a)),l}))},Hl=function(){var e,t,i,n,l,a,o,r,s,d,c,v,j,b,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pl,h=arguments.length>1?arguments[1]:void 0,p=null===h||void 0===h?void 0:h.payload;switch(h.type){case pt.VERIFY_BANK_DETAIL_REQUEST:return Object.assign({},m,{loading:!0,error:null});case pt.FETCH_WALLET_SUCCESS:return Object.assign({},m,{data:Object.assign({},(null===m||void 0===m?void 0:m.data)||{},null===p||void 0===p?void 0:p.data),transactions:Object.assign({},(null===m||void 0===m?void 0:m.transactions)||{},Fl(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.transactions)),transactionList:Object(Ae.a)(new Set(Il(null===p||void 0===p||null===(t=p.data)||void 0===t?void 0:t.transactions))),chart:{credit:Ml(null===p||void 0===p||null===(i=p.data)||void 0===i?void 0:i.chart,"credit"),debit:Ml(null===p||void 0===p||null===(n=p.data)||void 0===n?void 0:n.chart,"debit")},meta:Object.assign({},(null===m||void 0===m?void 0:m.meta)||{},(null===p||void 0===p||null===(l=p.data)||void 0===l?void 0:l.meta)||{}),loading:!1});case pt.FETCH_WALLET_REQUEST:return Object.assign({},m,p?{wallets:Object.assign({},m.wallets,Object(u.a)({},p,Object.assign({},m.wallets[p],{error:null,loading:!0})))}:{loading:!0,error:null});case pt.FETCH_USER_WALLET_SUCCESS:return b=null===p||void 0===p?void 0:p.filter,Object.assign({},m,{wallets:Object.assign({},m.wallets,Object(u.a)({},b,Object.assign({},m.wallets[b],{data:Object.assign({},null===(a=m.wallets[b])||void 0===a?void 0:a.data,null===p||void 0===p?void 0:p.data),transactions:Object.assign({},null===(o=m.wallets[b])||void 0===o?void 0:o.transactions,Fl(null===p||void 0===p||null===(r=p.data)||void 0===r?void 0:r.transactions)),transactionList:Object(Ae.a)(new Set(Il(null===p||void 0===p||null===(s=p.data)||void 0===s?void 0:s.transactions))),chart:{credit:Ml(null===p||void 0===p||null===(d=p.data)||void 0===d?void 0:d.chart,"credit"),debit:Ml(null===p||void 0===p||null===(c=p.data)||void 0===c?void 0:c.chart,"debit")},meta:Object.assign({},null===(v=m.wallets[b])||void 0===v?void 0:v.meta,null===p||void 0===p||null===(j=p.data)||void 0===j?void 0:j.meta),loading:!1})))});case pt.FETCH_USER_WALLET_FAIL:return b=null===p||void 0===p?void 0:p.filter,Object.assign({},m,{wallets:Object.assign({},m.wallets,Object(u.a)({},b,Object.assign({},m.wallets[b],{error:p,loading:!1})))});case pt.VERIFY_BANK_DETAIL_SUCCESS:var O=(null===p||void 0===p?void 0:p.data)||[];return Object.assign({},m,{remittance:Object.assign({},m.remittance,{users:Object.assign({},m.remittance.users||{},Fl([O]))}),loading:!1});case pt.FETCH_WALLET_FAIL:case pt.VERIFY_BANK_DETAIL_FAIL:return Object.assign({},m,{error:h.payload,loading:!1});default:return m}},Bl={comments:{},board:{},list:[],meta:{},loading:!1,error:null},Gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},Ql=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},Wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bl,t=arguments.length>1?arguments[1]:void 0,i=null===t||void 0===t?void 0:t.payload;switch(t.type){case ri.FETCH_ALL_REQUEST:return Object.assign({},e,{board:Object.assign({},e.board,Object(u.a)({},null===i||void 0===i?void 0:i.model_id,Object.assign({},e.board[null===i||void 0===i?void 0:i.model_id],{error:null,loading:!0})))});case ri.FETCH_ALL_SUCCESS:var n,l=(null===i||void 0===i?void 0:i.data)||[],a=(null===i||void 0===i?void 0:i.meta)||{},o=(null===i||void 0===i?void 0:i.isReset)?[]:e.board[null===i||void 0===i?void 0:i.model_id].list;return o=[].concat(Object(Ae.a)(o||[]),Object(Ae.a)(Ql(l))),Object.assign({},e,{comments:Object.assign({},e.comments,Gl(l)),board:Object.assign({},e.board,Object(u.a)({},null===i||void 0===i?void 0:i.model_id,Object.assign({},e.board[null===i||void 0===i?void 0:i.model_id],{list:Object(Ae.a)(new Set(o)),meta:Object.assign({},null===(n=e.board[null===i||void 0===i?void 0:i.model_id])||void 0===n?void 0:n.meta,a),loading:!1})))});case ri.FETCH_ALL_FAIL:return Object.assign({},e,{board:Object.assign({},e.board,Object(u.a)({},null===i||void 0===i?void 0:i.model_id,Object.assign({},e.board[null===i||void 0===i?void 0:i.model_id],{loading:!1,error:i})))});case ri.CREATE_REQUEST:return Object.assign({},e,{board:Object.assign({},e.board,Object(u.a)({},null===i||void 0===i?void 0:i.model_id,Object.assign({},e.board[null===i||void 0===i?void 0:i.model_id],{error:null,loading:!0})))});case ri.CREATE_SUCCESS:var r,s,d,c,v=(null===(r=e.board[null===i||void 0===i?void 0:i.model_id])||void 0===r?void 0:r.list)||[];return Object.assign({},e,{comments:Object.assign({},e.comments,Object(u.a)({},null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s._id,null===i||void 0===i?void 0:i.data)),board:Object.assign({},e.board,Object(u.a)({},null===i||void 0===i?void 0:i.model_id,Object.assign({},e.board[null===i||void 0===i?void 0:i.model_id],{list:Object(Ae.a)(new Set([null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d._id].concat(Object(Ae.a)(v)))),meta:Object.assign({},e.meta,{totalCount:((null===(c=e.meta)||void 0===c?void 0:c.totalCount)||0)+1}),loading:!1})))});case ri.CREATE_FAIL:return Object.assign({},e,{board:Object.assign({},e.board,Object(u.a)({},null===i||void 0===i?void 0:i.model_id,Object.assign({},e.board[null===i||void 0===i?void 0:i.model_id],{error:i,loading:!1})))});default:return e}},Yl={data:null,loading:!1,error:null,attachments:{}},ql=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id",i=e.reduce((function(e,i){return e[i[t]||(null===i||void 0===i?void 0:i.id)]=i,e}),{});return Object.assign({},i)},Kl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case li.FETCH_LOGISTIC_REQUEST:return Object.assign({},e,{loading:!0});case li.FETCH_LOGISTIC_SUCCESS:return Object.assign({},e,{data:t.payload,loading:!1});case li.FETCH_LOGISTIC_FAIL:return Object.assign({},e,{error:t.payload,loading:!1});case li.FETCH_LOGISTIC_PLAN_REQUEST:return Object.assign({},e,{loading:!0});case li.FETCH_LOGISTIC_PLAN_SUCCESS:var i={},n=Object.assign({},ql(t.payload));return Object.keys(n).map((function(e){i=Object.assign({},i,Object(u.a)({},e,ql(n[e].attachments,"plan")))})),Object.assign({},e,{attachments:i,loading:!1});case li.FETCH_LOGISTIC_PLAN_FAIL:return Object.assign({},e,{error:t.payload,loading:!1});default:return e}},zl={remittance:{},orderList:[],meta:{},loading:!1,error:null,accounts:{users:{},filter:""}},Vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},Jl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},Xl=function(){var e,t,i,n,l,a,o,r,s,d,c,v,j,b,m,h,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zl,O=arguments.length>1?arguments[1]:void 0,g=null===O||void 0===O?void 0:O.payload;switch(O.type){case ui.UPDATE_STATUS_REQUEST:case ui.UPLOAD_FILE_REQUEST:case ui.FETCH_ALL_REMITTANCE_REQUEST:return Object.assign({},p,{loading:!0,error:null});case ui.FETCH_ALL_REMITTANCE_SUCCESS:var x=(null===O||void 0===O||null===(e=O.payload)||void 0===e?void 0:e.data)||[],f=(null===O||void 0===O||null===(t=O.payload)||void 0===t?void 0:t.meta)||{},_=(null===O||void 0===O||null===(i=O.payload)||void 0===i?void 0:i.isReset)?[]:null===p||void 0===p?void 0:p.orderList;return _=[].concat(Object(Ae.a)(_||[]),Object(Ae.a)(Jl(x))),Object.assign({},p,{remittance:Object.assign({},(null===p||void 0===p?void 0:p.remittance)||{},Vl(x)),orderList:Object(Ae.a)(new Set(_)),meta:Object.assign({},(null===p||void 0===p?void 0:p.meta)||{},f),loading:!1});case ui.UPLOAD_FILE_SUCCESS:return Object.assign({},p,{remittance:Object.assign({},null===p||void 0===p?void 0:p.remittance,Object(u.a)({},null===O||void 0===O||null===(n=O.payload)||void 0===n||null===(l=n.data)||void 0===l?void 0:l._id,null===O||void 0===O||null===(a=O.payload)||void 0===a?void 0:a.data)),orderList:[null===O||void 0===O||null===(o=O.payload)||void 0===o||null===(r=o.data)||void 0===r?void 0:r._id].concat(Object(Ae.a)(p.orderList)),meta:Object.assign({},null===p||void 0===p?void 0:p.meta,{totalCount:(null===p||void 0===p||null===(s=p.meta)||void 0===s?void 0:s.totalCount)+1}),loading:!1});case ui.UPDATE_STATUS_SUCCESS:return Object.assign({},p,{remittance:Object.assign({},null===p||void 0===p?void 0:p.remittance,Object(u.a)({},null===O||void 0===O||null===(d=O.payload)||void 0===d||null===(c=d.data)||void 0===c?void 0:c._id,null===O||void 0===O||null===(v=O.payload)||void 0===v?void 0:v.data)),loading:!1});case ui.UPDATE_STATUS_FAILURE:case ui.UPLOAD_FILE_FAILURE:case ui.FETCH_ALL_REMITTANCE_FAIL:return Object.assign({},p,{error:O.payload,loading:!1});case ui.FETCH_ACCOUNTS_REQUEST:var E=Object.assign({},g);return null===E||void 0===E||delete E.offset,null===E||void 0===E||delete E.limit,h=JSON.stringify(Object.assign({},E)),Object.assign({},p,{accounts:Object.assign({},p.accounts,Object(u.a)({filter:h},h,Object.assign({},p.accounts[h],{loading:!0,error:!1})))});case ui.FETCH_ACCOUNTS_SUCCESS:h=JSON.stringify(Object.assign({},null===g||void 0===g?void 0:g.filter));var N=(null===g||void 0===g?void 0:g.data)||[],y=(null===g||void 0===g?void 0:g.isReset)?[]:p.remittance[h]&&(null===(j=p.remittance[h])||void 0===j?void 0:j.list)||[];return y=[].concat(Object(Ae.a)(y),Object(Ae.a)(Jl(N))),Object.assign({},p,{accounts:Object.assign({},p.accounts,Object(u.a)({users:Object.assign({},p.accounts.users||{},Vl(N)),filter:h},h,Object.assign({},p.accounts[h],{list:Object(Ae.a)(new Set(y)),meta:Object.assign({},p.remittance.meta||{},(null===g||void 0===g?void 0:g.meta)||{}),loading:!1})))});case ui.FETCH_ACCOUNTS_FAIL:return h=JSON.stringify(Object.assign({},null===g||void 0===g?void 0:g.filter)),null===g||void 0===g||delete g.filter,Object.assign({},p,{accounts:Object.assign({},p.accounts,Object(u.a)({filter:h},h,Object.assign({},p.accounts[h],{error:g,loading:!1})))});case ui.VERIFY_ACCOUNTS_REQUEST:return Object.assign({},p,{accounts:Object.assign({},p.accounts,{users:Object.assign({},p.accounts.users,Object(u.a)({},null===g||void 0===g?void 0:g._id,Object.assign({},p.accounts.users[null===g||void 0===g?void 0:g._id],{error:null,loading:!0})))})});case ui.VERIFY_ACCOUNTS_SUCCESS:return Object.assign({},p,{accounts:Object.assign({},p.accounts,{users:Object.assign({},p.accounts.users,Object(u.a)({},null===g||void 0===g||null===(b=g.data)||void 0===b?void 0:b._id,null===g||void 0===g?void 0:g.data))})});case ui.VERIFY_ACCOUNTS_FAIL:return Object.assign({},p,{accounts:Object.assign({},p.accounts,{users:Object.assign({},p.accounts.users,Object(u.a)({},null===g||void 0===g?void 0:g.user_id,Object.assign({},p.accounts.users[null===g||void 0===g?void 0:g.user_id],{error:g,loading:!1})))})});case ui.UPDATE_ACCOUNTS_REQUEST:return Object.assign({},p,{accounts:Object.assign({},p.accounts,{users:Object.assign({},p.accounts.users,Object(u.a)({},null===g||void 0===g?void 0:g._id,Object.assign({},p.accounts.users[null===g||void 0===g?void 0:g._id],{error:null,loading:!0})))})});case ui.UPDATE_ACCOUNTS_SUCCESS:return Object.assign({},p,{accounts:Object.assign({},p.accounts,{users:Object.assign({},p.accounts.users,Object(u.a)({},null===g||void 0===g||null===(m=g.data)||void 0===m?void 0:m._id,null===g||void 0===g?void 0:g.data))})});case ui.UPDATE_ACCOUNTS_FAIL:return Object.assign({},p,{accounts:Object.assign({},p.accounts,{users:Object.assign({},p.accounts.users,Object(u.a)({},null===g||void 0===g?void 0:g.user_id,Object.assign({},p.accounts.users[null===g||void 0===g?void 0:g.user_id],{error:g,loading:!1})))})});default:return p}},$l={files:{},boards:{},filters:{},loading:!1,error:null},Zl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments.length>1?arguments[1]:void 0,i=null===t||void 0===t?void 0:t.payload,n=JSON.stringify({});switch(t.type){case fn.FETCH_ALL_CSV:var l=Object.assign({},i),a=null===l||void 0===l?void 0:l.pathname;return null===i||void 0===i||delete i.pathname,null===l||void 0===l||delete l.pathname,null===l||void 0===l||delete l.offset,null===l||void 0===l||delete l.limit,n=JSON.stringify(Object.assign({},l)),Object.assign({},e,{filters:Object.assign({},e.filters,a&&Object(u.a)({},a,l)),boards:Object.assign({},e.boards,Object(u.a)({},n,Object.assign({},e.boards[n],{loading:!0,error:null})))});case fn.FETCH_ALL_CSV_SUCCESS:var o,r;n=JSON.stringify(Object.assign({},null===i||void 0===i?void 0:i.filter));var s=(null===i||void 0===i?void 0:i.data)||[],d=null===i||void 0===i?void 0:i.meta,c=(null===i||void 0===i?void 0:i.isReset)?[]:(null===e||void 0===e||null===(o=e.boards[n])||void 0===o?void 0:o.list)||[];return c=[].concat(Object(Ae.a)(c||[]),Object(Ae.a)(ea(s))),Object.assign({},e,{files:Object.assign({},(null===e||void 0===e?void 0:e.files)||{},Zl(s)),boards:Object.assign({},e.boards,Object(u.a)({},n,Object.assign({},e.boards[n],{list:Object(Ae.a)(new Set(c)),meta:Object.assign({},null===e||void 0===e||null===(r=e.boards[n])||void 0===r?void 0:r.meta,d),loading:!1})))});case fn.FETCH_ALL_CSV_FAIL:return n=JSON.stringify(Object.assign({},null===i||void 0===i?void 0:i.filter)),Object.assign({},e,{boards:Object.assign({},e.boards,Object(u.a)({},n,Object.assign({},e.boards[n],{error:t.payload,loading:!1})))});case fn.UPLOAD_FILE:return Object.assign({},e,{loading:!0,error:null});case fn.UPLOAD_FILE_SUCCESS:var v,j,b,m,h,p,O,g,x=(null===i||void 0===i?void 0:i.data)||{},f=(null===e||void 0===e||null===(v=e.boards)||void 0===v||null===(j=v[n])||void 0===j?void 0:j.list)||[];return f=[null===x||void 0===x?void 0:x._id].concat(Object(Ae.a)(f||[])),Object.assign({},e,{files:Object.assign({},null===e||void 0===e?void 0:e.files,Object(u.a)({},null===x||void 0===x?void 0:x._id,x)),boards:Object.assign({},e.boards,Object(u.a)({},n,Object.assign({},null===e||void 0===e||null===(b=e.boards)||void 0===b?void 0:b[n],{list:Object(Ae.a)(new Set(f)),meta:Object.assign({},null===e||void 0===e||null===(m=e.boards)||void 0===m||null===(h=m[n])||void 0===h?void 0:h.meta,{total_count:((null===e||void 0===e||null===(p=e.boards)||void 0===p||null===(O=p[n])||void 0===O||null===(g=O.meta)||void 0===g?void 0:g.total_count)||0)+1})}))),error:i,loading:!1});case fn.UPLOAD_FILE_FAILURE:return Object.assign({},e,{loading:!1,error:i});default:return e}},ia={data:null,loading:!1,error:!1},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0,i=null===t||void 0===t?void 0:t.payload;switch(t.type){case Ye.SEARCH_PARTNER_REQUEST:return Object.assign({},e,{loading:!0,error:null});case Ye.SEARCH_PARTNER_SUCCESS:return Object.assign({},e,{data:null===i||void 0===i?void 0:i.data,loading:!1});case Ye.SEARCH_PARTNER_FAIL:return Object.assign({},e,{error:i,loading:!1});default:return e}},la={reports:{},dashboard:{}},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},ra=function(){var e,t,i,n,l,a,o,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,d=arguments.length>1?arguments[1]:void 0,c=null===d||void 0===d?void 0:d.payload,v=JSON.stringify((null===c||void 0===c?void 0:c.type)||{});switch(d.type){case Ei.FETCH_ALL_REPORTS_REQUEST:return Object.assign({},s,{dashboard:Object.assign({},s.dashboard,Object(u.a)({},v,Object.assign({},s.dashboard&&s.dashboard[v],{error:null,loading:!0})))});case Ei.FETCH_ALL_REPORTS_SUCCESS:var j=(null===c||void 0===c?void 0:c.data)||[],b=(null===c||void 0===c?void 0:c.isReset)?[]:s.dashboard&&(null===(e=s.dashboard[v])||void 0===e?void 0:e.list);return b=[].concat(Object(Ae.a)(b||[]),Object(Ae.a)(oa(j))),Object.assign({},s,{reports:Object.assign({},s.reports,aa(j)),dashboard:Object.assign({},s.dashboard,Object(u.a)({},v,{list:Object(Ae.a)(new Set(b)),meta:Object.assign({},s.dashboard&&(null===(t=s.dashboard[v])||void 0===t?void 0:t.meta),null===c||void 0===c?void 0:c.meta),loading:!1}))});case Ei.FETCH_ALL_REPORTS_FAIL:return Object.assign({},s,{dashboard:Object.assign({},s.dashboard,Object(u.a)({},v,Object.assign({},s.dashboard&&s.dashboard[v],{error:null===c||void 0===c?void 0:c.data,loading:!1})))});case Ei.FETCH_ONE_REPORT_REQUEST:return Object.assign({},s,{reports:Object.assign({},s.reports,Object(u.a)({},c,Object.assign({},s.reports[c],{error:null,loading:!0})))});case Ei.FETCH_ONE_REPORT_SUCCESS:return Object.assign({},s,{reports:Object.assign({},s.reports,Object(u.a)({},null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i._id,null===c||void 0===c?void 0:c.data))});case Ei.FETCH_ONE_REPORT_FAIL:return Object.assign({},s,{reports:Object.assign({},s.reports,Object(u.a)({},c,Object.assign({},s.reports[c],{error:c,loading:!1})))});case Ei.REMIT_REPORT_ORDERS_REQUEST:return r=null===(l=r=(null===c||void 0===c?void 0:c.report_id)&&(null===(n=s.reports[null===c||void 0===c?void 0:c.report_id])||void 0===n?void 0:n.order_ids)||[])||void 0===l?void 0:l.map((function(e){var t;return(null===c||void 0===c||null===(t=c.awb_numbers)||void 0===t?void 0:t.includes(null===e||void 0===e?void 0:e.ewaybill_number))?Object(M.a)(Object(M.a)({},e),{},{loading:!0}):e})),Object.assign({},s,{reports:Object.assign({},s.reports,Object(u.a)({},null===c||void 0===c?void 0:c.report_id,Object.assign({},s.reports[null===c||void 0===c?void 0:c.report_id],{order_ids:r})))});case Ei.REMIT_REPORT_ORDERS_FAIL:return r=null===(o=r=(null===c||void 0===c?void 0:c.report_id)&&(null===(a=s.reports[null===c||void 0===c?void 0:c.report_id])||void 0===a?void 0:a.order_ids)||[])||void 0===o?void 0:o.map((function(e){var t;return(null===c||void 0===c||null===(t=c.awb_numbers)||void 0===t?void 0:t.includes(null===e||void 0===e?void 0:e.ewaybill_number))?Object(M.a)(Object(M.a)({},e),{},{loading:!1}):e})),Object.assign({},s,{reports:Object.assign({},s.reports,Object(u.a)({},null===c||void 0===c?void 0:c.report_id,Object.assign({},s.reports[null===c||void 0===c?void 0:c._id],{order_ids:r})))});default:return s}},sa={filters:{},boards:{}},da=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,n=arguments.length>1?arguments[1]:void 0,l=null===n||void 0===n?void 0:n.payload;switch(n.type){case Hi.FETCH_REQUEST:var a=Object.assign({},l),o=null===a||void 0===a?void 0:a.pathname;return null===l||void 0===l||delete l.pathname,null===a||void 0===a||delete a.pathname,null===a||void 0===a||delete a.offset,null===a||void 0===a||delete a.limit,t=JSON.stringify(Object.assign({},a)),Object.assign({},i,{filters:Object.assign({},i.filters,o&&Object(u.a)({},o,a)),boards:Object.assign({},i.boards,Object(u.a)({},t,Object.assign({},i.boards[t],{error:null,loading:!0})))});case Hi.FETCH_SUCCESS:return t=JSON.stringify(Object.assign({},null===l||void 0===l?void 0:l.filter)),Object.assign({},i,{boards:Object.assign({},i.boards,Object(u.a)({},t,Object.assign({},i.boards[t],{data:null===l||void 0===l?void 0:l.data,meta:Object.assign({},null===i||void 0===i||null===(e=i.boards[t])||void 0===e?void 0:e.meta,null===l||void 0===l?void 0:l.meta),loading:!1})))});case Hi.FETCH_FAIL:return t=JSON.stringify(Object.assign({},null===l||void 0===l?void 0:l.filter)),Object.assign({},i,{boards:Object.assign({},i.boards,Object(u.a)({},t,Object.assign({},i.boards[t],{error:n.payload,loading:!1})))});case Hi.REFRESH_COUNTER_REQUEST:var r,s;t=JSON.stringify(Object.assign({}));var d=null===(r=i.boards)||void 0===r?void 0:r[t];return Object.assign({},i,{boards:Object.assign({},i.boards,Object(u.a)({},t,Object.assign({},d,{data:Object.assign({},null===d||void 0===d?void 0:d.data,Object(u.a)({},null===l||void 0===l?void 0:l.counter_key,Object.assign({},null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s[null===l||void 0===l?void 0:l.counter_key],{loading:!0})))})))});case Hi.REFRESH_COUNTER_SUCCESS:var c,v;t=JSON.stringify(Object.assign({}));var j=null===(c=i.boards)||void 0===c?void 0:c[t];return Object.assign({},i,{boards:Object.assign({},i.boards,Object(u.a)({},t,Object.assign({},j,{data:Object.assign({},null===j||void 0===j?void 0:j.data,null===l||void 0===l?void 0:l.data,Object(u.a)({},null===l||void 0===l?void 0:l.counter_key,Object.assign({},null===l||void 0===l||null===(v=l.data)||void 0===v?void 0:v[null===l||void 0===l?void 0:l.counter_key],{loading:!1})))})))});case Hi.REFRESH_COUNTER_FAIL:var b,m;t=JSON.stringify(Object.assign({}));var h=null===(b=i.boards)||void 0===b?void 0:b[t];return Object.assign({},i,{boards:Object.assign({},i.boards,Object(u.a)({},t,Object.assign({},h,{data:Object.assign({},null===h||void 0===h?void 0:h.data,Object(u.a)({},null===l||void 0===l?void 0:l.counter_key,Object.assign({},null===h||void 0===h||null===(m=h.data)||void 0===m?void 0:m[null===l||void 0===l?void 0:l.counter_key],{error:l,loading:!1})))})))});default:return i}},ca={users:{},filter:null},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return e[(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id)]=t,e}),{});return Object.assign({},t)},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null===e||void 0===e?void 0:e.map((function(e){return(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)}));return t},ja=function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,l=arguments.length>1?arguments[1]:void 0,a=null===l||void 0===l?void 0:l.payload;switch(l.type){case Vi.FETCH_ALL_REQUEST:var o=Object.assign({},a);return delete o.offset,delete o.limit,i=JSON.stringify(o),Object.assign({},n,Object(u.a)({filter:o},i,Object.assign({},n[i],{error:null,loading:!0})));case Vi.FETCH_ALL_SUCCESS:i=JSON.stringify(Object.assign({},null===a||void 0===a?void 0:a.filter));var r=(null===a||void 0===a?void 0:a.data)||[],s=(null===a||void 0===a?void 0:a.isReset)?[]:(null===(e=n[i])||void 0===e?void 0:e.list)||[];return s=[].concat(Object(Ae.a)(s),Object(Ae.a)(va(r))),Object.assign({},n,Object(u.a)({users:Object.assign({},null===n||void 0===n?void 0:n.users,ua(r))},i,Object.assign({},n[i],{list:Object(Ae.a)(new Set(s)),meta:Object.assign({},null===n||void 0===n?void 0:n.meta,null===l||void 0===l||null===(t=l.payload)||void 0===t?void 0:t.meta),loading:!1})));case Vi.FETCH_ALL_FAIL:return i=JSON.stringify(Object.assign({},null===a||void 0===a?void 0:a.filter)),Object.assign({},n,Object(u.a)({},i,Object.assign({},n[i],{error:a,loading:!1})));default:return n}},ba=Object(dl.c)({token:ul,order:pl,individualOrder:gl,loggedInUser:jl,department:El,plan:Cl,role:Rl,users:Ul,reachUs:ja,wallet:Hl,comment:Wl,logistics:Kl,remittance:Xl,weightDispute:ta,search:na,report:ra,dashboard:da}),ma=function(e,t){return"LOGOUT_SUCCESS"===t.type&&(e=void 0),ba(e,t)},ha=i(218),pa=i(2),Oa=mt.a.mark(ya),ga=mt.a.mark(Sa),xa=mt.a.mark(Ca),fa=mt.a.mark(wa),_a=mt.a.mark(Ta),Ea=mt.a.mark(Aa),Na=function(e){return console.log("email"),Y()({method:"post",url:K.SIGN_IN_URL,mode:"cors",data:e})};function ya(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Na,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:O.SIGN_IN_FAIL,payload:l});case 8:a.next=14;break;case 10:return console.log("-----\x3e",l),localStorage.setItem("jwt",l.data.token),a.next=14,Object(pa.d)({type:O.SIGN_IN_SUCCESS,payload:l});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log("sign up user error",a.t0);case 19:case"end":return a.stop()}}),Oa,null,[[0,16]])}function Sa(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.d)({type:O.LOGOUT_SUCCESS});case 2:case"end":return e.stop()}}),ga)}function Ca(e){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.b)(Sa);case 2:case"end":return e.stop()}}),xa)}function wa(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(pa.d)({type:navigator.onLine?"ONLINE":"OFFLINE"}),e.next=3,Object(pa.f)(O.SIGN_IN_REQUEST,ya);case 3:case"end":return e.stop()}}),fa)}function Ta(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(O.LOGOUT_REQUEST,Ca);case 2:case"end":return e.stop()}}),_a)}function Aa(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(wa);case 2:return e.next=4,Object(pa.c)(Ta);case 4:case"end":return e.stop()}}),Ea)}var Ra=mt.a.mark(Ia),ka=mt.a.mark(Ha),Da=mt.a.mark(Ga),La=mt.a.mark(Wa),Ua=mt.a.mark(qa),Pa=mt.a.mark(Ka),Fa=function(e){return Y()({method:"get",url:K.USERS_URL+"/".concat(e)})};function Ia(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(Fa,e.payload);case 3:if(n=o.sent,!0===(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=16;break}if(404!==(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.status)){o.next=12;break}return localStorage.clear(),o.next=10,Object(pa.d)({type:O.LOGOUT_SUCCESS});case 10:o.next=14;break;case 12:return o.next=14,Object(pa.d)({type:Ee.GET_LOGGEDIN_USER_FAIL,payload:l});case 14:o.next=18;break;case 16:return o.next=18,Object(pa.d)({type:Ee.GET_LOGGEDIN_USER_SUCCESS,payload:l});case 18:o.next=23;break;case 20:o.prev=20,o.t0=o.catch(0),console.error("Get on user error!",o.t0);case 23:case"end":return o.stop()}}),Ra,null,[[0,20]])}var Ma=function(e){return Y()({method:"PUT",url:"".concat(K.USERS_URL,"/").concat(null===e||void 0===e?void 0:e._id),data:e})};function Ha(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Ma,e.payload);case 3:if(n=a.sent,l=n.data,console.log(l,"updateUser"),!1!==(null===l||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=11;break}return a.next=9,Object(pa.d)({type:Ee.UPDATE_USER_FAIL,payload:l});case 9:a.next=13;break;case 11:return a.next=13,Object(pa.d)({type:Ee.UPDATE_USER_SUCCESS,payload:l});case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.error("update user ",a.t0);case 18:case"end":return a.stop()}}),ka,null,[[0,15]])}var Ba=function(e){return Y()({method:"POST",url:K.RESET_PASSWORD_URL,data:e})};function Ga(e){var t,i,n,l,a,o,r,s;return mt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,Object(pa.b)(Ba,e.payload);case 3:if(n=d.sent,!0===(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){d.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),d.next=9,Object(pa.d)({type:Ee.UPDATE_USER_FAIL,payload:l});case 9:d.next=16;break;case 11:return localStorage.setItem("jwt",null===l||void 0===l||null===(o=l.data)||void 0===o||null===(r=o.attributes)||void 0===r?void 0:r.value),L("success",(null===l||void 0===l||null===(s=l.meta)||void 0===s?void 0:s.message)||(null===l||void 0===l?void 0:l.message)),null===l||void 0===l||delete l.data,d.next=16,Object(pa.d)({type:Ee.UPDATE_USER_SUCCESS,payload:l});case 16:d.next=21;break;case 18:d.prev=18,d.t0=d.catch(0),console.error("change password ",d.t0);case 21:case"end":return d.stop()}}),Da,null,[[0,18]])}var Qa=function(e){return Y()({method:"POST",url:K.USERS_PICKUP_ADDRESS,data:e})};function Wa(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Qa,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:Ee.ADD_ADDRESS_FAIL,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:Ee.ADD_ADDRESS_SUCCESS,payload:l});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.error("ADD ADDRESS ",a.t0);case 17:case"end":return a.stop()}}),La,null,[[0,14]])}var Ya=function(e){return Y()({method:"PUT",url:K.USERS_UPDATE_PICKUP_ADDRESS,data:e})};function qa(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Ya,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:Ee.UPDATE_ADDRESS_FAIL,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:Ee.UPDATE_ADDRESS_SUCCESS,payload:l});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.error("update ADDRESS ",a.t0);case 17:case"end":return a.stop()}}),Ua,null,[[0,14]])}function Ka(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(Ee.GET_LOGGEDIN_USER,Ia);case 2:return e.next=4,Object(pa.f)(Ee.UPDATE_USER_REQUEST,Ha);case 4:return e.next=6,Object(pa.f)(Ee.CHANGE_PASSWORD_REQUEST,Ga);case 6:return e.next=8,Object(pa.f)(Ee.ADD_ADDRESS_REQUEST,Wa);case 8:return e.next=10,Object(pa.f)(Ee.UPDATE_ADDRESS_REQUEST,qa);case 10:case"end":return e.stop()}}),Pa)}var za=mt.a.mark(uo),Va=mt.a.mark(jo),Ja=mt.a.mark(mo),Xa=mt.a.mark(po),$a=mt.a.mark(go),Za=mt.a.mark(fo),eo=mt.a.mark(Eo),to=mt.a.mark(yo),io=mt.a.mark(Co),no=mt.a.mark(To),lo=mt.a.mark(Ro),ao=mt.a.mark(Do),oo=mt.a.mark(Uo),ro=mt.a.mark(Po),so=mt.a.mark(Fo),co=function(e){return Y()({method:"GET",url:K.ORDERS_URL,params:e})};function uo(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(co,e.payload);case 3:if(n=o.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=10;break}return o.next=8,Object(pa.d)({type:me.FETCH_ALL_ORDERS_FAIL,payload:l});case 8:o.next=13;break;case 10:return l.isReset=0===((null===(a=e.payload)||void 0===a?void 0:a.offset)||0),o.next=13,Object(pa.d)({type:me.FETCH_ALL_ORDERS_SUCCESS,payload:l});case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(0),console.log("get all orders ",o.t0);case 18:case"end":return o.stop()}}),za,null,[[0,15]])}var vo=function(e){return Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/search"),params:e})};function jo(e){var t,i,n,l,a,o,r,s,d;return mt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(pa.b)(vo,e.payload);case 3:if(r=c.sent,(s=null===r||void 0===r?void 0:r.data).pathname=null===(t=e.payload)||void 0===t?void 0:t.pathname,null===(i=e.payload)||void 0===i||delete i.pathname,s.filter=Object.assign({},e.payload),null===(n=s.filter)||void 0===n||delete n.limit,null===(l=s.filter)||void 0===l||delete l.offset,!1!==(null===s||void 0===s||null===(a=s.meta)||void 0===a?void 0:a.success)&&200===(null===s||void 0===s||null===(o=s.meta)||void 0===o?void 0:o.status)){c.next=15;break}return c.next=13,Object(pa.d)({type:me.FETCH_ALL_ORDERS_FAIL,payload:s});case 13:c.next=18;break;case 15:return s.isReset=0===((null===(d=e.payload)||void 0===d?void 0:d.offset)||0),c.next=18,Object(pa.d)({type:me.FETCH_ALL_ORDERS_SUCCESS,payload:s});case 18:c.next=23;break;case 20:c.prev=20,c.t0=c.catch(0),console.log("get all orders ",c.t0);case 23:case"end":return c.stop()}}),Va,null,[[0,20]])}var bo=function(e){return Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/invoice-details"),params:e})};function mo(e){var t,i,n,l,a,o,r,s,d;return mt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(pa.b)(bo,e.payload);case 3:if(r=c.sent,(s=null===r||void 0===r?void 0:r.data).pathname=null===(t=e.payload)||void 0===t?void 0:t.pathname,null===(i=e.payload)||void 0===i||delete i.pathname,s.filter=Object.assign({},e.payload),null===(n=s.filter)||void 0===n||delete n.limit,null===(l=s.filter)||void 0===l||delete l.offset,!0===(null===s||void 0===s||null===(a=s.meta)||void 0===a?void 0:a.success)&&200===(null===s||void 0===s||null===(o=s.meta)||void 0===o?void 0:o.status)){c.next=15;break}return c.next=13,Object(pa.d)({type:me.FETCH_ALL_ORDERS_FAIL,payload:s});case 13:c.next=18;break;case 15:return s.isReset=0===((null===(d=e.payload)||void 0===d?void 0:d.offset)||0),c.next=18,Object(pa.d)({type:me.FETCH_ALL_ORDERS_SUCCESS,payload:s});case 18:c.next=23;break;case 20:c.prev=20,c.t0=c.catch(0),console.log("get all invoice orders ",c.t0);case 23:case"end":return c.stop()}}),Ja,null,[[0,20]])}var ho=function(e){return Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/invoice-details-download"),params:e,contentType:"application/doc; charset=utf-8",responseType:"arraybuffer"})};function po(e){var t,i;return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(pa.b)(ho,e.payload);case 3:if(t=n.sent,i=null===t||void 0===t?void 0:t.data,200===(null===t||void 0===t?void 0:t.status)){n.next=10;break}return n.next=8,Object(pa.d)({type:me.DOWNLOAD_ALL_INVOICE_ORDERS_FAIL,payload:{filter:e.payload}});case 8:n.next=13;break;case 10:return Pe()(i,"invoice-details-".concat(f()().format("DD-MM-YYYY"),".xlsx")),n.next=13,Object(pa.d)({type:me.DOWNLOAD_ALL_INVOICE_ORDERS_SUCCESS,payload:{filter:e.payload}});case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log("download all invoice orders ",n.t0);case 18:case"end":return n.stop()}}),Xa,null,[[0,15]])}var Oo=function(e){return Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/").concat(e)})};function go(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(Oo,e.payload);case 3:if(n=o.sent,(l=null===n||void 0===n?void 0:n.data)._id=e.payload,!1!==(null===l||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),o.next=10,Object(pa.d)({type:me.FETCH_ORDER_FAIL,payload:l});case 10:o.next=14;break;case 12:return o.next=14,Object(pa.d)({type:me.FETCH_ORDER_SUCCESS,payload:l});case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(0),console.log("get order ",o.t0);case 19:case"end":return o.stop()}}),$a,null,[[0,16]])}var xo=function(e){return Y()({method:"GET",url:"".concat(K.BULKS_URL,"/"),params:e})};function fo(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(xo,e.payload);case 3:if(n=o.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=10;break}return o.next=8,Object(pa.d)({type:me.FETCH_ALL_BULK_ORDERS_FAIL,payload:l});case 8:o.next=13;break;case 10:return l.isReset=0===((null===(a=e.payload)||void 0===a?void 0:a.offset)||0),o.next=13,Object(pa.d)({type:me.FETCH_ALL_BULK_ORDERS_SUCCESS,payload:l});case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(0),console.log("get bulk order ",o.t0);case 18:case"end":return o.stop()}}),Za,null,[[0,15]])}var _o=function(e){return Y()({method:"GET",url:"".concat(K.BULK_URL,"/").concat(e)})};function Eo(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,console.log("getBulkOrder",e.payload),o.next=4,Object(pa.b)(_o,e.payload);case 4:if(n=o.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=13;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),l._id=e.payload,o.next=11,Object(pa.d)({type:me.FETCH_BULK_ORDER_FAIL,payload:l});case 11:o.next=15;break;case 13:return o.next=15,Object(pa.d)({type:me.FETCH_BULK_ORDER_SUCCESS,payload:l});case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(0),console.log("get bulk order ",o.t0);case 20:case"end":return o.stop()}}),eo,null,[[0,17]])}var No=function(e){return Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/track"),params:e})};function yo(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(No,e.payload);case 3:if(n=s.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r=Object(M.a)(Object(M.a)({},l),{},{order_id:null===(o=e.payload)||void 0===o?void 0:o.order_id}),s.next=10,Object(pa.d)({type:me.TRACK_ORDER_FAIL,payload:r});case 10:s.next=14;break;case 12:return s.next=14,Object(pa.d)({type:me.TRACK_ORDER_SUCCESS,payload:l});case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(0),console.log("track order ",s.t0);case 19:case"end":return s.stop()}}),to,null,[[0,16]])}var So=function(e){return Y()({method:"GET",url:"".concat(K.ORDERS_URL,"/cancel"),params:e})};function Co(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(So,e.payload);case 3:if(n=s.sent,!0===(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),l.order_id=null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.order_id,s.next=10,Object(pa.d)({type:me.CANCEL_ORDER_FAIL,payload:l});case 10:s.next=15;break;case 12:return L("success",(null===l||void 0===l||null===(r=l.meta)||void 0===r?void 0:r.message)||(null===l||void 0===l?void 0:l.message)),s.next=15,Object(pa.d)({type:me.CANCEL_ORDER_SUCCESS,payload:l});case 15:s.next=21;break;case 17:s.prev=17,s.t0=s.catch(0),L("error","Error in cancel order"),console.log("cancel order ",s.t0);case 21:case"end":return s.stop()}}),io,null,[[0,17]])}var wo=function(e){return Y()({method:"POST",url:K.RTO_ORDER_URL,data:e})};function To(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(wo,e.payload);case 3:if(n=s.sent,!0===(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),l.order_id=null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.order_id,s.next=10,Object(pa.d)({type:me.CREATE_RTO_ORDER_FAIL,payload:l});case 10:s.next=15;break;case 12:return L("success",(null===l||void 0===l||null===(r=l.meta)||void 0===r?void 0:r.message)||(null===l||void 0===l?void 0:l.message)),s.next=15,Object(pa.d)({type:me.CREATE_RTO_ORDER_SUCCESS,payload:l});case 15:s.next=21;break;case 17:s.prev=17,s.t0=s.catch(0),L("error","Error in creating rto order"),console.log("create rto ",s.t0);case 21:case"end":return s.stop()}}),no,null,[[0,17]])}var Ao=function(e){return Y()({method:"POST",url:K.ORDERS_URL+"/pay/",data:e})};function Ro(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Ao,e.payload);case 3:if(n=a.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:me.ORDER_PAY_FAIL,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:me.ORDER_PAY_SUCCESS,payload:l});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log("order pay ",a.t0);case 17:case"end":return a.stop()}}),lo,null,[[0,14]])}var ko=function(e){return Y()({method:"PUT",url:"".concat(K.RAISE_WEIGHT_DISPUTE_URL,"/").concat(null===e||void 0===e?void 0:e._id),data:null===e||void 0===e?void 0:e.data})};function Do(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(ko,e.payload);case 3:if(n=r.sent,!0===(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:me.RAISE_DISPUTE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",(null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message)||(null===l||void 0===l?void 0:l.message)),r.next=14,Object(pa.d)({type:me.RAISE_DISPUTE_SUCCESS,payload:l});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("raise dispute ",r.t0);case 19:case"end":return r.stop()}}),ao,null,[[0,16]])}var Lo=function(e){return Y()({method:"PUT",url:"".concat(K.SETTLE_WEIGHT_DISPUTE_URL,"/").concat(null===e||void 0===e?void 0:e._id),data:e})};function Uo(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(Lo,e.payload);case 3:if(n=r.sent,!0===(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:me.DISPUTE_SETTLE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",(null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message)||(null===l||void 0===l?void 0:l.message)),r.next=14,Object(pa.d)({type:me.DISPUTE_SETTLE_SUCCESS,payload:l});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("dispute settle ",r.t0);case 19:case"end":return r.stop()}}),oo,null,[[0,16]])}function Po(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.e)(me.SEARCH_ALL_ORDERS_REQUEST,jo);case 2:return e.next=4,Object(pa.f)(me.FETCH_ALL_ORDERS_REQUEST,uo);case 4:return e.next=6,Object(pa.f)(me.FETCH_ALL_INVOICE_ORDERS_REQUEST,mo);case 6:return e.next=8,Object(pa.f)(me.DOWNLOAD_ALL_INVOICE_ORDERS_REQUEST,po);case 8:return e.next=10,Object(pa.f)(me.FETCH_ORDER_REQUEST,go);case 10:return e.next=12,Object(pa.f)(me.FETCH_BULK_ORDER_REQUEST,Eo);case 12:return e.next=14,Object(pa.f)(me.FETCH_ALL_BULK_ORDERS_REQUEST,fo);case 14:return e.next=16,Object(pa.f)(me.CANCEL_ORDER_REQUEST,Co);case 16:return e.next=18,Object(pa.f)(me.CREATE_RTO_ORDER_REQUEST,To);case 18:return e.next=20,Object(pa.f)(me.TRACK_ORDER_REQUEST,yo);case 20:return e.next=22,Object(pa.f)(me.ORDER_PAY_REQUEST,Ro);case 22:return e.next=24,Object(pa.f)(me.RAISE_DISPUTE_REQUEST,Do);case 24:return e.next=26,Object(pa.f)(me.DISPUTE_SETTLE_REQUEST,Uo);case 26:case"end":return e.stop()}}),ro)}function Fo(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(Po);case 2:case"end":return e.stop()}}),so)}var Io=mt.a.mark(Qo),Mo=mt.a.mark(Yo),Ho=mt.a.mark(qo),Bo=mt.a.mark(Ko),Go=function(e){return Y()({method:"POST",url:K.ORDERS_URL+"/logistic",data:e})};function Qo(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(Go,e.payload);case 3:if(n=o.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),o.next=9,Object(pa.d)({type:be.CREATE_ORDER_FAIL,payload:l});case 9:o.next=13;break;case 11:return o.next=13,Object(pa.d)({type:be.CREATE_ORDER_SUCCESS,payload:l});case 13:o.next=19;break;case 15:o.prev=15,o.t0=o.catch(0),console.log("Create Individual order ",o.t0),L("error",o.t0);case 19:case"end":return o.stop()}}),Io,null,[[0,15]])}var Wo=function(e){return Y()({method:"PUT",url:"".concat(K.ORDERS_URL,"/").concat(null===e||void 0===e?void 0:e._id),data:e})};function Yo(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(Wo,e.payload);case 3:if(n=o.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),o.next=9,Object(pa.d)({type:be.UPDATE_ORDER_FAIL,payload:l});case 9:o.next=13;break;case 11:return o.next=13,Object(pa.d)({type:be.UPDATE_ORDER_SUCCESS,payload:l});case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(0),console.log("Update Individual order ",o.t0);case 18:case"end":return o.stop()}}),Mo,null,[[0,15]])}function qo(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(be.CREATE_ORDER_REQUEST,Qo);case 2:return e.next=4,Object(pa.f)(be.UPDATE_ORDER_REQUEST,Yo);case 4:case"end":return e.stop()}}),Ho)}function Ko(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(qo);case 2:case"end":return e.stop()}}),Bo)}var zo=mt.a.mark(tr),Vo=mt.a.mark(nr),Jo=mt.a.mark(ar),Xo=mt.a.mark(rr),$o=mt.a.mark(sr),Zo=mt.a.mark(dr),er=function(e){return Y()({method:"POST",url:K.DEPARTMENT_URL,data:{data:{attributes:e}}})};function tr(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(er,e.payload);case 3:if(n=r.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:He.CREATE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),r.next=14,Object(pa.d)({type:He.CREATE_SUCCESS,department:l.data});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("Create Department ",r.t0);case 19:case"end":return r.stop()}}),zo,null,[[0,16]])}var ir=function(e){return Y()({method:"GET",url:K.DEPARTMENTS_URL,params:e})};function nr(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(ir,e.payload);case 3:if(n=s.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),s.next=9,Object(pa.d)({type:He.FETCH_FAIL,payload:l});case 9:s.next=15;break;case 11:return(r=l||{}).isReset=0===(null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.offset),s.next=15,Object(pa.d)({type:He.FETCH_SUCCESS,payload:r});case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("Fetch Departments ",s.t0);case 20:case"end":return s.stop()}}),Vo,null,[[0,17]])}var lr=function(e){return Y()({method:"PUT",url:"".concat(K.DEPARTMENT_URL,"/").concat(null===e||void 0===e?void 0:e.id),data:{data:{attributes:e}}})};function ar(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(lr,e.payload);case 3:if(n=r.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:He.UPDATE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),r.next=14,Object(pa.d)({type:He.UPDATE_SUCCESS,department:l.data});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("Update Department ",r.t0);case 19:case"end":return r.stop()}}),Jo,null,[[0,16]])}var or=function(e){return Y()({method:"DELETE",url:"".concat(K.DEPARTMENT_URL,"/").concat(e)})};function rr(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(or,e.id);case 3:if(n=s.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),s.next=9,Object(pa.d)({type:He.DELETE_FAIL,payload:l});case 9:s.next=14;break;case 11:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),s.next=14,Object(pa.d)({type:He.DELETE_SUCCESS,id:null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.id});case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(0),console.log("Delete Department ",s.t0);case 19:case"end":return s.stop()}}),Xo,null,[[0,16]])}function sr(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(He.CREATE_REQUEST,tr);case 2:return e.next=4,Object(pa.f)(He.FETCH_REQUEST,nr);case 4:return e.next=6,Object(pa.f)(He.UPDATE_REQUEST,ar);case 6:return e.next=8,Object(pa.f)(He.DELETE_REQUEST,rr);case 8:case"end":return e.stop()}}),$o)}function dr(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(sr);case 2:case"end":return e.stop()}}),Zo)}var cr=mt.a.mark(pr),ur=mt.a.mark(gr),vr=mt.a.mark(fr),jr=mt.a.mark(Er),br=mt.a.mark(Nr),mr=mt.a.mark(yr),hr=function(e){return Y()({method:"POST",url:K.PLAN_URL,data:e})};function pr(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(hr,e.payload);case 3:if(n=r.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:at.CREATE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),r.next=14,Object(pa.d)({type:at.CREATE_SUCCESS,plan:l.data});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("Create Department ",r.t0);case 19:case"end":return r.stop()}}),cr,null,[[0,16]])}var Or=function(e){return Y()({method:"GET",url:K.PLANS_URL,params:e})};function gr(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(Or,e.payload);case 3:if(n=s.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),s.next=9,Object(pa.d)({type:at.FETCH_FAIL,payload:l});case 9:s.next=15;break;case 11:return(r=l||{}).isReset=0===(null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.offset),s.next=15,Object(pa.d)({type:at.FETCH_SUCCESS,payload:r});case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("Fetch Plans ",s.t0);case 20:case"end":return s.stop()}}),ur,null,[[0,17]])}var xr=function(e){return Y()({method:"PUT",url:"".concat(K.PLAN_URL,"/").concat(null===e||void 0===e?void 0:e.id),data:e})};function fr(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(xr,e.payload);case 3:if(n=r.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:at.UPDATE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),r.next=14,Object(pa.d)({type:at.UPDATE_SUCCESS,plan:l.data});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("Update Department ",r.t0);case 19:case"end":return r.stop()}}),vr,null,[[0,16]])}var _r=function(e){return Y()({method:"DELETE",url:"".concat(K.PLAN_URL,"/").concat(e)})};function Er(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(_r,e.id);case 3:if(n=s.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),s.next=9,Object(pa.d)({type:at.DELETE_FAIL,payload:l});case 9:s.next=14;break;case 11:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),s.next=14,Object(pa.d)({type:at.DELETE_SUCCESS,id:null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.id});case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(0),console.log("Delete Department ",s.t0);case 19:case"end":return s.stop()}}),jr,null,[[0,16]])}function Nr(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(at.CREATE_REQUEST,pr);case 2:return e.next=4,Object(pa.f)(at.FETCH_REQUEST,gr);case 4:return e.next=6,Object(pa.f)(at.UPDATE_REQUEST,fr);case 6:return e.next=8,Object(pa.f)(at.DELETE_REQUEST,Er);case 8:case"end":return e.stop()}}),br)}function yr(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(Nr);case 2:case"end":return e.stop()}}),mr)}var Sr=mt.a.mark(Dr),Cr=mt.a.mark(Ur),wr=mt.a.mark(Fr),Tr=mt.a.mark(Mr),Ar=mt.a.mark(Hr),Rr=mt.a.mark(Br),kr=function(e){return Y()({method:"POST",url:K.ROLE_URL,data:e})};function Dr(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(kr,e.payload);case 3:if(n=r.sent,!0===(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:it.CREATE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",(null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message)||(null===l||void 0===l?void 0:l.message)),r.next=14,Object(pa.d)({type:it.CREATE_SUCCESS,payload:l});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("Create Role ",r.t0);case 19:case"end":return r.stop()}}),Sr,null,[[0,16]])}var Lr=function(e){return Y()({method:"GET",url:K.ROLE_URL,params:e})};function Ur(e){var t,i,n,l,a,o,r,s;return mt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,Object(pa.b)(Lr,e.payload);case 3:if(a=d.sent,(o=null===a||void 0===a?void 0:a.data).filter=Object.assign({},e.payload),null===(t=o.filter)||void 0===t||delete t.limit,null===(i=o.filter)||void 0===i||delete i.offset,!0===(null===o||void 0===o||null===(n=o.meta)||void 0===n?void 0:n.success)&&200===(null===o||void 0===o||null===(l=o.meta)||void 0===l?void 0:l.status)){d.next=14;break}return L("error",(null===o||void 0===o||null===(r=o.meta)||void 0===r?void 0:r.message)||(null===o||void 0===o?void 0:o.message)),d.next=12,Object(pa.d)({type:it.FETCH_All_FAIL,payload:o});case 12:d.next=17;break;case 14:return o.isReset=0===((null===(s=e.payload)||void 0===s?void 0:s.offset)||0),d.next=17,Object(pa.d)({type:it.FETCH_All_SUCCESS,payload:o});case 17:d.next=22;break;case 19:d.prev=19,d.t0=d.catch(0),console.log("Fetch all roles ",d.t0);case 22:case"end":return d.stop()}}),Cr,null,[[0,19]])}var Pr=function(e){return Y()({method:"GET",url:"".concat(K.ROLE_URL,"/").concat(e)})};function Fr(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(Pr,e.payload);case 3:if(n=o.sent,(l=null===n||void 0===n?void 0:n.data).role_id=e.payload,!0===(null===l||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),o.next=10,Object(pa.d)({type:it.FETCH_FAIL,payload:l});case 10:o.next=14;break;case 12:return o.next=14,Object(pa.d)({type:it.FETCH_SUCCESS,payload:l});case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(0),console.log("Fetch role ",o.t0);case 19:case"end":return o.stop()}}),wr,null,[[0,16]])}var Ir=function(e){return Y()({method:"PUT",url:"".concat(K.ROLE_URL,"/").concat(null===e||void 0===e?void 0:e._id),data:e})};function Mr(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(Ir,e.payload);case 3:if(n=s.sent,(l=null===n||void 0===n?void 0:n.data).role_id=e.payload._id,!0===(null===l||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),s.next=10,Object(pa.d)({type:it.UPDATE_FAIL,payload:l});case 10:s.next=18;break;case 12:return L("success",(null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message)||(null===l||void 0===l?void 0:l.message)),s.next=15,Object(pa.d)({type:it.UPDATE_SUCCESS,payload:l});case 15:return r=Object(P.a)(localStorage.getItem("jwt")).user.id,s.next=18,Object(pa.d)({type:Ee.GET_LOGGEDIN_USER,payload:r});case 18:s.next=23;break;case 20:s.prev=20,s.t0=s.catch(0),console.log("Update Role ",s.t0);case 23:case"end":return s.stop()}}),Tr,null,[[0,20]])}function Hr(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(it.CREATE_REQUEST,Dr);case 2:return e.next=4,Object(pa.f)(it.FETCH_All_REQUEST,Ur);case 4:return e.next=6,Object(pa.f)(it.FETCH_REQUEST,Fr);case 6:return e.next=8,Object(pa.f)(it.UPDATE_REQUEST,Mr);case 8:case"end":return e.stop()}}),Ar)}function Br(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(Hr);case 2:case"end":return e.stop()}}),Rr)}var Gr=mt.a.mark($r),Qr=mt.a.mark(es),Wr=mt.a.mark(is),Yr=mt.a.mark(ls),qr=mt.a.mark(os),Kr=mt.a.mark(ss),zr=mt.a.mark(ds),Vr=mt.a.mark(cs),Jr=mt.a.mark(us),Xr=function(e){return Y()({method:"POST",url:K.INVITE_USER_URL,data:e})};function $r(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(Xr,e.payload);case 3:if(n=r.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:Je.CREATE_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),r.next=14,Object(pa.d)({type:Je.CREATE_SUCCESS,user:l.data});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("Create user ",r.t0);case 19:case"end":return r.stop()}}),Gr,null,[[0,16]])}var Zr=function(e){return Y()({method:"GET",url:K.USERS_URL,params:e})};function es(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(Zr,e.payload);case 3:if(n=s.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){s.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),s.next=9,Object(pa.d)({type:Je.FETCH_ALL_FAIL,payload:l});case 9:s.next=15;break;case 11:return(r=l||{}).isReset=0===(null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.offset),s.next=15,Object(pa.d)({type:Je.FETCH_ALL_SUCCESS,payload:r});case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("Fetch users ",s.t0);case 20:case"end":return s.stop()}}),Qr,null,[[0,17]])}var ts=function(){return Y()({method:"GET",url:"".concat(K.USERS_URL,"/customer-list")})};function is(e){var t,i,n,l;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(pa.b)(ts);case 3:if(n=e.sent,!0===(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){e.next=10;break}return e.next=8,Object(pa.d)({type:Je.FETCH_ALL_CUSTOMER_FAIL,payload:l});case 8:e.next=12;break;case 10:return e.next=12,Object(pa.d)({type:Je.FETCH_ALL_CUSTOMER_SUCCESS,payload:l});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("Fetch users ",e.t0);case 17:case"end":return e.stop()}}),Wr,null,[[0,14]])}var ns=function(e){return Y()({method:"PUT",url:"".concat(K.USERS_URL,"/").concat(null===e||void 0===e?void 0:e._id),data:e})};function ls(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(ns,e.payload);case 3:if(n=r.sent,l=null===n||void 0===n?void 0:n.data,console.log(l,"userRes"),!1!==(null===l||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=10,Object(pa.d)({type:Je.UPDATE_FAIL,payload:l});case 10:r.next=15;break;case 12:return L("success",null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message),r.next=15,Object(pa.d)({type:Je.UPDATE_SUCCESS,user:null===l||void 0===l?void 0:l.data});case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),console.log("Update user ",r.t0);case 20:case"end":return r.stop()}}),Yr,null,[[0,17]])}var as=function(e){return Y()({method:"DELETE",url:"".concat(K.USERS_URL,"/").concat(e)})};function os(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(as,e.id);case 3:if(n=a.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:Je.DELETE_FAIL,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:Je.UPDATE_SUCCESS,id:e.id});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log("Delete user ",a.t0);case 17:case"end":return a.stop()}}),qr,null,[[0,14]])}var rs=function(e){return Y()({method:"GET",url:K.USERS_USAGE_URL,params:e})};function ss(e){var t,i,n,l,a,o,r,s,d,c;return mt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Object(pa.b)(rs,e.payload);case 3:if(r=u.sent,(s=null===r||void 0===r?void 0:r.data).pathname=null===(t=e.payload)||void 0===t?void 0:t.pathname,null===(i=e.payload)||void 0===i||delete i.pathname,s.filter=Object.assign({},e.payload),null===(n=s.filter)||void 0===n||delete n.limit,null===(l=s.filter)||void 0===l||delete l.offset,!0===(null===s||void 0===s||null===(a=s.meta)||void 0===a?void 0:a.success)&&200===(null===s||void 0===s||null===(o=s.meta)||void 0===o?void 0:o.status)){u.next=16;break}return L("error",(null===s||void 0===s||null===(d=s.meta)||void 0===d?void 0:d.message)||(null===s||void 0===s?void 0:s.message)),u.next=14,Object(pa.d)({type:Je.FETCH_ALL_USAGE_FAIL,payload:s});case 14:u.next=19;break;case 16:return s.isReset=0===((null===(c=e.payload)||void 0===c?void 0:c.offset)||0),u.next=19,Object(pa.d)({type:Je.FETCH_ALL_USAGE_SUCCESS,payload:s});case 19:u.next=24;break;case 21:u.prev=21,u.t0=u.catch(0),console.log("Fetch users ",u.t0);case 24:case"end":return u.stop()}}),Kr,null,[[0,21]])}function ds(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(rs,e.payload);case 3:if(l=r.sent,(a=null===l||void 0===l?void 0:l.data).user_id=null===(t=e.payload)||void 0===t?void 0:t.user_id,console.log("resData",a),!0===(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.success)&&200===(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status)){r.next=13;break}return L("error",(null===a||void 0===a||null===(o=a.meta)||void 0===o?void 0:o.message)||(null===a||void 0===a?void 0:a.message)),r.next=11,Object(pa.d)({type:Je.FETCH_USER_USAGE_FAIL,payload:a});case 11:r.next=15;break;case 13:return r.next=15,Object(pa.d)({type:Je.FETCH_USER_USAGE_SUCCESS,payload:a});case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),console.log("Fetch users ",r.t0);case 20:case"end":return r.stop()}}),zr,null,[[0,17]])}function cs(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(Je.CREATE_REQUEST,$r);case 2:return e.next=4,Object(pa.f)(Je.FETCH_ALL_REQUEST,es);case 4:return e.next=6,Object(pa.f)(Je.FETCH_ALL_CUSTOMER_REQUEST,is);case 6:return e.next=8,Object(pa.f)(Je.UPDATE_REQUEST,ls);case 8:return e.next=10,Object(pa.f)(Je.DELETE_REQUEST,os);case 10:return e.next=12,Object(pa.f)(Je.FETCH_ALL_USAGE_REQUEST,ss);case 12:return e.next=14,Object(pa.f)(Je.FETCH_USER_USAGE_REQUEST,ds);case 14:case"end":return e.stop()}}),Vr)}function us(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(cs);case 2:case"end":return e.stop()}}),Jr)}var vs=mt.a.mark(ps),js=mt.a.mark(gs),bs=mt.a.mark(xs),ms=mt.a.mark(fs),hs=function(e){var t=e?"".concat(K.WALLET_URL,"/").concat(e):K.WALLET_URL;return Y()({method:"GET",url:t})};function ps(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(hs,e.payload);case 3:if(n=o.sent,(l=null===n||void 0===n?void 0:n.data).filter=e.payload,!0===(null===l||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),o.next=10,Object(pa.d)({type:l.filter?pt.FETCH_USER_WALLET_FAIL:pt.FETCH_WALLET_FAIL,payload:l});case 10:o.next=14;break;case 12:return o.next=14,Object(pa.d)({type:l.filter?pt.FETCH_USER_WALLET_SUCCESS:pt.FETCH_WALLET_SUCCESS,payload:l});case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(0),console.log("get wallet ",o.t0);case 19:case"end":return o.stop()}}),vs,null,[[0,16]])}var Os=function(e){return Y()({method:"PUT",url:"".concat(K.BANK_DETAIL_URL,"/verify/").concat(e._id),data:e})};function gs(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(Os,e.payload);case 3:if(n=r.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){r.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),r.next=9,Object(pa.d)({type:pt.VERIFY_BANK_DETAIL_FAIL,payload:l});case 9:r.next=14;break;case 11:return L("success",(null===l||void 0===l||null===(o=l.meta)||void 0===o?void 0:o.message)||(null===l||void 0===l?void 0:l.message)),r.next=14,Object(pa.d)({type:pt.VERIFY_BANK_DETAIL_SUCCESS,payload:l});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("verify bank detail ",r.t0);case 19:case"end":return r.stop()}}),js,null,[[0,16]])}function xs(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(pt.FETCH_WALLET_REQUEST,ps);case 2:return e.next=4,Object(pa.f)(pt.VERIFY_BANK_DETAIL_REQUEST,gs);case 4:case"end":return e.stop()}}),bs)}function fs(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(xs);case 2:case"end":return e.stop()}}),ms)}var _s=mt.a.mark(Cs),Es=mt.a.mark(Ts),Ns=mt.a.mark(As),ys=mt.a.mark(Rs),Ss=function(e){return Y()({method:"GET",url:K.COMMENTS_URL,params:e})};function Cs(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(Ss,e.payload);case 3:if(l=r.sent,(a=l.data).model_id=null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.model_id,!1!==(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.success)&&200===(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status)){r.next=11;break}return r.next=9,Object(pa.d)({type:ri.FETCH_ALL_FAIL,payload:a});case 9:r.next=14;break;case 11:return a.isReset=0===(null===(o=e.payload)||void 0===o?void 0:o.offset),r.next=14,Object(pa.d)({type:ri.FETCH_ALL_SUCCESS,payload:a});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.error("Get all comments ",r.t0);case 19:case"end":return r.stop()}}),_s,null,[[0,16]])}var ws=function(e){return Y()({method:"POST",url:K.COMMENTS_URL,data:{data:e}})};function Ts(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(ws,e.payload);case 3:if(l=r.sent,(a=l.data).model_id=null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.model_id,!0===(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.success)&&200===(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status)){r.next=12;break}return L("error",(null===a||void 0===a||null===(o=a.meta)||void 0===o?void 0:o.message)||(null===a||void 0===a?void 0:a.message)),r.next=10,Object(pa.d)({type:ri.CREATE_FAIL,payload:a});case 10:r.next=14;break;case 12:return r.next=14,Object(pa.d)({type:ri.CREATE_SUCCESS,payload:a});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.error("create comment ",r.t0);case 19:case"end":return r.stop()}}),Es,null,[[0,16]])}function As(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(ri.FETCH_ALL_REQUEST,Cs);case 2:return e.next=4,Object(pa.f)(ri.CREATE_REQUEST,Ts);case 4:case"end":return e.stop()}}),Ns)}function Rs(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(As);case 2:case"end":return e.stop()}}),ys)}var ks=mt.a.mark(Fs),Ds=mt.a.mark(Ms),Ls=mt.a.mark(Hs),Us=mt.a.mark(Bs),Ps=function(){return Y()({method:"GET",url:K.LOGISTICS_URL})};function Fs(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Ps,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:li.FETCH_LOGISTIC_FAIL,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:li.FETCH_LOGISTIC_SUCCESS,payload:null===l||void 0===l?void 0:l.data});case 12:a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.error("There is some error while fetching logistic partner!",a.t0),L("error","There is some error while fetching logistic partner!");case 18:case"end":return a.stop()}}),ks,null,[[0,14]])}var Is=function(e){return Y()({method:"GET",url:K.PLAN_INFO_URL,params:e})};function Ms(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Is,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:li.FETCH_LOGISTIC_PLAN_FAIL,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:li.FETCH_LOGISTIC_PLAN_SUCCESS,payload:l.data});case 12:a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.error("There is some error while fetching logistic partner plan detail!",a.t0),L("error","There is some error while fetching logistic partner plan detail!");case 18:case"end":return a.stop()}}),Ds,null,[[0,14]])}function Hs(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(li.FETCH_LOGISTIC_REQUEST,Fs);case 2:return e.next=4,Object(pa.f)(li.FETCH_LOGISTIC_PLAN_REQUEST,Ms);case 4:case"end":return e.stop()}}),Ls)}function Bs(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(Hs);case 2:case"end":return e.stop()}}),Us)}var Gs=mt.a.mark($s),Qs=mt.a.mark(Zs),Ws=mt.a.mark(ed),Ys=mt.a.mark(id),qs=mt.a.mark(ld),Ks=mt.a.mark(od),zs=mt.a.mark(rd),Vs=function(e){return Y()({method:"GET",url:K.REMITTANCE_URL,params:e})},Js=function(e){return Y()({method:"POST",url:K.REMITTANCE_URL+"/upload_file",data:e})},Xs=function(e){return Y()({method:"PUT",url:K.REMITTANCE_URL+"/task/"+e._id,data:e})};function $s(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Vs,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:ui.FETCH_ALL_REMITTANCE_FAIL,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:ui.FETCH_ALL_REMITTANCE_SUCCESS,payload:l});case 12:a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.error("There is some error while fetching remittance list!",a.t0),L("error","There is some error while fetching remittance list!");case 18:case"end":return a.stop()}}),Gs,null,[[0,14]])}function Zs(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Js,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:ui.UPLOAD_FILE_FAILURE,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:ui.UPLOAD_FILE_SUCCESS,payload:l});case 12:a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.error("There is some error while uploading a file!",a.t0),L("error","There is some error while uploading a file!");case 18:case"end":return a.stop()}}),Qs,null,[[0,14]])}function ed(e){var t,i,n,l;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(pa.b)(Xs,e.payload);case 3:if(n=a.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){a.next=10;break}return a.next=8,Object(pa.d)({type:ui.UPDATE_STATUS_FAILURE,payload:l});case 8:a.next=12;break;case 10:return a.next=12,Object(pa.d)({type:ui.UPDATE_STATUS_SUCCESS,payload:l});case 12:a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.error("There is some error while updating an order!",a.t0),L("error","There is some error while updating an order!");case 18:case"end":return a.stop()}}),Ws,null,[[0,14]])}var td=function(e){return Y()({method:"GET",url:K.BANK_DETAIL_URL,params:e})};function id(e){var t,i,n,l,a,o,r,s;return mt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,Object(pa.b)(td,e.payload);case 3:if(a=d.sent,(o=null===a||void 0===a?void 0:a.data).filter=Object.assign({},e.payload),null===o||void 0===o||(null===(t=o.filter)||void 0===t||delete t.offset),null===o||void 0===o||(null===(i=o.filter)||void 0===i||delete i.limit),!0===(null===o||void 0===o||null===(n=o.meta)||void 0===n?void 0:n.success)&&200===(null===o||void 0===o||null===(l=o.meta)||void 0===l?void 0:l.status)){d.next=14;break}return L("error",(null===o||void 0===o||null===(r=o.meta)||void 0===r?void 0:r.message)||(null===o||void 0===o?void 0:o.message)),d.next=12,Object(pa.d)({type:ui.FETCH_ACCOUNTS_FAIL,payload:o});case 12:d.next=17;break;case 14:return o.isReset=0===(null===e||void 0===e||null===(s=e.payload)||void 0===s?void 0:s.offset),d.next=17,Object(pa.d)({type:ui.FETCH_ACCOUNTS_SUCCESS,payload:o});case 17:d.next=22;break;case 19:d.prev=19,d.t0=d.catch(0),console.log("Fetch all bank detail ",d.t0);case 22:case"end":return d.stop()}}),Ys,null,[[0,19]])}var nd=function(e){return Y()({method:"PUT",url:"".concat(K.BANK_DETAIL_URL,"/verify/").concat(e._id),data:e})};function ld(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(nd,e.payload);case 3:if(l=s.sent,(a=null===l||void 0===l?void 0:l.data).user_id=null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t._id,!0===(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.success)&&200===(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status)){s.next=12;break}return L("error",(null===a||void 0===a||null===(o=a.meta)||void 0===o?void 0:o.message)||(null===a||void 0===a?void 0:a.message)),s.next=10,Object(pa.d)({type:ui.VERIFY_ACCOUNTS_FAIL,payload:a});case 10:s.next=15;break;case 12:return L("success",(null===a||void 0===a||null===(r=a.meta)||void 0===r?void 0:r.message)||(null===a||void 0===a?void 0:a.message)),s.next=15,Object(pa.d)({type:ui.VERIFY_ACCOUNTS_SUCCESS,payload:a});case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("verify bank detail ",s.t0);case 20:case"end":return s.stop()}}),qs,null,[[0,17]])}var ad=function(e){return Y()({method:"PUT",url:"".concat(K.USERS_URL,"/").concat(e._id),data:e})};function od(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(ad,e.payload);case 3:if(l=r.sent,(a=null===l||void 0===l?void 0:l.data).user_id=null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t._id,!0===(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.success)&&200===(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status)){r.next=12;break}return L("error",(null===a||void 0===a||null===(o=a.meta)||void 0===o?void 0:o.message)||(null===a||void 0===a?void 0:a.message)),r.next=10,Object(pa.d)({type:ui.UPDATE_ACCOUNTS_FAIL,payload:a});case 10:r.next=14;break;case 12:return r.next=14,Object(pa.d)({type:ui.UPDATE_ACCOUNTS_SUCCESS,payload:a});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("verify bank detail ",r.t0);case 19:case"end":return r.stop()}}),Ks,null,[[0,16]])}function rd(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(ui.FETCH_ALL_REMITTANCE_REQUEST,$s);case 2:return e.next=4,Object(pa.f)(ui.UPLOAD_FILE_REQUEST,Zs);case 4:return e.next=6,Object(pa.f)(ui.UPDATE_STATUS_REQUEST,ed);case 6:return e.next=8,Object(pa.f)(ui.FETCH_ACCOUNTS_REQUEST,id);case 8:return e.next=10,Object(pa.f)(ui.VERIFY_ACCOUNTS_REQUEST,ld);case 10:return e.next=12,Object(pa.f)(ui.UPDATE_ACCOUNTS_REQUEST,od);case 12:case"end":return e.stop()}}),zs)}var sd=mt.a.mark(vd),dd=mt.a.mark(bd),cd=mt.a.mark(md),ud=function(e){return Y()({method:"GET",url:"".concat(K.WEIGHT_DISPUTE_URL,"/csv"),params:e})};function vd(e){var t,i,n,l,a,o,r,s,d;return mt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(pa.b)(ud,e.payload);case 3:if(r=c.sent,(s=r.data).pathname=null===(t=e.payload)||void 0===t?void 0:t.pathname,null===e||void 0===e||(null===(i=e.payload)||void 0===i||delete i.pathname),s.filter=Object.assign({},e.payload),null===(n=s.filter)||void 0===n||delete n.limit,null===(l=s.filter)||void 0===l||delete l.offset,!0===(null===s||void 0===s||null===(a=s.meta)||void 0===a?void 0:a.success)&&200===(null===s||void 0===s||null===(o=s.meta)||void 0===o?void 0:o.status)){c.next=15;break}return c.next=13,Object(pa.d)({type:fn.FETCH_ALL_CSV_FAIL,payload:s});case 13:c.next=18;break;case 15:return s.isReset=0===((null===e||void 0===e||null===(d=e.payload)||void 0===d?void 0:d.offset)||0),c.next=18,Object(pa.d)({type:fn.FETCH_ALL_CSV_SUCCESS,payload:s});case 18:c.next=24;break;case 20:c.prev=20,c.t0=c.catch(0),console.error("There is some error while fetching remittance list!",c.t0),L("error","There is some error while fetching remittance list!");case 24:case"end":return c.stop()}}),sd,null,[[0,20]])}var jd=function(e){return Y()({method:"POST",url:"".concat(K.WEIGHT_DISPUTE_URL,"/upload_csv"),data:e})};function bd(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(jd,e.payload);case 3:if(n=o.sent,!0===(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=12;break}return l.logistic_id=null===e||void 0===e?void 0:e.logistic_id,o.next=9,Object(pa.d)({type:fn.UPLOAD_FILE_FAILURE,payload:l});case 9:L("error",null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message),o.next=14;break;case 12:return o.next=14,Object(pa.d)({type:fn.UPLOAD_FILE_SUCCESS,payload:l});case 14:o.next=20;break;case 16:o.prev=16,o.t0=o.catch(0),console.error("There is some error while uploading a file!",o.t0),L("error","There is some error while uploading a file!");case 20:case"end":return o.stop()}}),dd,null,[[0,16]])}function md(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(fn.FETCH_ALL_CSV,vd);case 2:return e.next=4,Object(pa.f)(fn.UPLOAD_FILE,bd);case 4:case"end":return e.stop()}}),cd)}var hd=mt.a.mark(xd),pd=mt.a.mark(fd),Od=mt.a.mark(_d),gd=function(e){return Y()({method:"GET",url:K.GET_METRIC_URL,params:e})};function xd(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(gd,e.payload);case 3:if(n=o.sent,!1!==(null===(l=n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=11;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),o.next=9,Object(pa.d)({type:Ye.SEARCH_PARTNER_FAIL,payload:l});case 9:o.next=13;break;case 11:return o.next=13,Object(pa.d)({type:Ye.SEARCH_PARTNER_SUCCESS,payload:l});case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(0),console.log("search partner ",o.t0);case 18:case"end":return o.stop()}}),hd,null,[[0,15]])}function fd(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(Ye.SEARCH_PARTNER_REQUEST,xd);case 2:case"end":return e.stop()}}),pd)}function _d(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(fd);case 2:case"end":return e.stop()}}),Od)}var Ed=mt.a.mark(Td),Nd=mt.a.mark(Rd),yd=mt.a.mark(Dd),Sd=mt.a.mark(Ld),Cd=mt.a.mark(Ud),wd=function(e){return Y()({method:"GET",url:K.REPORTS_URL,params:e})};function Td(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(wd,e.payload);case 3:if(l=s.sent,(a=null===l||void 0===l?void 0:l.data).type=null===(t=e.payload)||void 0===t?void 0:t.type,console.log("resData",a),!1!==(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.success)&&200===(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status)){s.next=13;break}return L("error",(null===a||void 0===a||null===(o=a.meta)||void 0===o?void 0:o.message)||(null===a||void 0===a?void 0:a.message)),s.next=11,Object(pa.d)({type:Ei.FETCH_ALL_REPORTS_FAIL,payload:a});case 11:s.next=16;break;case 13:return a.isReset=0===((null===(r=e.payload)||void 0===r?void 0:r.offset)||0),s.next=16,Object(pa.d)({type:Ei.FETCH_ALL_REPORTS_SUCCESS,payload:a});case 16:s.next=21;break;case 18:s.prev=18,s.t0=s.catch(0),console.log("get all reports ",s.t0);case 21:case"end":return s.stop()}}),Ed,null,[[0,18]])}var Ad=function(e){return Y()({method:"GET",url:"".concat(K.REPORTS_URL,"/").concat(e)})};function Rd(e){var t,i,n,l,a;return mt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(pa.b)(Ad,e.payload);case 3:if(n=o.sent,!1!==(null===(l=null===n||void 0===n?void 0:n.data)||void 0===l||null===(t=l.meta)||void 0===t?void 0:t.success)&&200===(null===l||void 0===l||null===(i=l.meta)||void 0===i?void 0:i.status)){o.next=12;break}return L("error",(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)),l._id=e.payload,o.next=10,Object(pa.d)({type:Ei.FETCH_ONE_REPORT_FAIL,payload:l});case 10:o.next=14;break;case 12:return o.next=14,Object(pa.d)({type:Ei.FETCH_ONE_REPORT_SUCCESS,payload:l});case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(0),console.log("get all reports ",o.t0);case 19:case"end":return o.stop()}}),Nd,null,[[0,16]])}var kd=function(e){return Y()({method:"POST",url:"".concat(K.REPORTS_URL,"/remit-orders"),data:e})};function Dd(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(kd,e.payload);case 3:if(a=s.sent,(o=null===a||void 0===a?void 0:a.data).report_id=null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.report_id,o.awb_numbers=null===e||void 0===e||null===(i=e.payload)||void 0===i?void 0:i.awb_numbers,!1!==(null===o||void 0===o||null===(n=o.meta)||void 0===n?void 0:n.success)&&200===(null===o||void 0===o||null===(l=o.meta)||void 0===l?void 0:l.status)){s.next=13;break}return L("error",(null===o||void 0===o||null===(r=o.meta)||void 0===r?void 0:r.message)||(null===o||void 0===o?void 0:o.message)),s.next=11,Object(pa.d)({type:Ei.REMIT_REPORT_ORDERS_FAIL,payload:o});case 11:s.next=15;break;case 13:return s.next=15,Object(pa.d)({type:Ei.FETCH_ONE_REPORT_SUCCESS,payload:o});case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("get remit report orders ",s.t0);case 20:case"end":return s.stop()}}),yd,null,[[0,17]])}function Ld(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(Ei.FETCH_ALL_REPORTS_REQUEST,Td);case 2:return e.next=4,Object(pa.f)(Ei.FETCH_ONE_REPORT_REQUEST,Rd);case 4:return e.next=6,Object(pa.f)(Ei.REMIT_REPORT_ORDERS_REQUEST,Dd);case 6:case"end":return e.stop()}}),Sd)}function Ud(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(Ld);case 2:case"end":return e.stop()}}),Cd)}var Pd=mt.a.mark(Bd),Fd=mt.a.mark(Gd),Id=mt.a.mark(Qd),Md=mt.a.mark(Wd),Hd=function(e){return Y()({method:"GET",url:K.GLOBAL_DASHBOARD_URL,params:e})};function Bd(e){var t,i,n,l,a,o,r;return mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(pa.b)(Hd,e.payload);case 3:if(a=s.sent,(o=null===a||void 0===a?void 0:a.data).pathname=null===(t=e.payload)||void 0===t?void 0:t.pathname,null===(i=e.payload)||void 0===i||delete i.pathname,o.filter=e.payload,!0===(null===o||void 0===o||null===(n=o.meta)||void 0===n?void 0:n.success)&&200===(null===o||void 0===o||null===(l=o.meta)||void 0===l?void 0:l.status)){s.next=14;break}return L("error",(null===o||void 0===o||null===(r=o.meta)||void 0===r?void 0:r.message)||(null===o||void 0===o?void 0:o.message)),s.next=12,Object(pa.d)({type:Hi.FETCH_FAIL,payload:o});case 12:s.next=16;break;case 14:return s.next=16,Object(pa.d)({type:Hi.FETCH_SUCCESS,payload:o});case 16:s.next=21;break;case 18:s.prev=18,s.t0=s.catch(0),console.log("fetch dashboard ",s.t0);case 21:case"end":return s.stop()}}),Pd,null,[[0,18]])}function Gd(e){var t,i,n,l,a,o;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(pa.b)(Hd,e.payload);case 3:if(l=r.sent,(a=null===l||void 0===l?void 0:l.data).counter_key=null===(t=e.payload)||void 0===t?void 0:t.counter_key,!0===(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.success)&&200===(null===a||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status)){r.next=12;break}return L("error",(null===a||void 0===a||null===(o=a.meta)||void 0===o?void 0:o.message)||(null===a||void 0===a?void 0:a.message)),r.next=10,Object(pa.d)({type:Hi.REFRESH_COUNTER_FAIL,payload:a});case 10:r.next=14;break;case 12:return r.next=14,Object(pa.d)({type:Hi.REFRESH_COUNTER_SUCCESS,payload:a});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log("refresh counter ",r.t0);case 19:case"end":return r.stop()}}),Fd,null,[[0,16]])}function Qd(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(Hi.FETCH_REQUEST,Bd);case 2:return e.next=4,Object(pa.e)(Hi.REFRESH_COUNTER_REQUEST,Gd);case 4:case"end":return e.stop()}}),Id)}function Wd(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(Qd);case 2:case"end":return e.stop()}}),Md)}var Yd=mt.a.mark(Vd),qd=mt.a.mark(Jd),Kd=mt.a.mark(Xd),zd=function(e){return Y()({method:"GET",url:K.FEEDBACKS_URL,params:e})};function Vd(e){var t,i,n,l,a,o,r,s;return mt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,Object(pa.b)(zd,e.payload);case 3:if(a=d.sent,(o=null===a||void 0===a?void 0:a.data).filter=Object.assign({},null===e||void 0===e?void 0:e.payload),null===o||void 0===o||(null===(t=o.filter)||void 0===t||delete t.offset),null===o||void 0===o||(null===(i=o.filter)||void 0===i||delete i.limit),!0===(null===o||void 0===o||null===(n=o.meta)||void 0===n?void 0:n.success)&&200===(null===o||void 0===o||null===(l=o.meta)||void 0===l?void 0:l.status)){d.next=14;break}return L("error",(null===o||void 0===o||null===(r=o.meta)||void 0===r?void 0:r.message)||(null===o||void 0===o?void 0:o.message)),d.next=12,Object(pa.d)({type:Vi.FETCH_ALL_FAIL,payload:o});case 12:d.next=17;break;case 14:return o.isReset=0===(null===e||void 0===e||null===(s=e.payload)||void 0===s?void 0:s.offset),d.next=17,Object(pa.d)({type:Vi.FETCH_ALL_SUCCESS,payload:o});case 17:d.next=22;break;case 19:d.prev=19,d.t0=d.catch(0),console.log("fetch reach us users ",d.t0);case 22:case"end":return d.stop()}}),Yd,null,[[0,19]])}function Jd(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.f)(Vi.FETCH_ALL_REQUEST,Vd);case 2:case"end":return e.stop()}}),qd)}function Xd(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.c)(Jd);case 2:case"end":return e.stop()}}),Kd)}var $d=mt.a.mark(Zd);function Zd(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pa.a)([Aa(),Ka(),Fo(),Ko(),dr(),yr(),Br(),us(),Xd(),fs(),Rs(),Bs(),rd(),md(),_d(),Ud(),Wd()]);case 2:case"end":return e.stop()}}),$d)}var ec=ma,tc=Object(ha.a)({onError:function(e){alert("There is some problem. Please check console!"),console.error("ERROR",e)}}),ic=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||dl.d,nc=Object(dl.e)(ec,ic(Object(dl.a)(tc)));tc.run(Zd),r.a.render(Object(n.jsx)(p.a,{store:nc,children:Object(n.jsx)(s.a,{children:Object(n.jsx)(sl,{})})}),document.getElementById("root")),d()}},[[474,1,2]]]);
//# sourceMappingURL=main.65561863.chunk.js.map